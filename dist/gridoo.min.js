!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("handlebars/runtime"),require("jQuery")):"function"==typeof define&&define.amd?define(["handlebars.runtime","jQuery"],n):"object"==typeof exports?exports.Gridoo=n(require("handlebars/runtime"),require("jQuery")):e.Gridoo=n(e.Handlebars,e.jQuery)}("undefined"!=typeof self?self:this,function(e,n){return function(e){function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=12)}([function(n,t){n.exports=e},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?"disabled":""};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return(e+n).toString()};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return Object.defineProperty(e,"PaginationData",{get:function(){return e.paginationData},enumerable:!0,configurable:!0}),e.CalculatePaginationData=function(n){var t={};t.pageIndex=n.pageIndex,t.pageSize=n.pageSize,t.pageSizes=n.pageSizes,t.totalCount=n.totalCount,t.noOfPages=Math.ceil(n.totalCount/n.pageSize);var a=(n.pageIndex-1)*n.pageSize,i=n.pageSize>n.totalCount?n.totalCount:n.pageSize;t.range={min:a+1,max:a+i},t.firstPageLinkDisabled=1===t.noOfPages||1===t.pageIndex,t.lastPageLinkDisabled=1===t.noOfPages||t.pageIndex===t.noOfPages,t.prevPageLinkDisabled=1===t.pageIndex||t.pageIndex-1<=0,t.nextPageLinkDisabled=t.noOfPages===t.pageIndex||t.pageIndex+1>=t.noOfPages,e.paginationData=t},e}();n.Pager=a},function(e,t){e.exports=n},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.GetColumnObject=function(e,n){if(null==e||null==n)return null;var t;return n.forEach(function(n){if(n.id===e)return void(t=n)}),t},e.SetOrder=function(e,n,t){if(null==e||null==t)return null;var a;return t.forEach(function(t){if(t.id===e)return t.orderBy=n,void(a=t)}),a},e}();n.CommonUtil=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.None="None",e.Asc="Asc",e.Desc="Desc"}(n.GridOrderDirection||(n.GridOrderDirection={}))},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,i){var r,o,l=null!=n?n:e.nullContext||{},s=t.helperMissing,c="function",u=e.escapeExpression;return'                <tr>\r\n                    <td class="gui rv-parent" \r\n                        valign="top" \r\n                        data-filter-type="'+u((o=null!=(o=t.type||(null!=n?n.type:n))?o:s,typeof o===c?o.call(l,{name:"type",hash:{},data:i}):o))+'" \r\n                        data-filter-key="'+u((o=null!=(o=t.id||(null!=n?n.id:n))?o:s,typeof o===c?o.call(l,{name:"id",hash:{},data:i}):o))+'" \r\n                        data-filter-value="'+u((o=null!=(o=t.actualValue||(null!=n?n.actualValue:n))?o:s,typeof o===c?o.call(l,{name:"actualValue",hash:{},data:i}):o))+'">\r\n                        <span>'+u((o=null!=(o=t.columnName||(null!=n?n.columnName:n))?o:s,typeof o===c?o.call(l,{name:"columnName",hash:{},data:i}):o))+"</span>\r\n"+(null!=(r=t.if.call(l,null!=n?n.filterable:n,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?r:"")+"                    </td>\r\n                    <td>"+(null!=(o=null!=(o=t.columnValue||(null!=n?n.columnValue:n))?o:s,r=typeof o===c?o.call(l,{name:"columnValue",hash:{},data:i}):o)?r:"")+"</td>\r\n                </tr>\r\n"},2:function(e,n,t,a,i){return'                        <span class="gui m-l-5 rv-child gui-caption" >\r\n                            <i class="gui gui-icon gui-icon-add hover m-l-5 cursor-pointer addFilter"></i>\r\n                            <i class="gui gui-icon gui-icon-minus hover m-l-5 cursor-pointer removeFilter"></i>\r\n                        </span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,i){var r,o,l=null!=n?n:e.nullContext||{},s=t.helperMissing,c=e.escapeExpression;return'<tr id="details-row-'+c((o=null!=(o=t.index||i&&i.index)?o:s,"function"==typeof o?o.call(l,{name:"index",hash:{},data:i}):o))+'" class="gui gui-hidden detailsRow" aria-live="polite">\r\n    <td colspan="'+c((o=null!=(o=t.length||(null!=n?n.length:n))?o:s,"function"==typeof o?o.call(l,{name:"length",hash:{},data:i}):o))+'">\r\n        <table class="gui very compact selectable celled table detailsTable m-l-37 p-5" \r\n               style="width: auto;" >\r\n            <tbody>\r\n'+(null!=(r=t.each.call(l,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+"            </tbody>\r\n        </table>\r\n    </td>\r\n</tr>"},useData:!0})},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var i=t(0);e.exports=(i.default||i).template({1:function(e,n,i,r,o,l,s){var c,u=e.escapeExpression;return"            <option "+u(a(t(23)).call(null!=n?n:e.nullContext||{},null!=(c=null!=s[1]?s[1].paginationData:s[1])?c.pageSize:c,n,{name:"Selected",hash:{},data:o}))+">"+u(e.lambda(n,n))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,i,r,o,l,s){var c,u=e.lambda,d=e.escapeExpression,f=null!=n?n:e.nullContext||{};return'<div role="navigation" class="gui flex jc-sb gui-subheading-1 text-left m-0">\r\n    <div class="gui m-r-10">\r\n        <button class="gui firstLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.firstPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.firstPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the first page" \r\n                title="Go to the first page" \r\n                data-page="1">\r\n            <i class="gui-icon gui-icon-previous"></i>\r\n        </button>\r\n        <button class="gui prevLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.prevPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.prevPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the previous page" \r\n                title="Go to the previous page" \r\n                data-page="'+d(a(t(9)).call(f,null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,"-",1,{name:"math",hash:{},data:o}))+'">\r\n            <i class="gui-icon gui-icon-chevron-left"></i>\r\n            Prev\r\n        </button>\r\n    </div>\r\n    <div class="gui pager-input-container medium h-30 input flex jc-sb m-r-10">\r\n        <div class="gui m-r-5"> Page </div>\r\n        <input  class="gui pager-input h-30 w-50 m-r-5" \r\n                aria-label="Go to Page '+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                title="Go to Page '+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                value="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                type="text" \r\n                placeholder="Page Number ...">\r\n        <div class="no-of-pages-scan" \r\n             data-number-of-pages="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOfPages:c,n))+'">\r\n             of '+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOfPages:c,n))+'\r\n        </div>\r\n    </div>\r\n    <div class="gui m-r-10">\r\n        <button class="gui nextLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.nextPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.nextPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the next page" \r\n                title="Go to the next page" \r\n                data-page="'+d(a(t(9)).call(f,null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,"+",1,{name:"math",hash:{},data:o}))+'" >\r\n            Next\r\n            <i class="gui-icon gui-icon-chevron-right"></i>\r\n        </button>\r\n        <button class="gui lastLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.lastPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.lastPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the last page" \r\n                title="Go to the last page" \r\n                data-page="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOFpages:c,n))+'">\r\n            <i class="gui-icon gui-icon-next"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n<div class="gui gui-subheading-1 flex jc-sb text-right m-0">\r\n    <label  for="page-size-selector" \r\n            class="gui m-r-10">\r\n            Rows Per Page\r\n    </label>\r\n    <select id="page-size-selector" \r\n            class="gui pageSizeSelector m-r-10 h-30">\r\n'+(null!=(c=i.each.call(f,null!=(c=null!=n?n.paginationData:n)?c.pageSizes:c,{name:"each",hash:{},fn:e.program(1,o,0,l,s),inverse:e.noop,data:o}))?c:"")+'    </select>\r\n    <div class="gui m-r-10">\r\n        '+d(u(null!=(c=null!=(c=null!=n?n.paginationData:n)?c.range:c)?c.min:c,n))+" - "+d(u(null!=(c=null!=(c=null!=n?n.paginationData:n)?c.range:c)?c.max:c,n))+" of "+d(u(null!=(c=null!=n?n.paginationData:n)?c.totalCount:c,n))+" items\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n,t,a){return{"+":e+t,"-":e-t,"*":e*t,"/":e/t,"%":e%t}[n]};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var i=t(0);e.exports=(i.default||i).template({1:function(e,n,i,r,o){var l,s=null!=n?n:e.nullContext||{},c=e.escapeExpression,u=e.lambda;return'<tr aria-rowindex="'+c(a(t(2)).call(s,null!=n?n.rowIndex:n,1,{name:"Add",hash:{},data:o}))+'" class="mainRow '+c(a(t(11)).call(s,null!=n?n.isAllSelected:n,"active",{name:"BoolAttribute",hash:{},data:o}))+'" data-pk-attr="'+c(u(null!=n?n.keyColumn:n,n))+'" role="row" >\r\n    <td class="expansionArrows" \r\n        class="gui flex jc-sb"\r\n        aria-colindex="1"\r\n        role="gridcell">\r\n        <i aria-label="Press enter to expand the details Row" \r\n           title="Press enter to expand the details Row" \r\n           aria-controls="details-row-'+c(u(o&&o.index,n))+'" \r\n           class="gui gui-icon gui-icon-chevron-down expandDetailsRowIcon cursor-pointer" \r\n           tabindex="0" \r\n           aria-hidden="false"></i>\r\n        <i aria-label="Press enter to collapse the details Row" \r\n           title="Press enter to collapse the details Row" \r\n           aria-controls="details-row-'+c(u(o&&o.index,n))+'" \r\n           class="gui gui-icon gui-icon-chevron-up CollapseDetailsRowIcon cursor-pointer gui-hidden" \r\n           tabindex="0" \r\n           aria-hidden="true"></i>\r\n    </td>\r\n    <td role="gridcell"\r\n        aria-colindex="2" >\r\n        <input aria-label="Checkbox to select the row with Id '+c(u(null!=n?n.keyColumn:n,n))+'" \r\n            type="checkbox"\r\n            '+c(a(t(11)).call(s,null!=n?n.isAllSelected:n,"checked",{name:"BoolAttribute",hash:{},data:o}))+'\r\n            value="'+c(u(null!=n?n.keyColumn:n,n))+'" \r\n            class="select-key-checkbox cursor-pointer">\r\n    </td>\r\n'+(null!=(l=i.each.call(s,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?l:"")+"</tr>\r\n"+(null!=(l=e.invokePartial(t(7),n,{name:"grid-details-row",data:o,helpers:i,partials:r,decorators:e.decorators}))?l:"")},2:function(e,n,i,r,o){var l,s=e.lambda,c=e.escapeExpression;return'        <td title="'+c(s(null!=n?n.actualValue:n,n))+'"\r\n            aria-colindex="'+c(a(t(2)).call(null!=n?n:e.nullContext||{},o&&o.index,3,{name:"Add",hash:{},data:o}))+'"\r\n            class="body-'+c(s(null!=n?n.id:n,n))+'">'+(null!=(l=s(null!=n?n.columnValue:n,n))?l:"")+"</td>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,i){var r;return null!=(r=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowArray:n,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:""},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return e?n:""};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(4),i=t(13),r=t(14),o=t(3),l=t(15),s=t(16),c=t(18),u=t(19),d=t(20),f=t(21),p=t(22),g=function(){function e(e){var n=this;this.bindData=function(e,t){setTimeout(function(){o.Pager.CalculatePaginationData(t);var a=o.Pager.paginationData;n.internalRender(e,a)},1)},this.reRender=function(){setTimeout(function(){var e=o.Pager.paginationData;n.internalRender(n.gridTemplateService.Data,e)},1)},this.setColConfig=function(e){n.configStore.Options.columns=e},this.updateRows=function(e){if(void 0!==e&&e.length){n.gridTemplateService.updateRows(e);for(var t=$(n.configStore.Options.containerElement),a=n.configStore.Options.keyColumn,i=0,r=e;i<r.length;i++){var o=r[i];!function(e){var i=n.gridTemplateService.getTemplateForOneRow(e),r=$(i);t.find(".mainRow").each(function(n,t){var i=$(t);if(i.attr("data-pk-attr")===e[a])return i.html(r[0].innerHTML),void i.next().html(r[2].innerHTML)})}(o)}}},this.setOrder=function(e){for(var t=0,a=n.configStore.Options.columns;t<a.length;t++){var i=a[t];i.orderBy=void 0}if(void 0!==e&&null!==e&&0!==e.length)for(var r=0,o=e;r<o.length;r++)for(var l=o[r],s=0,c=n.configStore.Options.columns;s<c.length;s++){var i=c[s];if(l.colId===i.id){i.orderBy=l.orderBy;break}}},this.destroy=function(){var e=a(n.configStore.Options.containerElement);void 0!==e&&e.off(),$(window).off("resize",n.documentResizeHandler),$(document).off("click",n.documentClickHandler),$(window).off("resize",n.documentResizeHandlerForCs),$(document).off("click",n.documentClickHandlerForCs),n.scrollHandler},this.internalRender=function(e,t){var a=n.configStore.Options.chunkSize+n.getInitialRowCount();a=a>=e.length?e.length-1:a;var i=n.gridTemplateService.GetFirstTemplate(e,0,a);n.configStore.Options.containerElement.innerHTML=i,void 0!==n.scrollHandler&&null!==n.scrollHandler?(n.scrollHandler.removeHandler(),n.scrollHandler.resetParentOffset(),n.scrollHandler.setCurrentIndex(a+1)):n.scrollHandler=new f.ScrollHandler(n.configStore,n.gridTemplateService,a+1),n.scrollHandler.RegisterDomHandler(),n.setFocusToLastElement()},this.getInitialRowCount=function(){return Math.floor(.65*a(window).innerHeight()/32)},this.InitHandlers=function(){var e=a(n.configStore.Options.containerElement);n.handleChain=[],n.handleChain.push({handler:new l.DetailsRowHandler(n.configStore,e),name:c.HandlerNames.DetailsRow}),n.handleChain.push({handler:new s.FilterClickHandler(n.configStore,e),name:c.HandlerNames.FilterAction}),n.handleChain.push({handler:new u.HeaderClickHandler(n.configStore,e),name:c.HandlerNames.HeaderClick}),n.handleChain.push({handler:new d.PageSearchHandler(n.configStore,e),name:c.HandlerNames.PageSearch});n.handleChain.push({handler:new r.SelectEventHandler(n.configStore,e,n.gridTemplateService),name:c.HandlerNames.ColSettings}),n.handleChain.forEach(function(e){e.handler.RegisterDomHandler()}),a(window).resize(n.documentResizeHandler),a(document).click(n.documentClickHandler)},this.documentResizeHandlerForCs=function(e){n.manageColHandler.onResize(),e.stopPropagation()},this.documentClickHandlerForCs=function(e){n.manageColHandler.onDocumentClick(e),e.stopPropagation()},this.documentResizeHandlerForScroll=function(e){n.manageColHandler.onResize(),e.stopPropagation()},this.documentClickHandler=function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()},this.documentResizeHandler=function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()},this.setFocusToLastElement=function(){var e=n.configStore.getFocusableElement();if(e&&(e.classList.contains("firstLink")&&$(".table-footer .firstLink").focus(),e.classList.contains("nextLink")&&$(".table-footer .nextLink").focus(),e.classList.contains("prevLink")&&$(".table-footer .prevLink").focus(),e.classList.contains("lastLink")&&$(".table-footer .lastLink").focus(),e.classList.contains("pageSizeSelector")&&$(".table-footer .pageSizeSelector").focus(),e.classList.contains("pager-input")&&$(".table-footer .pager-input").focus(),"th"===e.tagName.toLowerCase())){var t,a=e.getAttribute("data-header-id");$(".table-header th").each(function(e,n){var i=$(n);if(i.attr("data-header-id")===a)return t=i,!1}),t&&t.focus()}},this.configStore=new i.ConfigStore(e),this.gridTemplateService=new p.GridTemplateService(this.configStore),this.InitHandlers()}return e}();n.Grid=g},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e){var n=this;if(this.defaultGridOptions={animationTime:200,chunkSize:5,columns:[],containerElement:null,hybridFunction:function(e,n){return"true"},keyColumn:"",onClickFilter:function(e,n,t){},onClickHeader:function(e,n){},onPageSearch:function(e,n){},onSelect:function(e){},showCaption:!1,caption:"",summary:""},this.setFocusableElement=function(e){n.focusableElement=e},this.getFocusableElement=function(){return n.focusableElement},this.SetHiddenOnConfig=function(e,t){for(var a=0,i=n.Options.columns;a<i.length;a++){var r=i[a];if(void 0===t)r.hidden=e;else if(r.id===t){r.hidden=e;break}}},this.extendOptions=function(e){return n.options=jQuery.extend({},n.defaultGridOptions,e)},this.extendOptions(e),null===e.containerElement)throw new Error("Please Provide a valid container Element object");this.options.columns.sort(function(e,n){return e.order-n.order})}return Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},set:function(e){this.options=e},enumerable:!0,configurable:!0}),e}();n.ConfigStore=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n,t){this.configStore=e,this.parentElement=n,this.gridTemplateService=t}return e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("change",".select-key-checkbox",function(n){var t=jQuery(n.target),a=t.is(":checked"),i=t.val().toString();a?(e.gridTemplateService.selectRows(i),t.parents(".mainRow").addClass("active")):(e.gridTemplateService.deSelectRows(i),t.parents(".mainRow").removeClass("active")),void 0!==n.originalEvent&&(e.configStore.Options.onSelect(e.gridTemplateService.Selected,a),n.stopPropagation())}),this.parentElement.on("change",".select-all-checkbox",function(n){var t=jQuery(n.target),a=t.is(":checked");e.parentElement.find(".select-key-checkbox").prop("checked",a),a?(e.gridTemplateService.selectAll(),e.parentElement.find(".mainTable .mainRow").addClass("active")):(e.gridTemplateService.deSelectAll(),e.parentElement.find(".mainTable .mainRow").removeClass("active")),e.configStore.Options.onSelect(e.gridTemplateService.Selected,a),n.stopPropagation()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.SelectEventHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){var t=this;this.configStore=e,this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .expansionArrows i",t.expandRow),t.parentElement.on("keyup",".table-body .expansionArrows i",t.expandRow)},this.expandRow=function(e){var n=e.keyCode||e.which;if("click"===e.type||"keyup"!==e.type||13===n||32===n){var a=jQuery(e.target),i=a.closest("tr").next(),r=a.hide().attr("aria-hidden","true"),o=a.siblings("i").show().attr("aria-hidden","false");a.hasClass("expandDetailsRowIcon")?(o.attr("aria-expanded","true"),i.slideDown(t.configStore.Options.animationTime)):(r.attr("aria-expanded","true"),i.slideUp(t.configStore.Options.animationTime)),o.focus(),e.stopPropagation()}},this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.DetailsRowHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(5),i=t(17),r=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .detailsRow .detailsTable td i",function(e){var n=jQuery(e.target),r=n.parents("td"),o=r.attr("data-filter-key"),l=r.attr("data-filter-value"),s=r.attr("data-filter-type"),c=a.CommonUtil.GetColumnObject(o,t.configStore.Options.columns);if(void 0!==c&&null!==c&&c.filterable){var u=i.FilterActionType.Add;n.hasClass("removeFilter")&&(u=i.FilterActionType.Minus),t.configStore.setFocusableElement(e.target),t.configStore.Options.onClickFilter(o,l,u,s),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.FilterClickHandler=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.Add="Add",e.Minus="Minus"}(n.FilterActionType||(n.FilterActionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.FilterAction=0]="FilterAction",e[e.HeaderClick=1]="HeaderClick",e[e.Scroll=2]="Scroll",e[e.PageSearch=3]="PageSearch",e[e.DetailsRow=4]="DetailsRow",e[e.ToggleColumn=5]="ToggleColumn",e[e.ColSettings=6]="ColSettings"}(n.HandlerNames||(n.HandlerNames={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(5),i=t(6),r=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-header th",t.handleHeaderSort),t.parentElement.on("keyup",".table-header th",t.handleHeaderSort),t.parentElement.on("mousedown",".table-header th",t.handleMouseDown),t.parentElement.on("focusin",".table-header th",t.handleHeaderFocus)},this.handleMouseDown=function(e){t.wasHeaderClicked=!0},this.handleHeaderFocus=function(e){if(t.lastFocusedElement!==e.target){if(t.wasHeaderClicked)return;t.lastFocusedElement=e.target,t.wasHeaderClicked=!1}var n,a=jQuery(e.target),i=a.position().left,r=a.width(),o=t.parentElement.find(".table-body"),l=t.parentElement.find(".mainTable"),s=o.width(),c=l.width()-s,u=i+2*r;n=u>s?i>c?c:i:0,o.scrollLeft(n),e.stopPropagation()},this.handleHeaderSort=function(e){var n=e.keyCode||e.which;if("click"===e.type||"keyup"!==e.type||13===n||32===n){var r=jQuery(e.target).closest("th"),o=r.attr("data-header-id"),l=a.CommonUtil.GetColumnObject(o,t.configStore.Options.columns);if(void 0!==l&&null!==l&&l.sortable){var s,c=r.find("i"),u=c.first(),d=c.last();c.is(":visible")?u.is(":visible")?(s=i.GridOrderDirection.Desc,u.hide(),d.show()):(s=i.GridOrderDirection.Asc,d.hide(),u.show()):(s=i.GridOrderDirection.Asc,u.show()),r.attr("aria-sort",s===i.GridOrderDirection.Desc?"descending":"ascending"),a.CommonUtil.SetOrder(o,s,t.configStore.Options.columns),t.configStore.setFocusableElement(e.target),t.configStore.Options.onClickHeader(o,s),e.stopPropagation()}}},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.HeaderClickHandler=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(4),i=t(3),r=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-footer .firstLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(i.Pager.PaginationData.pageSize,1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .nextLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(i.Pager.PaginationData.pageSize,i.Pager.PaginationData.pageIndex+1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .prevLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(i.Pager.PaginationData.pageSize,i.Pager.PaginationData.pageIndex-1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .lastLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(i.Pager.PaginationData.pageSize,i.Pager.PaginationData.noOfPages),e.stopPropagation()}),t.parentElement.on("change",".table-footer .pageSizeSelector",function(e){t.configStore.setFocusableElement(e.target);var n=+a(e.target).val().toString();t.configStore.options.onPageSearch(n,i.Pager.PaginationData.pageIndex),e.stopPropagation()}),t.parentElement.on("keypress",".table-footer .pager-input",function(e){t.configStore.setFocusableElement(e.target);var n=a(e.target),r=i.Pager.PaginationData;if(13===e.keyCode){var o=+n.val().toString();isNaN(o)||o>r.noOfPages||o<1?n.val(r.pageIndex):t.configStore.options.onPageSearch(r.pageSize,o)}e.stopPropagation()})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(){},e}();n.PageSearchHandler=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n,t){var a=this;this.rendering=!1,this.watches=[],this.setCurrentIndex=function(e){a.currentIndex=e,a.gridTemplateService.CurrentIndex=e},this.getCurrentIndex=function(){return a.currentIndex},this.RegisterDomHandler=function(){a.parentElement.find(".table-body").on("scroll",a.handleResize)},this.removeHandler=function(){a.parentElement.find(".table-body").off("scroll",a.handleResize)},this.resetParentOffset=function(){a.parentOffSetLeft=a.parentElement.offset().left,a.leftOffset=a.parentElement.find(".table-header").offset().left},this.watchWidth=function(){a.parentOffSetLeft=a.parentElement.offset().left,a.watches.push(setInterval(a.setHeaderOffset,300))},this.unWatchWidth=function(){if(void 0!==a.watches&&null!==a.watches)for(var e=0,n=a.watches;e<n.length;e++){var t=n[e];clearInterval(t)}},this.handleResize=function(e){var n=a.parentElement.find(".table-body");void 0!==a.leftOffset&&null!==a.leftOffset||(a.leftOffset=a.parentElement.find(".table-header").offset().left),a.parentElement.find(".table-header").css({"margin-left":-1*n.scrollLeft()});var t=n.find(".mainTable").height(),i=n.height();if(e.preventDefault(),a.rendering)return void e.stopPropagation();if(i+n.scrollTop()-.8*t>0){if(a.currentIndex>=a.gridTemplateService.DataLength)return;a.rendering=!0;var r=a.currentIndex+a.configStore.Options.chunkSize;r>=a.gridTemplateService.DataLength&&(r=a.gridTemplateService.DataLength-1);var o=jQuery(a.gridTemplateService.getTemplate(a.currentIndex,r));n.find(".mainTableBody").append(o),a.setCurrentIndex(r+1),a.rendering=!1}e.stopPropagation()},this.setHeaderOffset=function(){var e=a.parentElement.offset().left;if(a.parentOffSetLeft!==e){var n=a.parentElement.find(".table-body");void 0!==a.leftOffset&&null!==a.leftOffset||(a.leftOffset=a.parentElement.find(".table-header").offset().left),a.leftOffset=a.leftOffset-(a.parentOffSetLeft-e),a.parentElement.find(".table-header").offset({left:a.leftOffset,top:0}),a.parentOffSetLeft=e,n.scrollLeft(n.scrollLeft()-1)}},this.configStore=e,this.parentElement=jQuery(this.configStore.Options.containerElement),this.gridTemplateService=n,this.setCurrentIndex(t)}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.ScrollHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(7),i=t(8),r=t(10),o=t(24),l=t(26),s=t(3),c=function(){function e(e){var n=this;this.selected=[],this.isAllSelected=function(){return 0!==n.selected.length&&n.selected.length===n.data.length},this.GetFirstTemplate=function(e,t,a){n.data=e,n.selected=[];var i=n.GetRowsHtml(t,a);return n.templateFunctionForGrid({showCaption:n.configStore.Options.showCaption,summary:n.configStore.Options.summary,rowLength:n.data.length,columns:n.configStore.Options.columns,mainRowArray:i,paginationData:s.Pager.PaginationData,caption:n.configStore.Options.caption})},this.getTemplate=function(e,t){var a=n.GetRowsHtml(e,t);return n.templateFunctionForMainRow({columns:n.configStore.Options.columns,mainRowArray:a,caption:n.configStore.Options.caption})},this.getTemplateForOneRow=function(e){var t=n.configStore.Options.emptyValue,a=n.getMainRow(e,t),i=[{isAllSelected:n.isAllSelected(),keyColumn:e[n.configStore.Options.keyColumn],mainRowColArray:a,length:n.configStore.Options.columns.length}];return n.templateFunctionForMainRow({mainRowArray:i})},this.GetManageColumnsHtml=function(){return n.templateFunctionForManageCol({columns:n.configStore.Options.columns})},this.GetRowsHtml=function(e,t){for(var a=[],i=n.configStore.Options.emptyValue,r=e;r<=t;r++){var o=n.data[r],l=n.getMainRow(o,i);a.push({rowIndex:r,isAllSelected:n.isAllSelected(),keyColumn:o[n.configStore.Options.keyColumn],mainRowColArray:l,length:n.configStore.Options.columns.length})}return a},this.selectRows=function(e){for(var t=n.configStore.Options.keyColumn,a=[],i=!1,r=0,o=n.selected;r<o.length;r++){if(e===o[r][t]){i=!0;break}}i||a.push(e);for(var l=0,s=a;l<s.length;l++)for(var c=s[l],u=0,d=n.data;u<d.length;u++){var f=d[u];if(c===f[t]){n.selected.push(f);break}}},this.deSelectRows=function(e){for(var t=[],a=n.configStore.Options.keyColumn,i=0,r=n.selected;i<r.length;i++){var o=r[i];e!==o[a]&&t.push(o)}n.selected=t},this.selectAll=function(){n.selected=n.data},this.deSelectAll=function(){n.selected=[]},this.updateRows=function(e){var t=n.configStore.Options.keyColumn;if(void 0!==e&&e.length){for(var a=0,i=e;a<i.length;a++)for(var r=i[a],o=0,l=n.data;o<l.length;o++){var s=l[o];if(r[t]===s[t]){s=r;break}}for(var c=0,u=e;c<u.length;c++)for(var r=u[c],d=0,f=n.selected;d<f.length;d++){var s=f[d];if(r[t]===s[t]){s=r;break}}}},this.getMainRow=function(e,t){for(var a=[],i=0,r=n.configStore.Options.columns;i<r.length;i++){var o=r[i],l=e[o.id];o.renderHybrid&&(l=n.configStore.Options.hybridFunction(o,e)),void 0!==t&&l===t&&(l=""),a.push({columnValue:l,type:o.type,hidden:o.hidden,actualValue:e[o.id],columnName:o.name,id:o.id,filterable:o.filterable})}return a},this.configStore=e,this.templateFunctionForGrid=l,this.templateFunctionForMainRow=r,this.templateFunctionForDetailsRow=a,this.templateFunctionForFooter=i,this.templateFunctionForManageCol=o}return Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Selected",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CurrentIndex",{set:function(e){this.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataLength",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),e}();n.GridTemplateService=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return e===n?"selected":""};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var i=t(0);e.exports=(i.default||i).template({1:function(e,n,i,r,o){var l=e.lambda,s=e.escapeExpression;return'                <tr data-header-id="'+s(l(null!=n?n.name:n,n))+'">\r\n                    <td>\r\n                        <label>\r\n                            <input type="checkbox" class="col-settings-hidden-checkbox gui m-r-10" value="'+s(l(null!=n?n.id:n,n))+'" '+s(a(t(25)).call(null!=n?n:e.nullContext||{},null!=n?n.hidden:n,{name:"Checked",hash:{},data:o}))+">\r\n                            "+s(l(null!=n?n.name:n,n))+"\r\n                        </label>\r\n                    </td>\r\n                </tr>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,i){var r;return'<div class="gui of-hidden p-10 min-w-50 w-auto fluid-h flex column container" >\r\n    <div class="col-settings-header" style="width: 100%">\r\n        <div class="gui mini fluid icon input">\r\n            <input class="col-settings-filter" type="text" placeholder="Search filter...">\r\n            <i class="search icon"></i>\r\n        </div>\r\n        <div class="gui m-t-10">\r\n            <a class="gui left show-all-column">Show All</a>\r\n            <a class="gui right hide-all-column">Hide All</a>\r\n        </div>\r\n        <div class="gui clear"></div>\r\n    </div>\r\n    <div class="gui clear"></div>\r\n    <div class="col-settings-table gui fluid h-90 of-auto p-5 m-t-10" >\r\n        <table class="gui small very border-less basic compact table">\r\n            <tbody>\r\n'+(null!=(r=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+"            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"},useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?"":"checked"};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var i=t(0);e.exports=(i.default||i).template({1:function(e,n,t,a,i){return'                <caption class="gui gui-subheading-2 m-0 p-0 text-left">'+e.escapeExpression(e.lambda(null!=n?n.caption:n,n))+"</caption>\n"},3:function(e,n,i,r,o){var l;return"                    "+(null!=(l=a(t(27)).call(null!=n?n:e.nullContext||{},n,{name:"Column",hash:{},data:o}))?l:"")+"\n"},5:function(e,n,t,a,i){var r;return null!=(r=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.sortable:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?r:""},6:function(e,n,i,r,o){var l;return"                            "+(null!=(l=a(t(28)).call(null!=n?n:e.nullContext||{},n,o&&o.index,{name:"Ordered",hash:{},data:o}))?l:"")+"\n"},8:function(e,n,i,r,o){var l,s=null!=n?n:e.nullContext||{},c=e.escapeExpression,u=e.lambda;return'                        <th role="columnheader"\n                            aria-colindex="'+c(a(t(2)).call(s,o&&o.index,3,{name:"Add",hash:{},data:o}))+'"\n                            aria-sort="none" \n                            title="'+c(u(null!=n?n.name:n,n))+'"\n                            tabindex="-1"\n                            class="gui cursor-default disabled" \n                            '+(null!=(l=a(t(29)).call(s,null!=n?n.hidden:n,{name:"AriaHidden",hash:{},data:o}))?l:"")+'\n                            id="header-'+c(u(null!=n?n.id:n,n))+'" \n                            data-header-id="'+c(u(null!=n?n.id:n,n))+'">\n                            <span class="gui sub header">'+c(u(null!=n?n.name:n,n))+"</span>\n                        </th>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,i,r,o){var l,s=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{};return'<div class="inner-container gui fluid container" \n    aria-readonly="true" \n    aria-rowcount="'+c(s(null!=n?n.rowLength:n,n))+'" \n    aria-colcount="'+c(a(t(2)).call(u,null!=(l=null!=n?n.columns:n)?l.length:l,2,{name:"Add",hash:{},data:o}))+'"\n    aria-label="'+c(s(null!=n?n.caption:n,n))+'"\n    summary="'+c(s(null!=n?n.summary:n,n))+'"\n    aria-live="polite"\n    role="grid" \n    style="padding:0%;">\n    <div class="table-header">\n        <table id="headertable" role="presentation" class="gui basic large compact sortable fixed single line table">\n'+(null!=(l=i.if.call(u,null!=n?n.showCaption:n,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?l:"")+'            <colgroup class="headerColGroup">\n                <col style="width:40px;" />\n                <col style="width:40px;" />\n'+(null!=(l=i.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?l:"")+'            </colgroup>\n            <thead role="rowgroup">\n                <tr role="row">\n                    <th role="columnheader" aria-colindex="1"></th>\n                    <th role="columnheader" \n                        aria-label="Select all rows of '+c(s(null!=n?n.caption:n,n))+' Checkbox" \n                        aria-colindex="2"\n                        id="select-all-checkbox">\n                        <input  type="checkbox" \n                                aria-labelledby="select-all-checkbox"\n                                class="select-all-checkbox cursor-pointer">\n                    </th>\n'+(null!=(l=i.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?l:"")+'                </tr>\n            </thead>\n        </table>\n    </div>\n    <div class="table-body">\n        <table role="presentation" class="gui basic large compact fixed selectable single line table mainTable">\n            <colgroup class="bodyColGroup">\n                <col style="width:40px;" /> \n                <col style="width:40px;" />\n'+(null!=(l=i.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?l:"")+'            </colgroup>\n            <tbody class="mainTableBody" role="rowgroup">\n'+(null!=(l=e.invokePartial(t(10),n,{name:"grid-main-row",data:o,indent:"                ",helpers:i,partials:r,decorators:e.decorators}))?l:"")+'            </tbody>\n        </table>\n    </div>\n    <div class="table-footer gui h-auto fluid-w flex jc-sb p-5 m-0">\n'+(null!=(l=e.invokePartial(t(8),n,{name:"grid-footer",data:o,indent:"           ",helpers:i,partials:r,decorators:e.decorators}))?l:"")+"    </div>\n</div>"},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return'<col style="width : '+(e.hidden?0:e.width)+'px;"data-header-id="'+e.id+'" />'};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(6),i=function(e,n){var t,i,r=parseInt(n,10)+3,o=e.hidden?' aria-hidden="true"':' aria-hidden="false"',l=e.sortable&&!e.hidden?0:-1;return e.orderBy===a.GridOrderDirection.Asc?(i=' <i class="gui gui-icon gui-icon-arrow-up" aria-hidden="false" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>',t='aria-sort="ascending"',e.name+" sorted ascending"):e.orderBy===a.GridOrderDirection.Desc?(i='<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down" aria-hidden="false" ></i>',t='aria-sort="descending"',e.name+" sorted descending"):(i='<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>',t='aria-sort="none"',e.name+" Press enter to sort in ascending order."),'<th role="columnheader" aria-colindex="'+r+'" tabindex="'+l+'" class="gui cursor-pointer" id="header-'+e.id+'" data-header-id="'+e.id+'" '+t+o+' aria-label="'+t+'"  title="'+e.name+'"   > <span class="gui sub header m-r-5">'+e.name+"</span>"+i+" </th>"};n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?'aria-hidden="true"':'aria-hidden="false"'};n.default=a}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9ncmlkb28ubWluLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiYTJhY2JlZTI5NGE3NTAzZDlhYiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9Iiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvQWRkLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93LmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9tYWluL0dyaWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbmZpZy9Db25maWdTdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL0FyaWFIaWRkZW4udHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInZhbHVlIiwiZGlzYWJsZWQiLCJib29sIiwiZGVmYXVsdCIsIkFkZCIsImxlZnQiLCJyaWdodCIsInRvU3RyaW5nIiwiUGFnZXIiLCJwYWdpbmF0aW9uRGF0YSIsIkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhIiwicGFnaW5hdGlvbklucHV0IiwicGFnZUluZGV4IiwicGFnZVNpemUiLCJwYWdlU2l6ZXMiLCJ0b3RhbENvdW50Iiwibm9PZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJtaW5OdW0iLCJsb3dlckxpbWl0T2Zmc2V0IiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJmaXJzdFBhZ2VMaW5rRGlzYWJsZWQiLCJsYXN0UGFnZUxpbmtEaXNhYmxlZCIsInByZXZQYWdlTGlua0Rpc2FibGVkIiwibmV4dFBhZ2VMaW5rRGlzYWJsZWQiLCJDb21tb25VdGlsIiwiR2V0Q29sdW1uT2JqZWN0IiwiY29sdW1uSWQiLCJjb2x1bW5zIiwicmV0Q29sIiwiZm9yRWFjaCIsImNvbCIsImlkIiwiU2V0T3JkZXIiLCJvcmRlckJ5IiwiR3JpZE9yZGVyRGlyZWN0aW9uIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiMSIsImNvbnRhaW5lciIsImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiLCJzdGFjazEiLCJoZWxwZXIiLCJhbGlhczEiLCJudWxsQ29udGV4dCIsImFsaWFzMiIsImhlbHBlck1pc3NpbmciLCJhbGlhczMiLCJhbGlhczQiLCJlc2NhcGVFeHByZXNzaW9uIiwidHlwZSIsImhhc2giLCJhY3R1YWxWYWx1ZSIsImNvbHVtbk5hbWUiLCJmaWx0ZXJhYmxlIiwiZm4iLCJwcm9ncmFtIiwiaW52ZXJzZSIsIm5vb3AiLCJjb2x1bW5WYWx1ZSIsIjIiLCJjb21waWxlciIsIm1haW4iLCJpbmRleCIsImxlbmd0aCIsImVhY2giLCJtYWluUm93Q29sQXJyYXkiLCJ1c2VEYXRhIiwiX19kZWZhdWx0Iiwib2JqIiwiYmxvY2tQYXJhbXMiLCJkZXB0aHMiLCJsYW1iZGEiLCJub09GcGFnZXMiLCJ1c2VEZXB0aHMiLCJtYXRoIiwibHZhbHVlIiwib3BlcmF0b3IiLCJydmFsdWUiLCJvcHRpb25zIiwiKyIsIi0iLCIqIiwiLyIsIiUiLCJyb3dJbmRleCIsImlzQWxsU2VsZWN0ZWQiLCJrZXlDb2x1bW4iLCJpbnZva2VQYXJ0aWFsIiwiZGVjb3JhdG9ycyIsIm1haW5Sb3dBcnJheSIsInVzZVBhcnRpYWwiLCJib29sQXR0cmlidXRlIiwic3RyIiwialF1ZXJ5IiwiQ29uZmlnU3RvcmVfMSIsIlNlbGVjdEV2ZW50SGFuZGxlcl8xIiwiUGFnZXJfMSIsIkRldGFpbHNSb3dIYW5kbGVyXzEiLCJGaWx0ZXJDbGlja0hhbmRsZXJfMSIsIkhhbmRsZXJOYW1lc18xIiwiSGVhZGVyQ2xpY2tIYW5kbGVyXzEiLCJQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEiLCJTY3JvbGxIYW5kbGVyXzEiLCJHcmlkVGVtcGxhdGVTZXJ2aWNlXzEiLCJHcmlkIiwiX3RoaXMiLCJiaW5kRGF0YSIsInNldFRpbWVvdXQiLCJwYWdlRGF0YSIsImludGVybmFsUmVuZGVyIiwicmVSZW5kZXIiLCJncmlkVGVtcGxhdGVTZXJ2aWNlIiwiRGF0YSIsInNldENvbENvbmZpZyIsImNvbENvbmZpZyIsImNvbmZpZ1N0b3JlIiwiT3B0aW9ucyIsInVwZGF0ZVJvd3MiLCJyb3dzIiwidW5kZWZpbmVkIiwiJCIsImNvbnRhaW5lckVsZW1lbnQiLCJrZXkiLCJfaSIsInJvd3NfMSIsInJvdyIsInJvd0h0bWwiLCJnZXRUZW1wbGF0ZUZvck9uZVJvdyIsInJvd0pxIiwiZmluZCIsIm1SIiwibXJKcSIsImF0dHIiLCJodG1sIiwiaW5uZXJIVE1MIiwibmV4dCIsInNldE9yZGVyIiwib3JkZXJCeUxpc3QiLCJfYSIsIl9iIiwib3JkZXJCeUxpc3RfMSIsIm9yZGVyQ29sIiwiX2MiLCJfZCIsImNvbElkIiwiZGVzdHJveSIsInBhcmVudEVsZW1lbnQiLCJvZmYiLCJ3aW5kb3ciLCJkb2N1bWVudFJlc2l6ZUhhbmRsZXIiLCJkb2N1bWVudCIsImRvY3VtZW50Q2xpY2tIYW5kbGVyIiwiZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MiLCJkb2N1bWVudENsaWNrSGFuZGxlckZvckNzIiwic2Nyb2xsSGFuZGxlciIsImxhc3RJbmRleCIsImNodW5rU2l6ZSIsImdldEluaXRpYWxSb3dDb3VudCIsImdyaWRDb250ZW50IiwiR2V0Rmlyc3RUZW1wbGF0ZSIsInJlbW92ZUhhbmRsZXIiLCJyZXNldFBhcmVudE9mZnNldCIsInNldEN1cnJlbnRJbmRleCIsIlNjcm9sbEhhbmRsZXIiLCJSZWdpc3RlckRvbUhhbmRsZXIiLCJzZXRGb2N1c1RvTGFzdEVsZW1lbnQiLCJmbG9vciIsImlubmVySGVpZ2h0IiwiSW5pdEhhbmRsZXJzIiwiaGFuZGxlQ2hhaW4iLCJwdXNoIiwiaGFuZGxlciIsIkRldGFpbHNSb3dIYW5kbGVyIiwiSGFuZGxlck5hbWVzIiwiRGV0YWlsc1JvdyIsIkZpbHRlckNsaWNrSGFuZGxlciIsIkZpbHRlckFjdGlvbiIsIkhlYWRlckNsaWNrSGFuZGxlciIsIkhlYWRlckNsaWNrIiwiUGFnZVNlYXJjaEhhbmRsZXIiLCJQYWdlU2VhcmNoIiwiU2VsZWN0RXZlbnRIYW5kbGVyIiwiQ29sU2V0dGluZ3MiLCJyZXNpemUiLCJjbGljayIsImV2ZW50IiwibWFuYWdlQ29sSGFuZGxlciIsIm9uUmVzaXplIiwic3RvcFByb3BhZ2F0aW9uIiwib25Eb2N1bWVudENsaWNrIiwiZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yU2Nyb2xsIiwiZWxlbWVudCIsImdldEZvY3VzYWJsZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZvY3VzIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwibmV3Rm9jdXNhYmxlXzEiLCJkYXRhSGVhZGVySWRfMSIsImdldEF0dHJpYnV0ZSIsImVsZW0iLCJlYWNoSGVhZGVyIiwiQ29uZmlnU3RvcmUiLCJHcmlkVGVtcGxhdGVTZXJ2aWNlIiwiZGVmYXVsdEdyaWRPcHRpb25zIiwiYW5pbWF0aW9uVGltZSIsImh5YnJpZEZ1bmN0aW9uIiwiY29sdW1uIiwib25DbGlja0ZpbHRlciIsImFjdGlvblR5cGUiLCJvbkNsaWNrSGVhZGVyIiwiZGlyZWN0aW9uIiwib25QYWdlU2VhcmNoIiwib25TZWxlY3QiLCJzaG93Q2FwdGlvbiIsImNhcHRpb24iLCJzdW1tYXJ5Iiwic2V0Rm9jdXNhYmxlRWxlbWVudCIsImZvY3VzYWJsZUVsZW1lbnQiLCJTZXRIaWRkZW5PbkNvbmZpZyIsImhpZGRlbiIsImV4dGVuZE9wdGlvbnMiLCJpbnB1dE9wdGlvbnMiLCJleHRlbmQiLCJFcnJvciIsInNvcnQiLCJwcmV2Iiwib3JkZXIiLCJzZXQiLCJvbiIsInRhcmdldCIsImNoZWNrZWQiLCJpcyIsInZhbCIsInNlbGVjdFJvd3MiLCJwYXJlbnRzIiwiYWRkQ2xhc3MiLCJkZVNlbGVjdFJvd3MiLCJyZW1vdmVDbGFzcyIsIm9yaWdpbmFsRXZlbnQiLCJTZWxlY3RlZCIsInByb3AiLCJzZWxlY3RBbGwiLCJkZVNlbGVjdEFsbCIsImV4cGFuZFJvdyIsImNvZGUiLCJrZXlDb2RlIiwid2hpY2giLCJhcnJvdyIsImRldGFpbHNSb3ciLCJjbG9zZXN0IiwiY3VycmVudEljb24iLCJoaWRlIiwib3RoZXJJY29uIiwic2libGluZ3MiLCJzaG93IiwiaGFzQ2xhc3MiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiQ29sdW1uVXRpbF8xIiwiRmlsdGVyQWN0aW9uVHlwZV8xIiwicGFyZW50VGQiLCJmaWx0ZXJBY3Rpb24iLCJGaWx0ZXJBY3Rpb25UeXBlIiwiTWludXMiLCJHcmlkT3JkZXJEaXJlY3Rpb25fMSIsImhhbmRsZUhlYWRlclNvcnQiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVIZWFkZXJGb2N1cyIsIndhc0hlYWRlckNsaWNrZWQiLCJsYXN0Rm9jdXNlZEVsZW1lbnQiLCJzY3JvbGxMZWZ0QnkiLCJoZWFkZXIiLCJsZWZ0UG9zdGl0aW9uIiwicG9zaXRpb24iLCJoZWFkZXJXaWR0aCIsIndpZHRoIiwidGFibGVCb2R5IiwibWFpblRhYmxlQm9keSIsInZpc2libGVUYm9keVdpZHRoIiwibWF4U2Nyb2xsIiwiY3VycmVudFBvc2l0aW9uIiwic2Nyb2xsTGVmdCIsImhlYWRlcklkIiwic29ydGFibGUiLCJhcnJvd0ljb25zIiwidXBBcnJvd0ljb24iLCJmaXJzdCIsImRvd25BcnJvd0ljb24iLCJsYXN0IiwiRGVzYyIsIkFzYyIsIlBhZ2luYXRpb25EYXRhIiwiaXAiLCJpc05hTiIsImN1cnJlbnRJbmRleCIsInJlbmRlcmluZyIsIndhdGNoZXMiLCJDdXJyZW50SW5kZXgiLCJnZXRDdXJyZW50SW5kZXgiLCJoYW5kbGVSZXNpemUiLCJwYXJlbnRPZmZTZXRMZWZ0Iiwib2Zmc2V0IiwibGVmdE9mZnNldCIsIndhdGNoV2lkdGgiLCJzZXRJbnRlcnZhbCIsInNldEhlYWRlck9mZnNldCIsInVuV2F0Y2hXaWR0aCIsIndhdGNoIiwiY2xlYXJJbnRlcnZhbCIsInRCb2R5T2JqIiwiY3NzIiwibWFyZ2luLWxlZnQiLCJhY3R1YWxUYWJsZUhlaWdodCIsImhlaWdodCIsInNjcm9sbENvbnRhaW5lckhlaWdodCIsInByZXZlbnREZWZhdWx0Iiwic2Nyb2xsVG9wIiwiRGF0YUxlbmd0aCIsImdldFRlbXBsYXRlIiwiYXBwZW5kIiwidG9wIiwiR3JpZERldGFpbHNSb3dUZW1wbGF0ZSIsIkdyaWRGb290ZXIiLCJHcmlkTWFpblJvd1RlbXBsYXRlIiwiTWFuYWdlQ29sdW1uVGVtcGxhdGUiLCJHcmlkVGVtcGxhdGUiLCJzZWxlY3RlZCIsImZpcnN0SW5kZXgiLCJHZXRSb3dzSHRtbCIsInRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkIiwicm93TGVuZ3RoIiwidGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3ciLCJlbXB0eVN0ciIsImVtcHR5VmFsdWUiLCJnZXRNYWluUm93IiwiR2V0TWFuYWdlQ29sdW1uc0h0bWwiLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sIiwicm93SWQiLCJuZXdTZWxlY3RlZCIsImV4aXN0cyIsIm5ld1NlbGVjdGVkXzEiLCJ0b0JlQWRkZWQiLCJvbmVSb3ciLCJkYXRhUm93Iiwicm93c18yIiwiX2UiLCJyZW5kZXJIeWJyaWQiLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyIsInRlbXBsYXRlRnVuY3Rpb25Gb3JGb290ZXIiLCJpbnB1dCIsIjMiLCI1IiwiNiIsIjgiLCJpbmRlbnQiLCJDb2x1bW4iLCJvcmRlcmVkIiwiYXJpYVNvcnRTdHIiLCJoZWFkZXJJY29uTWsiLCJwYXJzZWRJbnQiLCJwYXJzZUludCIsImFyaWFIaWRkZW5TdHIiLCJ0YWJJbmRleCIsImFyaWFIaWRkZW4iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELEVBQUFHLFFBQUEsc0JBQUFBLFFBQUEsV0FDQSxrQkFBQUMsZ0JBQUFDLElBQ0FELFFBQUEsK0JBQUFKLEdBQ0EsZ0JBQUFDLFNBQ0FBLFFBQUEsT0FBQUQsRUFBQUcsUUFBQSxzQkFBQUEsUUFBQSxXQUVBSixFQUFBLE9BQUFDLEVBQUFELEVBQUEsV0FBQUEsRUFBQSxTQUNDLG1CQUFBTyxXQUFBQyxLQUFBLFNBQUFDLEVBQUFDLEdBQ0QsTUNBZ0IsVUFBVUMsR0NOMUIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFYLE9BR0EsSUFBQUMsR0FBQVcsRUFBQUQsSUFDQUUsRUFBQUYsRUFDQUcsR0FBQSxFQUNBZCxXQVVBLE9BTkFTLEdBQUFFLEdBQUFJLEtBQUFkLEVBQUFELFFBQUFD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TyxLQUFPLFVBQ3pEK1gsRUFDQSxTQUdabFosR0FBQXNDLFFBQWUwVyxHOUJzcERULFNBQVUvWSxFQUFRRCxFQUFTVSxHQUVqQyxZQUVBWSxRQUFPQyxlQUFldkIsRUFBUyxjQUFnQm1DLE9BQU8sRytCbHNEdEQsSUFBTW9YLEdBQWEsU0FBQ2xYLEdBQ2hCLE1BQU9BLEdBQU8scUJBQXlCLHNCQUczQ3JDLEdBQUFzQyxRQUFlaVgiLCJmaWxlIjoiZ3JpZG9vLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImhhbmRsZWJhcnMvcnVudGltZVwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJoYW5kbGViYXJzLnJ1bnRpbWVcIiwgXCJqUXVlcnlcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiR3JpZG9vXCJdID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJvb3RbXCJIYW5kbGViYXJzXCJdLCByb290W1wialF1ZXJ5XCJdKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImhhbmRsZWJhcnMucnVudGltZVwiLCBcImpRdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkdyaWRvb1wiXSA9IGZhY3Rvcnkocm9vdFtcIkhhbmRsZWJhcnNcIl0sIHJvb3RbXCJqUXVlcnlcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIHtcInJvb3RcIjpcIkhhbmRsZWJhcnNcIixcImFtZFwiOlwiaGFuZGxlYmFycy5ydW50aW1lXCIsXCJjb21tb25qczJcIjpcImhhbmRsZWJhcnMvcnVudGltZVwiLFwiY29tbW9uanNcIjpcImhhbmRsZWJhcnMvcnVudGltZVwifSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGRpc2FibGVkID0gZnVuY3Rpb24gKGJvb2wpIHtcclxuICAgIHJldHVybiBib29sID8gXCJkaXNhYmxlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gZGlzYWJsZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0FkZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBZGQgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcclxuICAgIHJldHVybiAobGVmdCArIHJpZ2h0KS50b1N0cmluZygpO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBZGQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBQYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2VyKCkge1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhZ2VyLCBcIlBhZ2luYXRpb25EYXRhXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgUGFnZXIuQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEgPSBmdW5jdGlvbiAocGFnaW5hdGlvbklucHV0KSB7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRpb25EYXRhID0ge307XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZXMgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemVzO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnRvdGFsQ291bnQgPSBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPSBNYXRoLmNlaWwocGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgLyBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUpO1xyXG4gICAgICAgIHZhciBtaW5OdW0gPSAoKHBhZ2luYXRpb25JbnB1dC5wYWdlSW5kZXggLSAxKSAqIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgdmFyIGxvd2VyTGltaXRPZmZzZXQgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUgPiBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCA/XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IDpcclxuICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnJhbmdlID0ge1xyXG4gICAgICAgICAgICBtaW46IG1pbk51bSArIDEsXHJcbiAgICAgICAgICAgIG1heDogbWluTnVtICsgbG93ZXJMaW1pdE9mZnNldCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gMSB8fCBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IDE7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDFcclxuICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMVxyXG4gICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4IC0gMSkgPD0gMDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5uZXh0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4XHJcbiAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKSA+PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXM7XHJcbiAgICAgICAgUGFnZXIucGFnaW5hdGlvbkRhdGEgPSBwYWdpbmF0aW9uRGF0YTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUGFnZXIgPSBQYWdlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiBleHRlcm5hbCBcImpRdWVyeVwiICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29tbW9uVXRpbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbW1vblV0aWwoKSB7XHJcbiAgICB9XHJcbiAgICBDb21tb25VdGlsLkdldENvbHVtbk9iamVjdCA9IGZ1bmN0aW9uIChjb2x1bW5JZCwgY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCA9PSBudWxsIHx8IGNvbHVtbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJldENvbDtcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH07XHJcbiAgICBDb21tb25VdGlsLlNldE9yZGVyID0gZnVuY3Rpb24gKGNvbHVtbklkLCBvcmRlckJ5LCBjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkID09IG51bGwgfHwgY29sdW1ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmV0Q29sO1xyXG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb2wub3JkZXJCeSA9IG9yZGVyQnk7XHJcbiAgICAgICAgICAgICAgICByZXRDb2wgPSBjb2w7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Q29sO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21tb25VdGlsO1xyXG59KCkpO1xyXG5leHBvcnRzLkNvbW1vblV0aWwgPSBDb21tb25VdGlsO1xyXG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgR3JpZE9yZGVyRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKEdyaWRPcmRlckRpcmVjdGlvbikge1xyXG4gICAgR3JpZE9yZGVyRGlyZWN0aW9uW1wiTm9uZVwiXSA9IFwiTm9uZVwiO1xyXG4gICAgR3JpZE9yZGVyRGlyZWN0aW9uW1wiQXNjXCJdID0gXCJBc2NcIjtcclxuICAgIEdyaWRPcmRlckRpcmVjdGlvbltcIkRlc2NcIl0gPSBcIkRlc2NcIjtcclxufSkoR3JpZE9yZGVyRGlyZWN0aW9uID0gZXhwb3J0cy5HcmlkT3JkZXJEaXJlY3Rpb24gfHwgKGV4cG9ydHMuR3JpZE9yZGVyRGlyZWN0aW9uID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImd1aSBydi1wYXJlbnRcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlnbj1cXFwidG9wXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWZpbHRlci10eXBlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudHlwZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudHlwZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidHlwZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZmlsdGVyLWtleT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWZpbHRlci12YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmFjdHVhbFZhbHVlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hY3R1YWxWYWx1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiYWN0dWFsVmFsdWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29sdW1uTmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1uTmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sdW1uTmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCI8L3NwYW4+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5maWx0ZXJhYmxlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQ+XCJcbiAgICArICgoc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jb2x1bW5WYWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1uVmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbHVtblZhbHVlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8L3RyPlxcclxcblwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbS1sLTUgcnYtY2hpbGQgZ3VpLWNhcHRpb25cXFwiID5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hZGQgaG92ZXIgbS1sLTUgY3Vyc29yLXBvaW50ZXIgYWRkRmlsdGVyXFxcIj48L2k+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tbWludXMgaG92ZXIgbS1sLTUgY3Vyc29yLXBvaW50ZXIgcmVtb3ZlRmlsdGVyXFxcIj48L2k+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCI8dHIgaWQ9XFxcImRldGFpbHMtcm93LVwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pbmRleCB8fCAoZGF0YSAmJiBkYXRhLmluZGV4KSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpbmRleFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJndWkgZ3VpLWhpZGRlbiBkZXRhaWxzUm93XFxcIiBhcmlhLWxpdmU9XFxcInBvbGl0ZVxcXCI+XFxyXFxuICAgIDx0ZCBjb2xzcGFuPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubGVuZ3RoIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sZW5ndGggOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImxlbmd0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgdmVyeSBjb21wYWN0IHNlbGVjdGFibGUgY2VsbGVkIHRhYmxlIGRldGFpbHNUYWJsZSBtLWwtMzcgcC01XFxcIiBcXHJcXG4gICAgICAgICAgICAgICBzdHlsZT1cXFwid2lkdGg6IGF1dG87XFxcIiA+XFxyXFxuICAgICAgICAgICAgPHRib2R5PlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFpblJvd0NvbEFycmF5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICA8L3RhYmxlPlxcclxcbiAgICA8L3RkPlxcclxcbjwvdHI+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxvcHRpb24gXCJcbiAgICArIGFsaWFzMShfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMgKi8gMjMpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKChzdGFjazEgPSAoZGVwdGhzWzFdICE9IG51bGwgPyBkZXB0aHNbMV0ucGFnaW5hdGlvbkRhdGEgOiBkZXB0aHNbMV0pKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VTaXplIDogc3RhY2sxKSxkZXB0aDAse1wibmFtZVwiOlwiU2VsZWN0ZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIj5cIlxuICAgICsgYWxpYXMxKGNvbnRhaW5lci5sYW1iZGEoZGVwdGgwLCBkZXB0aDApKVxuICAgICsgXCI8L29wdGlvbj5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiPGRpdiByb2xlPVxcXCJuYXZpZ2F0aW9uXFxcIiBjbGFzcz1cXFwiZ3VpIGZsZXggamMtc2IgZ3VpLXN1YmhlYWRpbmctMSB0ZXh0LWxlZnQgbS0wXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgZmlyc3RMaW5rXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1kaXNhYmxlZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICovIDEpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZmlyc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBmaXJzdCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIHRoZSBmaXJzdCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS1wYWdlPVxcXCIxXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tcHJldmlvdXNcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIHByZXZMaW5rXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1kaXNhYmxlZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnByZXZQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyAqLyA5KSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksXCItXCIsMSx7XCJuYW1lXCI6XCJtYXRoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICBQcmV2XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBwYWdlci1pbnB1dC1jb250YWluZXIgbWVkaXVtIGgtMzAgaW5wdXQgZmxleCBqYy1zYiBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tci01XFxcIj4gUGFnZSA8L2Rpdj5cXHJcXG4gICAgICAgIDxpbnB1dCAgY2xhc3M9XFxcImd1aSBwYWdlci1pbnB1dCBoLTMwIHctNTAgbS1yLTVcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byBQYWdlIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0aXRsZT1cXFwiR28gdG8gUGFnZSBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlBhZ2UgTnVtYmVyIC4uLlxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJuby1vZi1wYWdlcy1zY2FuXFxcIiBcXHJcXG4gICAgICAgICAgICAgZGF0YS1udW1iZXItb2YtcGFnZXM9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICBvZiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PZlBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG5leHRMaW5rXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1kaXNhYmxlZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5leHRQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5uZXh0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgbmV4dCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMgKi8gOSkpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiK1wiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiA+XFxyXFxuICAgICAgICAgICAgTmV4dFxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBsYXN0TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICovIDEpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIGxhc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PRnBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tbmV4dFxcXCI+PC9pPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcImd1aSBndWktc3ViaGVhZGluZy0xIGZsZXggamMtc2IgdGV4dC1yaWdodCBtLTBcXFwiPlxcclxcbiAgICA8bGFiZWwgIGZvcj1cXFwicGFnZS1zaXplLXNlbGVjdG9yXFxcIiBcXHJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICAgICAgUm93cyBQZXIgUGFnZVxcclxcbiAgICA8L2xhYmVsPlxcclxcbiAgICA8c2VsZWN0IGlkPVxcXCJwYWdlLXNpemUtc2VsZWN0b3JcXFwiIFxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJndWkgcGFnZVNpemVTZWxlY3RvciBtLXItMTAgaC0zMFxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZXMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvc2VsZWN0PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5taW4gOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgLSBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5yYW5nZSA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEubWF4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiIG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS50b3RhbENvdW50IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiIGl0ZW1zXFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlLFwidXNlRGVwdGhzXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9tYXRoLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBtYXRoID0gZnVuY3Rpb24gKGx2YWx1ZSwgb3BlcmF0b3IsIHJ2YWx1ZSwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBcIitcIjogbHZhbHVlICsgcnZhbHVlLFxyXG4gICAgICAgIFwiLVwiOiBsdmFsdWUgLSBydmFsdWUsXHJcbiAgICAgICAgXCIqXCI6IGx2YWx1ZSAqIHJ2YWx1ZSxcclxuICAgICAgICBcIi9cIjogbHZhbHVlIC8gcnZhbHVlLFxyXG4gICAgICAgIFwiJVwiOiBsdmFsdWUgJSBydmFsdWUsXHJcbiAgICB9W29wZXJhdG9yXTtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0aDtcclxuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9ncmlkLW1haW4tcm93LmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1jb250YWluZXIubGFtYmRhO1xuXG4gIHJldHVybiBcIjx0ciBhcmlhLXJvd2luZGV4PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9BZGQudHMgKi8gMikpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dJbmRleCA6IGRlcHRoMCksMSx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIm1haW5Sb3cgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQm9vbEF0dHJpYnV0ZS50cyAqLyAxMSkpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pc0FsbFNlbGVjdGVkIDogZGVwdGgwKSxcImFjdGl2ZVwiLHtcIm5hbWVcIjpcIkJvb2xBdHRyaWJ1dGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgZGF0YS1way1hdHRyPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua2V5Q29sdW1uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiByb2xlPVxcXCJyb3dcXFwiID5cXHJcXG4gICAgPHRkIGNsYXNzPVxcXCJleHBhbnNpb25BcnJvd3NcXFwiIFxcclxcbiAgICAgICAgY2xhc3M9XFxcImd1aSBmbGV4IGpjLXNiXFxcIlxcclxcbiAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiMVxcXCJcXHJcXG4gICAgICAgIHJvbGU9XFxcImdyaWRjZWxsXFxcIj5cXHJcXG4gICAgICAgIDxpIGFyaWEtbGFiZWw9XFxcIlByZXNzIGVudGVyIHRvIGV4cGFuZCB0aGUgZGV0YWlscyBSb3dcXFwiIFxcclxcbiAgICAgICAgICAgdGl0bGU9XFxcIlByZXNzIGVudGVyIHRvIGV4cGFuZCB0aGUgZGV0YWlscyBSb3dcXFwiIFxcclxcbiAgICAgICAgICAgYXJpYS1jb250cm9scz1cXFwiZGV0YWlscy1yb3ctXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRhdGEgJiYgZGF0YS5pbmRleCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tZG93biBleHBhbmREZXRhaWxzUm93SWNvbiBjdXJzb3ItcG9pbnRlclxcXCIgXFxyXFxuICAgICAgICAgICB0YWJpbmRleD1cXFwiMFxcXCIgXFxyXFxuICAgICAgICAgICBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiPjwvaT5cXHJcXG4gICAgICAgIDxpIGFyaWEtbGFiZWw9XFxcIlByZXNzIGVudGVyIHRvIGNvbGxhcHNlIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICB0aXRsZT1cXFwiUHJlc3MgZW50ZXIgdG8gY29sbGFwc2UgdGhlIGRldGFpbHMgUm93XFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtY29udHJvbHM9XFxcImRldGFpbHMtcm93LVwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkYXRhICYmIGRhdGEuaW5kZXgpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXVwIENvbGxhcHNlRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXIgZ3VpLWhpZGRlblxcXCIgXFxyXFxuICAgICAgICAgICB0YWJpbmRleD1cXFwiMFxcXCIgXFxyXFxuICAgICAgICAgICBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPlxcclxcbiAgICA8L3RkPlxcclxcbiAgICA8dGQgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiXFxyXFxuICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCIyXFxcIiA+XFxyXFxuICAgICAgICA8aW5wdXQgYXJpYS1sYWJlbD1cXFwiQ2hlY2tib3ggdG8gc2VsZWN0IHRoZSByb3cgd2l0aCBJZCBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua2V5Q29sdW1uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICB0eXBlPVxcXCJjaGVja2JveFxcXCJcXHJcXG4gICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzICovIDExKSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzQWxsU2VsZWN0ZWQgOiBkZXB0aDApLFwiY2hlY2tlZFwiLHtcIm5hbWVcIjpcIkJvb2xBdHRyaWJ1dGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua2V5Q29sdW1uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICBjbGFzcz1cXFwic2VsZWN0LWtleS1jaGVja2JveCBjdXJzb3ItcG9pbnRlclxcXCI+XFxyXFxuICAgIDwvdGQ+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90cj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKi8gNyksZGVwdGgwLHtcIm5hbWVcIjpcImdyaWQtZGV0YWlscy1yb3dcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgPHRkIHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQWRkLnRzICovIDIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRhdGEgJiYgZGF0YS5pbmRleCksMyx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiYm9keS1cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1uVmFsdWUgOiBkZXB0aDApLCBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBib29sQXR0cmlidXRlID0gZnVuY3Rpb24gKGJvb2wsIHN0cikge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBzdHIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBib29sQXR0cmlidXRlO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvbWFpbi9HcmlkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGpRdWVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGpxdWVyeSAqLyA0KTtcclxudmFyIENvbmZpZ1N0b3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcvQ29uZmlnU3RvcmUgKi8gMTMpO1xyXG52YXIgU2VsZWN0RXZlbnRIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudEhhbmRsZXJzL1NlbGVjdEV2ZW50SGFuZGxlciAqLyAxNCk7XHJcbnZhciBQYWdlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcGFnaW5hdGlvbi9QYWdlciAqLyAzKTtcclxudmFyIERldGFpbHNSb3dIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIgKi8gMTUpO1xyXG52YXIgRmlsdGVyQ2xpY2tIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyICovIDE2KTtcclxudmFyIEhhbmRsZXJOYW1lc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL0hhbmRsZXJOYW1lcyAqLyAxOCk7XHJcbnZhciBIZWFkZXJDbGlja0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXIgKi8gMTkpO1xyXG52YXIgUGFnZVNlYXJjaENsaWNrSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIgKi8gMjApO1xyXG52YXIgU2Nyb2xsSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXIgKi8gMjEpO1xyXG52YXIgR3JpZFRlbXBsYXRlU2VydmljZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlICovIDIyKTtcclxudmFyIEdyaWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHcmlkKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYmluZERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgcGFnaW5hdGlvbklucHV0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgUGFnZXJfMS5QYWdlci5DYWxjdWxhdGVQYWdpbmF0aW9uRGF0YShwYWdpbmF0aW9uSW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VEYXRhID0gUGFnZXJfMS5QYWdlci5wYWdpbmF0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmludGVybmFsUmVuZGVyKGRhdGEsIHBhZ2VEYXRhKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlRGF0YSA9IFBhZ2VyXzEuUGFnZXIucGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnRlcm5hbFJlbmRlcihfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGEsIHBhZ2VEYXRhKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNldENvbENvbmZpZyA9IGZ1bmN0aW9uIChjb2xDb25maWcpIHtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zID0gY29sQ29uZmlnO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVE9ETzogVXBkYXRlIFJvdyBJbmRleFxyXG4gICAgICAgIHRoaXMudXBkYXRlUm93cyA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIGlmIChyb3dzID09PSB1bmRlZmluZWQgfHwgIXJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS51cGRhdGVSb3dzKHJvd3MpO1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gJChfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd0h0bWwgPSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmdldFRlbXBsYXRlRm9yT25lUm93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93SnEgPSAkKHJvd0h0bWwpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoXCIubWFpblJvd1wiKS5lYWNoKGZ1bmN0aW9uIChpLCBtUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtckpxID0gJChtUik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBrSWQgPSBtckpxLmF0dHIoXCJkYXRhLXBrLWF0dHJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrSWQgPT09IHJvd1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ySnEuaHRtbChyb3dKcVswXS5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtckpxLm5leHQoKS5odG1sKHJvd0pxWzJdLmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCByb3dzXzEgPSByb3dzOyBfaSA8IHJvd3NfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3cgPSByb3dzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgX2xvb3BfMShyb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBwdWJsaWMgYmluZE1hbmFnZUNvbHVtcyA9IChtYW5hZ2VDb2xDb250YWluZXI/OiBIVE1MRWxlbWVudCwgZm9yY2U/OiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLm1hbmFnZUNvbEhhbmRsZXIgIT09IHVuZGVmaW5lZCAmJiAhZm9yY2UgKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgY29uc3QgaHRtbCA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRNYW5hZ2VDb2x1bW5zSHRtbCgpO1xyXG4gICAgICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KG1hbmFnZUNvbENvbnRhaW5lclxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudG9nZ2xlSGFuZGxlciA9IG5ldyBUb2dnbGVDb2x1bW5IYW5kbGVyKHRoaXMuY29uZmlnU3RvcmUsXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCkpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIgPSBuZXcgQ29sU2V0dGluZ3NIYW5kbGVyPFQ+KGpRdWVyeShlbGVtZW50KSwgdGhpcy5jb25maWdTdG9yZSwgdGhpcy50b2dnbGVIYW5kbGVyKTtcclxuICAgICAgICAvLyAgICAgZWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIikuaHRtbChodG1sKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgIC8vICAgICBqUXVlcnkod2luZG93KS5yZXNpemUodGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JDcyk7XHJcbiAgICAgICAgLy8gICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2sodGhpcy5kb2N1bWVudENsaWNrSGFuZGxlckZvckNzKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gcHVibGljIGFwcGx5Q29sdW1uQ29uZmlnID0gKGNvbHVtbnM6IElDb2x1bW5bXSkgPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLnRvZ2dsZUhhbmRsZXIuYXBwbHlDb2x1bW5Db25maWcoY29sdW1ucyk7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0TWFuYWdlQ29sdW1uc0h0bWwoKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAvLyAgICAgZWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIikuaHRtbChodG1sKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5zZXRPcmRlciA9IGZ1bmN0aW9uIChvcmRlckJ5TGlzdCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcmRlckJ5TGlzdCA9PT0gdW5kZWZpbmVkIHx8IG9yZGVyQnlMaXN0ID09PSBudWxsIHx8IG9yZGVyQnlMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgb3JkZXJCeUxpc3RfMSA9IG9yZGVyQnlMaXN0OyBfYiA8IG9yZGVyQnlMaXN0XzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JkZXJDb2wgPSBvcmRlckJ5TGlzdF8xW19iXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gMCwgX2QgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnM7IF9jIDwgX2QubGVuZ3RoOyBfYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbCA9IF9kW19jXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJDb2wuY29sSWQgPT09IGNvbC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wub3JkZXJCeSA9IG9yZGVyQ29sLm9yZGVyQnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGpRdWVyeShfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50RWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50Lm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IG1hbmFnZUNvbnRhaW5lckVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgLy8gaWYgKCBtYW5hZ2VDb250YWluZXJFbGVtZW50ICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBtYW5hZ2VDb250YWluZXJFbGVtZW50Lm9mZigpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICQod2luZG93KS5vZmYoXCJyZXNpemVcIiwgX3RoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyKTtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKFwiY2xpY2tcIiwgX3RoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKFwicmVzaXplXCIsIF90aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlckZvckNzKTtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKFwiY2xpY2tcIiwgX3RoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXJGb3JDcyk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2Nyb2xsSGFuZGxlci51bldhdGNoV2lkdGgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5pbnRlcm5hbFJlbmRlciA9IGZ1bmN0aW9uIChkYXRhLCBwYWdpbmF0aW9uSW5wdXQpIHtcclxuICAgICAgICAgICAgdmFyIGZpcnN0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemUgKyBfdGhpcy5nZXRJbml0aWFsUm93Q291bnQoKTtcclxuICAgICAgICAgICAgbGFzdEluZGV4ID0gbGFzdEluZGV4ID49IGRhdGEubGVuZ3RoID8gZGF0YS5sZW5ndGggLSAxIDogbGFzdEluZGV4O1xyXG4gICAgICAgICAgICB2YXIgZ3JpZENvbnRlbnQgPSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldEZpcnN0VGVtcGxhdGUoZGF0YSwgZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50LmlubmVySFRNTCA9IGdyaWRDb250ZW50O1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2Nyb2xsSGFuZGxlciAhPT0gdW5kZWZpbmVkICYmIF90aGlzLnNjcm9sbEhhbmRsZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbEhhbmRsZXIucmVtb3ZlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGxlci5yZXNldFBhcmVudE9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGxlci5zZXRDdXJyZW50SW5kZXgobGFzdEluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXJfMS5TY3JvbGxIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLCBsYXN0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2Nyb2xsSGFuZGxlci53YXRjaFdpZHRoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0Rm9jdXNUb0xhc3RFbGVtZW50KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldEluaXRpYWxSb3dDb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGpRdWVyeSh3aW5kb3cpLmlubmVySGVpZ2h0KCkgKiAwLjY1KSAvIDMyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuSW5pdEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGpRdWVyeShfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbiA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBEZXRhaWxzUm93SGFuZGxlcl8xLkRldGFpbHNSb3dIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5EZXRhaWxzUm93LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgRmlsdGVyQ2xpY2tIYW5kbGVyXzEuRmlsdGVyQ2xpY2tIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5GaWx0ZXJBY3Rpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBIZWFkZXJDbGlja0hhbmRsZXJfMS5IZWFkZXJDbGlja0hhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkhlYWRlckNsaWNrLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgUGFnZVNlYXJjaENsaWNrSGFuZGxlcl8xLlBhZ2VTZWFyY2hIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5QYWdlU2VhcmNoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IFNlbGVjdEV2ZW50SGFuZGxlcl8xLlNlbGVjdEV2ZW50SGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCwgX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuQ29sU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZShfdGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLmNsaWNrKF90aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMubWFuYWdlQ29sSGFuZGxlci5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXJGb3JDcyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLm9uRG9jdW1lbnRDbGljayhldmVudCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JTY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMubWFuYWdlQ29sSGFuZGxlci5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRGb2N1c1RvTGFzdEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuY29uZmlnU3RvcmUuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmlyc3RMaW5rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLmZpcnN0TGlua1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dExpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAubmV4dExpbmtcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInByZXZMaW5rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLnByZXZMaW5rXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJsYXN0TGlua1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5sYXN0TGlua1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGFnZVNpemVTZWxlY3RvclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5wYWdlU2l6ZVNlbGVjdG9yXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwYWdlci1pbnB1dFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5wYWdlci1pbnB1dFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInRoXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUhlYWRlcklkXzEgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdGb2N1c2FibGVfMTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWhlYWRlciB0aFwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaEhlYWRlciA9ICQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoSGVhZGVySWQgPSBlYWNoSGVhZGVyLmF0dHIoXCJkYXRhLWhlYWRlci1pZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hIZWFkZXJJZCA9PT0gZGF0YUhlYWRlcklkXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ZvY3VzYWJsZV8xID0gZWFjaEhlYWRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdGb2N1c2FibGVfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGb2N1c2FibGVfMS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZV8xLkNvbmZpZ1N0b3JlKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IG5ldyBHcmlkVGVtcGxhdGVTZXJ2aWNlXzEuR3JpZFRlbXBsYXRlU2VydmljZSh0aGlzLmNvbmZpZ1N0b3JlKTtcclxuICAgICAgICB0aGlzLkluaXRIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEdyaWQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuR3JpZCA9IEdyaWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb25maWcvQ29uZmlnU3RvcmUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29uZmlnU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb25maWdTdG9yZShvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmRlZmF1bHRHcmlkT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uVGltZTogMjAwLFxyXG4gICAgICAgICAgICBjaHVua1NpemU6IDUsXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxyXG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50OiBudWxsLFxyXG4gICAgICAgICAgICAvLyBtYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgaHlicmlkRnVuY3Rpb246IGZ1bmN0aW9uIChjb2x1bW4sIHJvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlDb2x1bW46IFwiXCIsXHJcbiAgICAgICAgICAgIC8vIG9uQ29sU2V0dGluZ3NDaGFuZ2U6IChjb2xDb25maWc6IElDb2x1bW5bXSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gTm8gQ29kZVxyXG4gICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICBvbkNsaWNrRmlsdGVyOiBmdW5jdGlvbiAoY29sdW1uLCB2YWx1ZSwgYWN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNsaWNrSGVhZGVyOiBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25QYWdlU2VhcmNoOiBmdW5jdGlvbiAocGFnZVNpemUsIHBhZ2VJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIENvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiBcIlwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuZm9jdXNhYmxlRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb2N1c2FibGVFbGVtZW50O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5TZXRIaWRkZW5PbkNvbmZpZyA9IGZ1bmN0aW9uIChib29sLCBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuT3B0aW9ucy5jb2x1bW5zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW5JZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sLmhpZGRlbiA9IGJvb2w7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wuaGlkZGVuID0gYm9vbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmV4dGVuZE9wdGlvbnMgPSBmdW5jdGlvbiAoaW5wdXRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vcHRpb25zID0galF1ZXJ5LmV4dGVuZCh7fSwgX3RoaXMuZGVmYXVsdEdyaWRPcHRpb25zLCBpbnB1dE9wdGlvbnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lckVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIFByb3ZpZGUgYSB2YWxpZCBjb250YWluZXIgRWxlbWVudCBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb2x1bW5zLnNvcnQoZnVuY3Rpb24gKHByZXYsIG5leHQpIHsgcmV0dXJuIHByZXYub3JkZXIgLSBuZXh0Lm9yZGVyOyB9KTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25maWdTdG9yZS5wcm90b3R5cGUsIFwiT3B0aW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ29uZmlnU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29uZmlnU3RvcmUgPSBDb25maWdTdG9yZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTZWxlY3RFdmVudEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTZWxlY3RFdmVudEhhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQsIGdyaWRUZW1wbGF0ZVNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBncmlkVGVtcGxhdGVTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgU2VsZWN0RXZlbnRIYW5kbGVyLnByb3RvdHlwZS5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWtleS1jaGVja2JveFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlbGVtZW50LmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2Uuc2VsZWN0Um93cyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuZGVTZWxlY3RSb3dzKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50cyhcIi5tYWluUm93XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuU2VsZWN0ZWQsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWFsbC1jaGVja2JveFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlbGVtZW50LmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5zZWxlY3Qta2V5LWNoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5zZWxlY3RBbGwoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5tYWluVGFibGUgLm1haW5Sb3dcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmRlU2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlIC5tYWluUm93XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25TZWxlY3QoX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5TZWxlY3RlZCwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gSWdub3JlXHJcbiAgICB9O1xyXG4gICAgU2VsZWN0RXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBJZ25vcmVcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2VsZWN0RXZlbnRIYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLlNlbGVjdEV2ZW50SGFuZGxlciA9IFNlbGVjdEV2ZW50SGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0RldGFpbHNSb3dIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBEZXRhaWxzUm93SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERldGFpbHNSb3dIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCBfdGhpcy5leHBhbmRSb3cpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5dXBcIiwgXCIudGFibGUtYm9keSAuZXhwYW5zaW9uQXJyb3dzIGlcIiwgX3RoaXMuZXhwYW5kUm93KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZXhwYW5kUm93ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaDtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiAmJiAoZXZlbnQudHlwZSA9PT0gXCJrZXl1cFwiICYmIGNvZGUgIT09IDEzICYmIGNvZGUgIT09IDMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhcnJvdyA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgZGV0YWlsc1JvdyA9IGFycm93LmNsb3Nlc3QoXCJ0clwiKS5uZXh0KCk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SWNvbiA9IGFycm93LmhpZGUoKS5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICB2YXIgb3RoZXJJY29uID0gYXJyb3cuc2libGluZ3MoXCJpXCIpLnNob3coKS5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgaWYgKGFycm93Lmhhc0NsYXNzKFwiZXhwYW5kRGV0YWlsc1Jvd0ljb25cIikpIHtcclxuICAgICAgICAgICAgICAgIG90aGVySWNvbi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzUm93LnNsaWRlRG93bihfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEljb24uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zbGlkZVVwKF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3RoZXJJY29uLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIERldGFpbHNSb3dIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIERldGFpbHNSb3dIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIHJldHVybiBEZXRhaWxzUm93SGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5EZXRhaWxzUm93SGFuZGxlciA9IERldGFpbHNSb3dIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0ZpbHRlckNsaWNrSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbHVtblV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvQ29sdW1uVXRpbCAqLyA1KTtcclxudmFyIEZpbHRlckFjdGlvblR5cGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vbW9kZWxzL0ZpbHRlckFjdGlvblR5cGUgKi8gMTcpO1xyXG52YXIgRmlsdGVyQ2xpY2tIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmlsdGVyQ2xpY2tIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmRldGFpbHNSb3cgLmRldGFpbHNUYWJsZSB0ZCBpXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRUZCA9IGVsZW1lbnQucGFyZW50cyhcInRkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci1rZXlcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXItdmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci10eXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChrZXksIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuZmlsdGVyYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5BZGQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcyhcInJlbW92ZUZpbHRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckFjdGlvbiA9IEZpbHRlckFjdGlvblR5cGVfMS5GaWx0ZXJBY3Rpb25UeXBlLk1pbnVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNsaWNrRmlsdGVyKGtleSwgdmFsdWUsIGZpbHRlckFjdGlvbiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIEZpbHRlckNsaWNrSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICBGaWx0ZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZpbHRlckNsaWNrSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5GaWx0ZXJDbGlja0hhbmRsZXIgPSBGaWx0ZXJDbGlja0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRmlsdGVyQWN0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChGaWx0ZXJBY3Rpb25UeXBlKSB7XHJcbiAgICBGaWx0ZXJBY3Rpb25UeXBlW1wiQWRkXCJdID0gXCJBZGRcIjtcclxuICAgIEZpbHRlckFjdGlvblR5cGVbXCJNaW51c1wiXSA9IFwiTWludXNcIjtcclxufSkoRmlsdGVyQWN0aW9uVHlwZSA9IGV4cG9ydHMuRmlsdGVyQWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5GaWx0ZXJBY3Rpb25UeXBlID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBIYW5kbGVyTmFtZXM7XHJcbihmdW5jdGlvbiAoSGFuZGxlck5hbWVzKSB7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiRmlsdGVyQWN0aW9uXCJdID0gMF0gPSBcIkZpbHRlckFjdGlvblwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkhlYWRlckNsaWNrXCJdID0gMV0gPSBcIkhlYWRlckNsaWNrXCI7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiU2Nyb2xsXCJdID0gMl0gPSBcIlNjcm9sbFwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlBhZ2VTZWFyY2hcIl0gPSAzXSA9IFwiUGFnZVNlYXJjaFwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkRldGFpbHNSb3dcIl0gPSA0XSA9IFwiRGV0YWlsc1Jvd1wiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlRvZ2dsZUNvbHVtblwiXSA9IDVdID0gXCJUb2dnbGVDb2x1bW5cIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJDb2xTZXR0aW5nc1wiXSA9IDZdID0gXCJDb2xTZXR0aW5nc1wiO1xyXG59KShIYW5kbGVyTmFtZXMgPSBleHBvcnRzLkhhbmRsZXJOYW1lcyB8fCAoZXhwb3J0cy5IYW5kbGVyTmFtZXMgPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbHVtblV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvQ29sdW1uVXRpbCAqLyA1KTtcclxudmFyIEdyaWRPcmRlckRpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uICovIDYpO1xyXG52YXIgSGVhZGVyQ2xpY2tIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSGVhZGVyQ2xpY2tIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgX3RoaXMuaGFuZGxlSGVhZGVyU29ydCk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJrZXl1cFwiLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgX3RoaXMuaGFuZGxlSGVhZGVyU29ydCk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJtb3VzZWRvd25cIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIF90aGlzLmhhbmRsZU1vdXNlRG93bik7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJmb2N1c2luXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCBfdGhpcy5oYW5kbGVIZWFkZXJGb2N1cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy53YXNIZWFkZXJDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaGFuZGxlSGVhZGVyRm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGZvY3VzXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5sYXN0Rm9jdXNlZEVsZW1lbnQgIT09IGV2ZW50LnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLndhc0hlYWRlckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0Rm9jdXNlZEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy53YXNIZWFkZXJDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZXZlbnQuZGF0YS5jbGlja2VkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0UG9zdGl0aW9uID0gaGVhZGVyLnBvc2l0aW9uKCkubGVmdDtcclxuICAgICAgICAgICAgdmFyIGhlYWRlcldpZHRoID0gaGVhZGVyLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciB0YWJsZUJvZHkgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgdmFyIG1haW5UYWJsZUJvZHkgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlXCIpO1xyXG4gICAgICAgICAgICB2YXIgdmlzaWJsZVRib2R5V2lkdGggPSB0YWJsZUJvZHkud2lkdGgoKTtcclxuICAgICAgICAgICAgdmFyIG1heFNjcm9sbCA9IG1haW5UYWJsZUJvZHkud2lkdGgoKSAtIHZpc2libGVUYm9keVdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gbGVmdFBvc3RpdGlvbiArIGhlYWRlcldpZHRoICogMjtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbExlZnRCeTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA+IHZpc2libGVUYm9keVdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0QnkgPSBsZWZ0UG9zdGl0aW9uID4gbWF4U2Nyb2xsID8gbWF4U2Nyb2xsIDogbGVmdFBvc3RpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnRCeSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFibGVCb2R5LnNjcm9sbExlZnQoc2Nyb2xsTGVmdEJ5KTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhhbmRsZUhlYWRlclNvcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGUgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICYmIChldmVudC50eXBlID09PSBcImtleXVwXCIgJiYgY29kZSAhPT0gMTMgJiYgY29kZSAhPT0gMzIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwidGhcIik7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJJZCA9IGVsZW1lbnQuYXR0cihcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICB2YXIgY29sID0gQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGhlYWRlcklkLCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuc29ydGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgYXJyb3dJY29ucyA9IGVsZW1lbnQuZmluZChcImlcIik7XHJcbiAgICAgICAgICAgIHZhciB1cEFycm93SWNvbiA9IGFycm93SWNvbnMuZmlyc3QoKTtcclxuICAgICAgICAgICAgdmFyIGRvd25BcnJvd0ljb24gPSBhcnJvd0ljb25zLmxhc3QoKTtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGFycm93SWNvbnMuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwQXJyb3dJY29uLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb25fMS5HcmlkT3JkZXJEaXJlY3Rpb24uRGVzYztcclxuICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb25fMS5HcmlkT3JkZXJEaXJlY3Rpb24uQXNjO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwQXJyb3dJY29uLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5Bc2M7XHJcbiAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxlbWVudC5hdHRyKFwiYXJpYS1zb3J0XCIsIGRpcmVjdGlvbiA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkRlc2MgPyBcImRlc2NlbmRpbmdcIiA6IFwiYXNjZW5kaW5nXCIpO1xyXG4gICAgICAgICAgICBDb2x1bW5VdGlsXzEuQ29tbW9uVXRpbC5TZXRPcmRlcihoZWFkZXJJZCwgZGlyZWN0aW9uLCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0hlYWRlcihoZWFkZXJJZCwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIEhlYWRlckNsaWNrSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICBIZWFkZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhlYWRlckNsaWNrSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5IZWFkZXJDbGlja0hhbmRsZXIgPSBIZWFkZXJDbGlja0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgalF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganF1ZXJ5ICovIDQpO1xyXG52YXIgUGFnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3BhZ2luYXRpb24vUGFnZXIgKi8gMyk7XHJcbnZhciBQYWdlU2VhcmNoSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2VTZWFyY2hIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAuZmlyc3RMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgMSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLm5leHRMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAucHJldkxpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5sYXN0TGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VTaXplU2VsZWN0b3JcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gK2pRdWVyeShldmVudC50YXJnZXQpLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaCh2YWwsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImtleXByZXNzXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZXItaW5wdXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXAgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlRGF0YSA9IFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gK2lwLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsID4gcGFnZURhdGEubm9PZlBhZ2VzIHx8IHZhbCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXAudmFsKHBhZ2VEYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChwYWdlRGF0YS5wYWdlU2l6ZSwgdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIFBhZ2VTZWFyY2hIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICBQYWdlU2VhcmNoSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQYWdlU2VhcmNoSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5QYWdlU2VhcmNoSGFuZGxlciA9IFBhZ2VTZWFyY2hIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TY3JvbGxIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFNjcm9sbEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTY3JvbGxIYW5kbGVyKGNvbmZpZ1N0b3JlLCBncmlkVGVtcGxhdGVTZXJ2aWNlLCBjdXJyZW50SW5kZXgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YXRjaGVzID0gW107XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuQ3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldEN1cnJlbnRJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmN1cnJlbnRJbmRleDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBSZWdpc3RlcmluZyBKUXVlcnkgRXZlbnQgSGFuZGxlciBpZiBIZWFkZXIgaXMgQ2xpY2tlZC5cclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikub24oXCJzY3JvbGxcIiwgX3RoaXMuaGFuZGxlUmVzaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikub2ZmKFwic2Nyb2xsXCIsIF90aGlzLmhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlc2V0UGFyZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gX3RoaXMucGFyZW50RWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICBfdGhpcy5sZWZ0T2Zmc2V0ID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy53YXRjaFdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gX3RoaXMucGFyZW50RWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICBfdGhpcy53YXRjaGVzLnB1c2goc2V0SW50ZXJ2YWwoX3RoaXMuc2V0SGVhZGVyT2Zmc2V0LCAzMDApKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudW5XYXRjaFdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMud2F0Y2hlcyA9PT0gdW5kZWZpbmVkIHx8IF90aGlzLndhdGNoZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMud2F0Y2hlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB3YXRjaCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2F0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgdEJvZHlPYmogPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmxlZnRPZmZzZXQgPT09IHVuZGVmaW5lZCB8fCBfdGhpcy5sZWZ0T2Zmc2V0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sZWZ0T2Zmc2V0ID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikuY3NzKHtcclxuICAgICAgICAgICAgICAgIFwibWFyZ2luLWxlZnRcIjogLTEgKiB0Qm9keU9iai5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgYWN0dWFsVGFibGVIZWlnaHQgPSB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZVwiKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbENvbnRhaW5lckhlaWdodCA9IHRCb2R5T2JqLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucmVuZGVyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdEJvZHlPYmouc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGlmICgoc2Nyb2xsQ29udGFpbmVySGVpZ2h0ICsgc2Nyb2xsVG9wKSAtIChhY3R1YWxUYWJsZUhlaWdodCAqIDAuOCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudEluZGV4ID49IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gX3RoaXMuY3VycmVudEluZGV4ICsgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemU7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID49IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGpRdWVyeShfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmdldFRlbXBsYXRlKF90aGlzLmN1cnJlbnRJbmRleCwgbGFzdEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZUJvZHlcIikuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0Q3VycmVudEluZGV4KGxhc3RJbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNldEhlYWRlck9mZnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxlZnQgPSBfdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ICE9PSBsZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdEJvZHlPYmogPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5sZWZ0T2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgX3RoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxlZnRPZmZzZXQgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sZWZ0T2Zmc2V0ID0gX3RoaXMubGVmdE9mZnNldCAtIChfdGhpcy5wYXJlbnRPZmZTZXRMZWZ0IC0gbGVmdCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCIudGFibGUtaGVhZGVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9mZnNldCh7IGxlZnQ6IF90aGlzLmxlZnRPZmZzZXQsIHRvcDogMCB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudE9mZlNldExlZnQgPSBsZWZ0O1xyXG4gICAgICAgICAgICAgICAgdEJvZHlPYmouc2Nyb2xsTGVmdCh0Qm9keU9iai5zY3JvbGxMZWZ0KCkgLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnRJbmRleChjdXJyZW50SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgU2Nyb2xsSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9cclxuICAgIH07XHJcbiAgICBTY3JvbGxIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBObyBPcFxyXG4gICAgfTtcclxuICAgIHJldHVybiBTY3JvbGxIYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLlNjcm9sbEhhbmRsZXIgPSBTY3JvbGxIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEdyaWREZXRhaWxzUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKi8gNyk7XHJcbnZhciBHcmlkRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtZm9vdGVyLmhicyAqLyA4KTtcclxudmFyIEdyaWRNYWluUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1tYWluLXJvdy5oYnMgKi8gMTApO1xyXG52YXIgTWFuYWdlQ29sdW1uVGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnMgKi8gMjQpO1xyXG52YXIgR3JpZFRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQuaGJzICovIDI2KTtcclxudmFyIFBhZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wYWdpbmF0aW9uL1BhZ2VyICovIDMpO1xyXG52YXIgR3JpZFRlbXBsYXRlU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEdyaWRUZW1wbGF0ZVNlcnZpY2UoY29uZmlnU3RvcmUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLmlzQWxsU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZWxlY3RlZC5sZW5ndGggIT09IDAgJiYgX3RoaXMuc2VsZWN0ZWQubGVuZ3RoID09PSBfdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEZvciBGaXJzdCAgUmVuZGVyIC0gVXBkYXRlIEhlYWRlciAsIEJvZHksIFBhZ2luYXRpb25cclxuICAgICAgICB0aGlzLkdldEZpcnN0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZmlyc3RJbmRleCwgbGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgbWFpblJvd0FycmF5ID0gX3RoaXMuR2V0Um93c0h0bWwoZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkKHtcclxuICAgICAgICAgICAgICAgIHNob3dDYXB0aW9uOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLnNob3dDYXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3VtbWFyeTogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5zdW1tYXJ5LFxyXG4gICAgICAgICAgICAgICAgcm93TGVuZ3RoOiBfdGhpcy5kYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgICAgIG1haW5Sb3dBcnJheTogbWFpblJvd0FycmF5LFxyXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGE6IFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEsXHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNhcHRpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gRm9yIFZpcnR1YWxpemF0b24gUmVuZGVyIC0gQm9keVxyXG4gICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZmlyc3RJbmRleCwgbGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93QXJyYXkgPSBfdGhpcy5HZXRSb3dzSHRtbChmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coe1xyXG4gICAgICAgICAgICAgICAgY29sdW1uczogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgbWFpblJvd0FycmF5OiBtYWluUm93QXJyYXksXHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNhcHRpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVXBkYXRlIG9ubHkgb25lIFJvd1xyXG4gICAgICAgIHRoaXMuZ2V0VGVtcGxhdGVGb3JPbmVSb3cgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eVN0ciA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuZW1wdHlWYWx1ZTtcclxuICAgICAgICAgICAgdmFyIG1haW5Sb3dDb2xBcnJheSA9IF90aGlzLmdldE1haW5Sb3cocm93LCBlbXB0eVN0cik7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93QXJyYXkgPSBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQWxsU2VsZWN0ZWQ6IF90aGlzLmlzQWxsU2VsZWN0ZWQoKSxcclxuICAgICAgICAgICAgICAgICAgICBrZXlDb2x1bW46IHJvd1tfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5OiBtYWluUm93Q29sQXJyYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyh7IG1haW5Sb3dBcnJheTogbWFpblJvd0FycmF5IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5HZXRNYW5hZ2VDb2x1bW5zSHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2woeyBjb2x1bW5zOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkdldFJvd3NIdG1sID0gZnVuY3Rpb24gKGZpcnN0SW5kZXgsIGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbWFpblJvd0FycmF5ID0gW107XHJcbiAgICAgICAgICAgIHZhciBlbXB0eVN0ciA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuZW1wdHlWYWx1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW5kZXg7IGkgPD0gbGFzdEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3cgPSBfdGhpcy5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1haW5Sb3dDb2xBcnJheSA9IF90aGlzLmdldE1haW5Sb3cocm93LCBlbXB0eVN0cik7XHJcbiAgICAgICAgICAgICAgICBtYWluUm93QXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93SW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBbGxTZWxlY3RlZDogX3RoaXMuaXNBbGxTZWxlY3RlZCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleUNvbHVtbjogcm93W190aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uXSxcclxuICAgICAgICAgICAgICAgICAgICBtYWluUm93Q29sQXJyYXk6IG1haW5Sb3dDb2xBcnJheSxcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFpblJvd0FycmF5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSb3dzID0gZnVuY3Rpb24gKHJvd0lkKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbjtcclxuICAgICAgICAgICAgdmFyIG5ld1NlbGVjdGVkID0gW107XHJcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLnNlbGVjdGVkOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd0lkID09PSBzZWxlY3RlZFtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQucHVzaChyb3dJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBuZXdTZWxlY3RlZF8xID0gbmV3U2VsZWN0ZWQ7IF9iIDwgbmV3U2VsZWN0ZWRfMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b0JlQWRkZWQgPSBuZXdTZWxlY3RlZF8xW19iXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gMCwgX2QgPSBfdGhpcy5kYXRhOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmVSb3cgPSBfZFtfY107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvQmVBZGRlZCA9PT0gb25lUm93W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWQucHVzaChvbmVSb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZGVTZWxlY3RSb3dzID0gZnVuY3Rpb24gKHJvd0lkKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdTZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5zZWxlY3RlZDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dJZCAhPT0gc2VsZWN0ZWRba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkLnB1c2goc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gbmV3U2VsZWN0ZWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWQgPSBfdGhpcy5kYXRhO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kZVNlbGVjdEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudXBkYXRlUm93cyA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbjtcclxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IHVuZGVmaW5lZCB8fCAhcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHJvd3NfMSA9IHJvd3M7IF9pIDwgcm93c18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJvd3NfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gX3RoaXMuZGF0YTsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVJvdyA9IF9iW19hXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93W2tleV0gPT09IGRhdGFSb3dba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93ID0gcm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCByb3dzXzIgPSByb3dzOyBfYyA8IHJvd3NfMi5sZW5ndGg7IF9jKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3cgPSByb3dzXzJbX2NdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2QgPSAwLCBfZSA9IF90aGlzLnNlbGVjdGVkOyBfZCA8IF9lLmxlbmd0aDsgX2QrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhUm93ID0gX2VbX2RdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dba2V5XSA9PT0gZGF0YVJvd1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3cgPSByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRNYWluUm93ID0gZnVuY3Rpb24gKHJvdywgZW1wdHlTdHIpIHtcclxuICAgICAgICAgICAgdmFyIG1haW5Sb3dDb2xBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5WYWx1ZSA9IHJvd1tjb2wuaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5yZW5kZXJIeWJyaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZSA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuaHlicmlkRnVuY3Rpb24oY29sLCByb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVtcHR5U3RyICE9PSB1bmRlZmluZWQgJiYgY29sdW1uVmFsdWUgPT09IGVtcHR5U3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uVmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblZhbHVlOiBjb2x1bW5WYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb2wudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IGNvbC5oaWRkZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IHJvd1tjb2wuaWRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGNvbC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb2wuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyYWJsZTogY29sLmZpbHRlcmFibGUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFpblJvd0NvbEFycmF5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQgPSBHcmlkVGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyA9IEdyaWRNYWluUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyA9IEdyaWREZXRhaWxzUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyID0gR3JpZEZvb3RlcjtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2wgPSBNYW5hZ2VDb2x1bW5UZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJEYXRhXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJTZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRUZW1wbGF0ZVNlcnZpY2UucHJvdG90eXBlLCBcIkN1cnJlbnRJbmRleFwiLCB7XHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJEYXRhTGVuZ3RoXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gR3JpZFRlbXBsYXRlU2VydmljZTtcclxufSgpKTtcclxuZXhwb3J0cy5HcmlkVGVtcGxhdGVTZXJ2aWNlID0gR3JpZFRlbXBsYXRlU2VydmljZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWxlY3RlZCA9IGZ1bmN0aW9uIChpbnB1dCwgdmFsdWUpIHtcclxuICAgIHJldHVybiBpbnB1dCA9PT0gdmFsdWUgPyBcInNlbGVjdGVkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBzZWxlY3RlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3ggZ3VpIG0tci0xMFxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyAqLyAyNSkpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaGlkZGVuIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJDaGVja2VkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJndWkgb2YtaGlkZGVuIHAtMTAgbWluLXctNTAgdy1hdXRvIGZsdWlkLWggZmxleCBjb2x1bW4gY29udGFpbmVyXFxcIiA+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oZWFkZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSBmbHVpZCBpY29uIGlucHV0XFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1maWx0ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJTZWFyY2ggZmlsdGVyLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwic2VhcmNoIGljb25cXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tdC0xMFxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBsZWZ0IHNob3ctYWxsLWNvbHVtblxcXCI+U2hvdyBBbGw8L2E+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSByaWdodCBoaWRlLWFsbC1jb2x1bW5cXFwiPkhpZGUgQWxsPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgY2xlYXJcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLXRhYmxlIGd1aSBmbHVpZCBoLTkwIG9mLWF1dG8gcC01IG0tdC0xMFxcXCIgPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgc21hbGwgdmVyeSBib3JkZXItbGVzcyBiYXNpYyBjb21wYWN0IHRhYmxlXFxcIj5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNoZWNrZWQgPSBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgcmV0dXJuICFib29sID8gXCJjaGVja2VkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja2VkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxjYXB0aW9uIGNsYXNzPVxcXCJndWkgZ3VpLXN1YmhlYWRpbmctMiBtLTAgcC0wIHRleHQtbGVmdFxcXCI+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcHRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCI8L2NhcHRpb24+XFxuXCI7XG59LFwiM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMgKi8gMjcpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcIkNvbHVtblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29ydGFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjZcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzICovIDI4KSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCwoZGF0YSAmJiBkYXRhLmluZGV4KSx7XCJuYW1lXCI6XCJPcmRlcmVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHJvbGU9XFxcImNvbHVtbmhlYWRlclxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQWRkLnRzICovIDIpKS5jYWxsKGFsaWFzMSwoZGF0YSAmJiBkYXRhLmluZGV4KSwzLHtcIm5hbWVcIjpcIkFkZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLXNvcnQ9XFxcIm5vbmVcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImd1aSBjdXJzb3ItZGVmYXVsdCBkaXNhYmxlZFxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9BcmlhSGlkZGVuLnRzICovIDI5KSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmhpZGRlbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiQXJpYUhpZGRlblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cXFwiaGVhZGVyLVwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaGVhZGVyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIHN1YiBoZWFkZXJcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiaW5uZXItY29udGFpbmVyIGd1aSBmbHVpZCBjb250YWluZXJcXFwiIFxcbiAgICBhcmlhLXJlYWRvbmx5PVxcXCJ0cnVlXFxcIiBcXG4gICAgYXJpYS1yb3djb3VudD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJvd0xlbmd0aCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxuICAgIGFyaWEtY29sY291bnQ9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0FkZC50cyAqLyAyKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGVuZ3RoIDogc3RhY2sxKSwyLHtcIm5hbWVcIjpcIkFkZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcbiAgICBhcmlhLWxhYmVsPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY2FwdGlvbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXG4gICAgc3VtbWFyeT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnN1bW1hcnkgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxuICAgIGFyaWEtbGl2ZT1cXFwicG9saXRlXFxcIlxcbiAgICByb2xlPVxcXCJncmlkXFxcIiBcXG4gICAgc3R5bGU9XFxcInBhZGRpbmc6MCU7XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtaGVhZGVyXFxcIj5cXG4gICAgICAgIDx0YWJsZSBpZD1cXFwiaGVhZGVydGFibGVcXFwiIHJvbGU9XFxcInByZXNlbnRhdGlvblxcXCIgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IHNvcnRhYmxlIGZpeGVkIHNpbmdsZSBsaW5lIHRhYmxlXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNob3dDYXB0aW9uIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImhlYWRlckNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2NvbGdyb3VwPlxcbiAgICAgICAgICAgIDx0aGVhZCByb2xlPVxcXCJyb3dncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDx0ciByb2xlPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoIHJvbGU9XFxcImNvbHVtbmhlYWRlclxcXCIgYXJpYS1jb2xpbmRleD1cXFwiMVxcXCI+PC90aD5cXG4gICAgICAgICAgICAgICAgICAgIDx0aCByb2xlPVxcXCJjb2x1bW5oZWFkZXJcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIlNlbGVjdCBhbGwgcm93cyBvZiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY2FwdGlvbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIiBDaGVja2JveFxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiMlxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cXFwic2VsZWN0LWFsbC1jaGVja2JveFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0ICB0eXBlPVxcXCJjaGVja2JveFxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XFxcInNlbGVjdC1hbGwtY2hlY2tib3hcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwic2VsZWN0LWFsbC1jaGVja2JveCBjdXJzb3ItcG9pbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICA8L3RoZWFkPlxcbiAgICAgICAgPC90YWJsZT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRhYmxlLWJvZHlcXFwiPlxcbiAgICAgICAgPHRhYmxlIHJvbGU9XFxcInByZXNlbnRhdGlvblxcXCIgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IGZpeGVkIHNlbGVjdGFibGUgc2luZ2xlIGxpbmUgdGFibGUgbWFpblRhYmxlXFxcIj5cXG4gICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImJvZHlDb2xHcm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPiBcXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvY29sZ3JvdXA+XFxuICAgICAgICAgICAgPHRib2R5IGNsYXNzPVxcXCJtYWluVGFibGVCb2R5XFxcIiByb2xlPVxcXCJyb3dncm91cFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzICovIDEwKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1tYWluLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1mb290ZXIgZ3VpIGgtYXV0byBmbHVpZC13IGZsZXggamMtc2IgcC01IG0tMFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyAqLyA4KSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1mb290ZXJcIixcImRhdGFcIjpkYXRhLFwiaW5kZW50XCI6XCIgICAgICAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9kaXY+XFxuPC9kaXY+XCI7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29sdW1uID0gZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgdmFyIGNhbGNXaWR0aCA9IGNvbC5oaWRkZW4gPyAwIDogY29sLndpZHRoO1xyXG4gICAgdmFyIGRhdGFBdHRySWQgPSAnZGF0YS1oZWFkZXItaWQ9XCInICsgY29sLmlkICsgJ1wiJztcclxuICAgIHJldHVybiAnPGNvbCBzdHlsZT1cIndpZHRoIDogJyArIGNhbGNXaWR0aCArICdweDtcIicgKyBkYXRhQXR0cklkICsgXCIgLz5cIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQ29sdW1uO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEdyaWRPcmRlckRpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbiAqLyA2KTtcclxudmFyIG9yZGVyZWQgPSBmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xyXG4gICAgdmFyIHBhcnNlZEludCA9IHBhcnNlSW50KGluZGV4LCAxMCkgKyAzO1xyXG4gICAgdmFyIGFyaWFTb3J0U3RyO1xyXG4gICAgdmFyIGFyaWFMYWJlbFN0cjtcclxuICAgIHZhciBoZWFkZXJJY29uTWs7XHJcbiAgICB2YXIgYXJpYUhpZGRlblN0ciA9IGNvbHVtbi5oaWRkZW4gPyBcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCJcIiA6IFwiIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCJcIjtcclxuICAgIHZhciB0YWJJbmRleCA9IGNvbHVtbi5zb3J0YWJsZSAmJiAhY29sdW1uLmhpZGRlbiA/IDAgOiAtMTtcclxuICAgIGlmIChjb2x1bW4ub3JkZXJCeSA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkFzYykge1xyXG4gICAgICAgIGhlYWRlckljb25NayA9IFwiIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXBcXFwiIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCIgPjwvaT4gXCIgK1xyXG4gICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctZG93biBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT5cIjtcclxuICAgICAgICBhcmlhU29ydFN0ciA9IFwiYXJpYS1zb3J0PVxcXCJhc2NlbmRpbmdcXFwiXCI7XHJcbiAgICAgICAgYXJpYUxhYmVsU3RyID0gY29sdW1uLm5hbWUgKyBcIiBzb3J0ZWQgYXNjZW5kaW5nXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjb2x1bW4ub3JkZXJCeSA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkRlc2MpIHtcclxuICAgICAgICBoZWFkZXJJY29uTWsgPSBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXAgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd25cXFwiIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCIgPjwvaT5cIjtcclxuICAgICAgICBhcmlhU29ydFN0ciA9IFwiYXJpYS1zb3J0PVxcXCJkZXNjZW5kaW5nXFxcIlwiO1xyXG4gICAgICAgIGFyaWFMYWJlbFN0ciA9IGNvbHVtbi5uYW1lICsgXCIgc29ydGVkIGRlc2NlbmRpbmdcIjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGhlYWRlckljb25NayA9IFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy11cCBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCIgK1xyXG4gICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctZG93biBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT5cIjtcclxuICAgICAgICBhcmlhU29ydFN0ciA9IFwiYXJpYS1zb3J0PVxcXCJub25lXFxcIlwiO1xyXG4gICAgICAgIGFyaWFMYWJlbFN0ciA9IGNvbHVtbi5uYW1lICsgXCIgUHJlc3MgZW50ZXIgdG8gc29ydCBpbiBhc2NlbmRpbmcgb3JkZXIuXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBhcmlhLWNvbGluZGV4PVxcXCJcIiArIHBhcnNlZEludFxyXG4gICAgICAgICsgXCJcXFwiIHRhYmluZGV4PVxcXCJcIiArIHRhYkluZGV4ICsgXCJcXFwiIGNsYXNzPVxcXCJndWkgY3Vyc29yLXBvaW50ZXJcXFwiIGlkPVxcXCJoZWFkZXItXCJcclxuICAgICAgICArIGNvbHVtbi5pZCArIFwiXFxcIlwiXHJcbiAgICAgICAgKyBcIiBkYXRhLWhlYWRlci1pZD1cXFwiXCIgKyBjb2x1bW4uaWQgKyBcIlxcXCIgXCJcclxuICAgICAgICArIGFyaWFTb3J0U3RyXHJcbiAgICAgICAgKyBhcmlhSGlkZGVuU3RyXHJcbiAgICAgICAgKyBcIiBhcmlhLWxhYmVsPVxcXCJcIiArIGFyaWFTb3J0U3RyICsgXCJcXFwiIFwiXHJcbiAgICAgICAgKyBcIiB0aXRsZT1cXFwiXCIgKyBjb2x1bW4ubmFtZSArIFwiXFxcIiBcIlxyXG4gICAgICAgICsgXCIgID5cIlxyXG4gICAgICAgICsgXCIgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyIG0tci01XFxcIj5cIiArIGNvbHVtbi5uYW1lICsgXCI8L3NwYW4+XCJcclxuICAgICAgICArIGhlYWRlckljb25Na1xyXG4gICAgICAgICsgXCIgPC90aD5cIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gb3JkZXJlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9BcmlhSGlkZGVuLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhcmlhSGlkZGVuID0gZnVuY3Rpb24gKGJvb2wpIHtcclxuICAgIHJldHVybiBib29sID8gXCJhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCJcIiA6IFwiYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBhcmlhSGlkZGVuO1xyXG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGdyaWRvby5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYmEyYWNiZWUyOTRhNzUwM2Q5YWIiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcIkhhbmRsZWJhcnNcIixcImFtZFwiOlwiaGFuZGxlYmFycy5ydW50aW1lXCIsXCJjb21tb25qczJcIjpcImhhbmRsZWJhcnMvcnVudGltZVwiLFwiY29tbW9uanNcIjpcImhhbmRsZWJhcnMvcnVudGltZVwifVxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IGRpc2FibGVkID0gKGJvb2w6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBcImRpc2FibGVkXCIgOiBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGlzYWJsZWQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMiLCJjb25zdCBBZGQgPSAobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiAobGVmdCArIHJpZ2h0KS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0FkZC50cyIsImltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBJUGFnaW5hdGlvbklucHV0IH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvbklucHV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFnaW5hdGlvbkRhdGE6IElQYWdpbmF0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEgPSAocGFnaW5hdGlvbklucHV0OiBJUGFnaW5hdGlvbklucHV0KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRpb25EYXRhOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleDtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZVNpemUgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemU7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplcyA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZXM7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnRvdGFsQ291bnQgPSBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudDtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID0gTWF0aC5jZWlsKHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IC8gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgbWluTnVtID0gKChwYWdpbmF0aW9uSW5wdXQucGFnZUluZGV4IC0gMSkgKiBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUpO1xyXG4gICAgICAgICAgICBjb25zdCBsb3dlckxpbWl0T2Zmc2V0ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplID4gcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5yYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgIG1pbiA6IG1pbk51bSArIDEsXHJcbiAgICAgICAgICAgICAgICBtYXggOiBtaW5OdW0gKyBsb3dlckxpbWl0T2Zmc2V0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDEgfHwgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSAxO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5sYXN0UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyk7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnByZXZQYWdlTGlua0Rpc2FibGVkICA9IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCAtIDEpIDw9IDA7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLm5leHRQYWdlTGlua0Rpc2FibGVkICA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ICsgMSkgPj0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzO1xyXG4gICAgICAgICAgICBQYWdlci5wYWdpbmF0aW9uRGF0YSA9IHBhZ2luYXRpb25EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFBhZ2luYXRpb25EYXRhKCk6IElQYWdpbmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gUGFnZXIucGFnaW5hdGlvbkRhdGE7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImpRdWVyeVwiXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb25cIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbW9uVXRpbCB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRDb2x1bW5PYmplY3QgPSAoY29sdW1uSWQ6IHN0cmluZywgY29sdW1uczogSUNvbHVtbltdKTogSUNvbHVtbiA9PiB7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkID09IG51bGwgfHwgY29sdW1ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmV0Q29sOiBJQ29sdW1uO1xyXG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sOiBJQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXRDb2wgPSBjb2w7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Q29sO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBTZXRPcmRlciA9IChjb2x1bW5JZDogc3RyaW5nLCBvcmRlckJ5OiBHcmlkT3JkZXJEaXJlY3Rpb24sIGNvbHVtbnM6IElDb2x1bW5bXSk6IElDb2x1bW4gPT4ge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCA9PSBudWxsIHx8IGNvbHVtbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJldENvbDogSUNvbHVtbjtcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goKGNvbDogSUNvbHVtbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgY29sLm9yZGVyQnkgPSBvcmRlckJ5O1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL3V0aWwvQ29sdW1uVXRpbC50cyIsImV4cG9ydCBlbnVtIEdyaWRPcmRlckRpcmVjdGlvbiB7XHJcbiAgICBOb25lID0gXCJOb25lXCIsXHJcbiAgICBBc2MgPSBcIkFzY1wiLFxyXG4gICAgRGVzYyA9IFwiRGVzY1wiLFxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbi50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHRyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJndWkgcnYtcGFyZW50XFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ249XFxcInRvcFxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWx0ZXItdHlwZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnR5cGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnR5cGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInR5cGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWZpbHRlci1rZXk9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWx0ZXItdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hY3R1YWxWYWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImFjdHVhbFZhbHVlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtbk5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbk5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbHVtbk5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlsdGVyYWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29sdW1uVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5WYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPC90cj5cXHJcXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC01IHJ2LWNoaWxkIGd1aS1jYXB0aW9uXFxcIiA+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYWRkIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIGFkZEZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLW1pbnVzIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIHJlbW92ZUZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiPHRyIGlkPVxcXCJkZXRhaWxzLXJvdy1cIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW5kZXggfHwgKGRhdGEgJiYgZGF0YS5pbmRleCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaW5kZXhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiZ3VpIGd1aS1oaWRkZW4gZGV0YWlsc1Jvd1xcXCIgYXJpYS1saXZlPVxcXCJwb2xpdGVcXFwiPlxcclxcbiAgICA8dGQgY29sc3Bhbj1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmxlbmd0aCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubGVuZ3RoIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJsZW5ndGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIHZlcnkgY29tcGFjdCBzZWxlY3RhYmxlIGNlbGxlZCB0YWJsZSBkZXRhaWxzVGFibGUgbS1sLTM3IHAtNVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgc3R5bGU9XFxcIndpZHRoOiBhdXRvO1xcXCIgPlxcclxcbiAgICAgICAgICAgIDx0Ym9keT5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dDb2xBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC90ZD5cXHJcXG48L3RyPlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiaGFuZGxlYmFyc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICA8b3B0aW9uIFwiXG4gICAgKyBhbGlhczEoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcU2VsZWN0ZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemUgOiBzdGFjazEpLGRlcHRoMCx7XCJuYW1lXCI6XCJTZWxlY3RlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvb3B0aW9uPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KTtcblxuICByZXR1cm4gXCI8ZGl2IHJvbGU9XFxcIm5hdmlnYXRpb25cXFwiIGNsYXNzPVxcXCJndWkgZmxleCBqYy1zYiBndWktc3ViaGVhZGluZy0xIHRleHQtbGVmdCBtLTBcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBmaXJzdExpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZmlyc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLXByZXZpb3VzXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBwcmV2TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcRGlzYWJsZWQudHNcIikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxtYXRoLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIi1cIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIFByZXZcXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0LWNvbnRhaW5lciBtZWRpdW0gaC0zMCBpbnB1dCBmbGV4IGpjLXNiIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTVcXFwiPiBQYWdlIDwvZGl2PlxcclxcbiAgICAgICAgPGlucHV0ICBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0IGgtMzAgdy01MCBtLXItNVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIFBhZ2UgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byBQYWdlIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHR5cGU9XFxcInRleHRcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiUGFnZSBOdW1iZXIgLi4uXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vLW9mLXBhZ2VzLXNjYW5cXFwiIFxcclxcbiAgICAgICAgICAgICBkYXRhLW51bWJlci1vZi1wYWdlcz1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT2ZQYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgIG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbmV4dExpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmV4dFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXERpc2FibGVkLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmV4dFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgbmV4dCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXG1hdGgudHNcIikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiK1wiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiA+XFxyXFxuICAgICAgICAgICAgTmV4dFxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBsYXN0TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcRGlzYWJsZWQudHNcIikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09GcGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1uZXh0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiZ3VpIGd1aS1zdWJoZWFkaW5nLTEgZmxleCBqYy1zYiB0ZXh0LXJpZ2h0IG0tMFxcXCI+XFxyXFxuICAgIDxsYWJlbCAgZm9yPVxcXCJwYWdlLXNpemUtc2VsZWN0b3JcXFwiIFxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgICAgICBSb3dzIFBlciBQYWdlXFxyXFxuICAgIDwvbGFiZWw+XFxyXFxuICAgIDxzZWxlY3QgaWQ9XFxcInBhZ2Utc2l6ZS1zZWxlY3RvclxcXCIgXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcImd1aSBwYWdlU2l6ZVNlbGVjdG9yIG0tci0xMCBoLTMwXFxcIj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VTaXplcyA6IHN0YWNrMSkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwLCBibG9ja1BhcmFtcywgZGVwdGhzKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1pbiA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRvdGFsQ291bnQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgaXRlbXNcXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWUsXCJ1c2VEZXB0aHNcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhic1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IG1hdGggPSAobHZhbHVlOiBudW1iZXIsIG9wZXJhdG9yOiBzdHJpbmcsIHJ2YWx1ZTogbnVtYmVyLCBvcHRpb25zKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCIrXCI6IGx2YWx1ZSArIHJ2YWx1ZSxcclxuICAgICAgICBcIi1cIjogbHZhbHVlIC0gcnZhbHVlLFxyXG4gICAgICAgIFwiKlwiOiBsdmFsdWUgKiBydmFsdWUsXHJcbiAgICAgICAgXCIvXCI6IGx2YWx1ZSAvIHJ2YWx1ZSxcclxuICAgICAgICBcIiVcIjogbHZhbHVlICUgcnZhbHVlLFxyXG4gICAgfVtvcGVyYXRvcl07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYXRoO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCI8dHIgYXJpYS1yb3dpbmRleD1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxBZGQudHNcIikpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dJbmRleCA6IGRlcHRoMCksMSx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIm1haW5Sb3cgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxCb29sQXR0cmlidXRlLnRzXCIpKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNBbGxTZWxlY3RlZCA6IGRlcHRoMCksXCJhY3RpdmVcIix7XCJuYW1lXCI6XCJCb29sQXR0cmlidXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiIGRhdGEtcGstYXR0cj1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtleUNvbHVtbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgcm9sZT1cXFwicm93XFxcIiA+XFxyXFxuICAgIDx0ZCBjbGFzcz1cXFwiZXhwYW5zaW9uQXJyb3dzXFxcIiBcXHJcXG4gICAgICAgIGNsYXNzPVxcXCJndWkgZmxleCBqYy1zYlxcXCJcXHJcXG4gICAgICAgIGFyaWEtY29saW5kZXg9XFxcIjFcXFwiXFxyXFxuICAgICAgICByb2xlPVxcXCJncmlkY2VsbFxcXCI+XFxyXFxuICAgICAgICA8aSBhcmlhLWxhYmVsPVxcXCJQcmVzcyBlbnRlciB0byBleHBhbmQgdGhlIGRldGFpbHMgUm93XFxcIiBcXHJcXG4gICAgICAgICAgIHRpdGxlPVxcXCJQcmVzcyBlbnRlciB0byBleHBhbmQgdGhlIGRldGFpbHMgUm93XFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtY29udHJvbHM9XFxcImRldGFpbHMtcm93LVwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkYXRhICYmIGRhdGEuaW5kZXgpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLWRvd24gZXhwYW5kRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXJcXFwiIFxcclxcbiAgICAgICAgICAgdGFiaW5kZXg9XFxcIjBcXFwiIFxcclxcbiAgICAgICAgICAgYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIj48L2k+XFxyXFxuICAgICAgICA8aSBhcmlhLWxhYmVsPVxcXCJQcmVzcyBlbnRlciB0byBjb2xsYXBzZSB0aGUgZGV0YWlscyBSb3dcXFwiIFxcclxcbiAgICAgICAgICAgdGl0bGU9XFxcIlByZXNzIGVudGVyIHRvIGNvbGxhcHNlIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICBhcmlhLWNvbnRyb2xzPVxcXCJkZXRhaWxzLXJvdy1cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGF0YSAmJiBkYXRhLmluZGV4KSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi11cCBDb2xsYXBzZURldGFpbHNSb3dJY29uIGN1cnNvci1wb2ludGVyIGd1aS1oaWRkZW5cXFwiIFxcclxcbiAgICAgICAgICAgdGFiaW5kZXg9XFxcIjBcXFwiIFxcclxcbiAgICAgICAgICAgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cXHJcXG4gICAgPC90ZD5cXHJcXG4gICAgPHRkIHJvbGU9XFxcImdyaWRjZWxsXFxcIlxcclxcbiAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiMlxcXCIgPlxcclxcbiAgICAgICAgPGlucHV0IGFyaWEtbGFiZWw9XFxcIkNoZWNrYm94IHRvIHNlbGVjdCB0aGUgcm93IHdpdGggSWQgXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtleUNvbHVtbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgdHlwZT1cXFwiY2hlY2tib3hcXFwiXFxyXFxuICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxCb29sQXR0cmlidXRlLnRzXCIpKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNBbGxTZWxlY3RlZCA6IGRlcHRoMCksXCJjaGVja2VkXCIse1wibmFtZVwiOlwiQm9vbEF0dHJpYnV0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJzZWxlY3Qta2V5LWNoZWNrYm94IGN1cnNvci1wb2ludGVyXFxcIj5cXHJcXG4gICAgPC90ZD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dDb2xBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RyPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGdyaWQtZGV0YWlscy1yb3cuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWRldGFpbHMtcm93XCIsXCJkYXRhXCI6ZGF0YSxcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgIDx0ZCB0aXRsZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFjdHVhbFZhbHVlIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIGFyaWEtY29saW5kZXg9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQWRkLnRzXCIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRhdGEgJiYgZGF0YS5pbmRleCksMyx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiYm9keS1cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1uVmFsdWUgOiBkZXB0aDApLCBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IGJvb2xBdHRyaWJ1dGUgPSAoYm9vbDogYm9vbGVhbiwgc3RyOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBzdHIgOiBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYm9vbEF0dHJpYnV0ZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzIiwiaW1wb3J0ICogYXMgalF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcbmltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xuaW1wb3J0IHsgQ29sU2V0dGluZ3NIYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50SGFuZGxlcnMvQ29sU2V0dGluZ3NIYW5kbGVyXCI7XG5pbXBvcnQgeyBTZWxlY3RFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi4vZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXJcIjtcbmltcG9ydCB7IElHcmlkT3JkZXIgfSBmcm9tIFwiLi4vbW9kZWxzL0lHcmlkT3JkZXJcIjtcbmltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xuaW1wb3J0IHsgSVBhZ2luYXRpb25JbnB1dCB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25JbnB1dFwiO1xuaW1wb3J0IHsgUGFnZXIgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi9QYWdlclwiO1xuaW1wb3J0IHsgRGV0YWlsc1Jvd0hhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL0RldGFpbHNSb3dIYW5kbGVyXCI7XG5pbXBvcnQgeyBGaWx0ZXJDbGlja0hhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL0ZpbHRlckNsaWNrSGFuZGxlclwiO1xuaW1wb3J0IHsgSGFuZGxlck5hbWVzIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXNcIjtcbmltcG9ydCB7IEhlYWRlckNsaWNrSGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyXCI7XG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9JRXZlbnRIYW5kbGVyXCI7XG5pbXBvcnQgeyBJSGFuZGxlckNoYWluIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9JSGFuZGxlckNoYWluXCI7XG5pbXBvcnQgeyBQYWdlU2VhcmNoSGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlclwiO1xuaW1wb3J0IHsgU2Nyb2xsSGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlclwiO1xuaW1wb3J0IHsgVG9nZ2xlQ29sdW1uSGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvVG9nZ2xlQ29sdW1uSGFuZGxlclwiO1xuaW1wb3J0IHsgRmlsdGVyQWN0aW9uVHlwZSB9IGZyb20gXCIuLy4uL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlXCI7XG5pbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi8uLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lDb2x1bW5cIjtcbmltcG9ydCB7IEdyaWRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi8uLi9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlXCI7XG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSBcIi4vLi4vdXRpbC9Db2x1bW5VdGlsXCI7XG5pbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi9JR3JpZE9wdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIEdyaWQ8VD4ge1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVDaGFpbjogQXJyYXk8SUhhbmRsZXJDaGFpbjxUPj47XG4gICAgcHJpdmF0ZSBncmlkVGVtcGxhdGVTZXJ2aWNlOiBHcmlkVGVtcGxhdGVTZXJ2aWNlPFQ+O1xuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xuICAgIHByaXZhdGUgdG9nZ2xlSGFuZGxlcjogVG9nZ2xlQ29sdW1uSGFuZGxlcjxUPjtcbiAgICBwcml2YXRlIHNjcm9sbEhhbmRsZXI6IFNjcm9sbEhhbmRsZXI8VD47XG4gICAgcHJpdmF0ZSBtYW5hZ2VDb2xIYW5kbGVyOiBDb2xTZXR0aW5nc0hhbmRsZXI8VD47XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4pIHtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZTxUPihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gbmV3IEdyaWRUZW1wbGF0ZVNlcnZpY2UodGhpcy5jb25maWdTdG9yZSk7XG4gICAgICAgIHRoaXMuSW5pdEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJpbmREYXRhID0gKGRhdGE6IFRbXSwgcGFnaW5hdGlvbklucHV0PzogSVBhZ2luYXRpb25JbnB1dCk6IHZvaWQgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIFBhZ2VyLkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhKHBhZ2luYXRpb25JbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlRGF0YSA9IFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlbmRlcihkYXRhLCBwYWdlRGF0YSk7XG4gICAgICAgIH0sIDEgKTtcbiAgICB9XG4gICAgcHVibGljIHJlUmVuZGVyID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhID0gUGFnZXIucGFnaW5hdGlvbkRhdGE7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsUmVuZGVyKHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhLCBwYWdlRGF0YSk7XG4gICAgICAgIH0sIDEgKTtcbiAgICB9XG4gICAgcHVibGljIHNldENvbENvbmZpZyA9IChjb2xDb25maWc6IElDb2x1bW5bXSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyA9IGNvbENvbmZpZztcbiAgICB9XG4gICAgLy8gVE9ETzogVXBkYXRlIFJvdyBJbmRleFxuICAgIHB1YmxpYyB1cGRhdGVSb3dzID0gKHJvd3M6IFRbXSkgPT4ge1xuICAgICAgICBpZiAoIHJvd3MgPT09IHVuZGVmaW5lZCB8fCAhcm93cy5sZW5ndGggKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLnVwZGF0ZVJvd3Mocm93cyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uO1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgICAgICAgICBjb25zdCByb3dIdG1sID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmdldFRlbXBsYXRlRm9yT25lUm93KHJvdyk7XG4gICAgICAgICAgICBjb25zdCByb3dKcSA9ICQocm93SHRtbCk7XG4gICAgICAgICAgICBjb250YWluZXIuZmluZChcIi5tYWluUm93XCIpLmVhY2goKGk6IG51bWJlciwgbVI6IEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtckpxID0gJChtUik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGtJZCA9IG1ySnEuYXR0cihcImRhdGEtcGstYXR0clwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIHBrSWQgPT09IHJvd1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ySnEuaHRtbChyb3dKcVswXS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICBtckpxLm5leHQoKS5odG1sKHJvd0pxWzJdLmlubmVySFRNTCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwdWJsaWMgYmluZE1hbmFnZUNvbHVtcyA9IChtYW5hZ2VDb2xDb250YWluZXI/OiBIVE1MRWxlbWVudCwgZm9yY2U/OiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgLy8gICAgIGlmICh0aGlzLm1hbmFnZUNvbEhhbmRsZXIgIT09IHVuZGVmaW5lZCAmJiAhZm9yY2UgKSB7XG4gICAgLy8gICAgICAgICByZXR1cm47XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgY29uc3QgaHRtbCA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRNYW5hZ2VDb2x1bW5zSHRtbCgpO1xuICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KG1hbmFnZUNvbENvbnRhaW5lclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XG4gICAgLy8gICAgIHRoaXMudG9nZ2xlSGFuZGxlciA9IG5ldyBUb2dnbGVDb2x1bW5IYW5kbGVyKHRoaXMuY29uZmlnU3RvcmUsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCkpO1xuICAgIC8vICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIgPSBlbGVtZW50WzBdO1xuICAgIC8vICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIgPSBuZXcgQ29sU2V0dGluZ3NIYW5kbGVyPFQ+KGpRdWVyeShlbGVtZW50KSwgdGhpcy5jb25maWdTdG9yZSwgdGhpcy50b2dnbGVIYW5kbGVyKTtcbiAgICAvLyAgICAgZWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIikuaHRtbChodG1sKTtcbiAgICAvLyAgICAgdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xuICAgIC8vICAgICBqUXVlcnkod2luZG93KS5yZXNpemUodGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JDcyk7XG4gICAgLy8gICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2sodGhpcy5kb2N1bWVudENsaWNrSGFuZGxlckZvckNzKTtcbiAgICAvLyB9XG4gICAgLy8gcHVibGljIGFwcGx5Q29sdW1uQ29uZmlnID0gKGNvbHVtbnM6IElDb2x1bW5bXSkgPT4ge1xuICAgIC8vICAgICB0aGlzLnRvZ2dsZUhhbmRsZXIuYXBwbHlDb2x1bW5Db25maWcoY29sdW1ucyk7XG4gICAgLy8gICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0TWFuYWdlQ29sdW1uc0h0bWwoKTtcbiAgICAvLyAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcbiAgICAvLyAgICAgZWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIikuaHRtbChodG1sKTtcbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgc2V0T3JkZXIgPSAob3JkZXJCeUxpc3Q6IElHcmlkT3JkZXJbXSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucykge1xuICAgICAgICAgICAgY29sLm9yZGVyQnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnlMaXN0ID09PSB1bmRlZmluZWQgfHwgb3JkZXJCeUxpc3QgPT09IG51bGwgfHwgb3JkZXJCeUxpc3QubGVuZ3RoID09PSAwICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgb3JkZXJDb2wgb2Ygb3JkZXJCeUxpc3QpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9yZGVyQ29sLmNvbElkID09PSBjb2wuaWQgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gb3JkZXJDb2wub3JkZXJCeTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xuICAgICAgICBpZiAoIHBhcmVudEVsZW1lbnQgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQub2ZmKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc3QgbWFuYWdlQ29udGFpbmVyRWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xuICAgICAgICAvLyBpZiAoIG1hbmFnZUNvbnRhaW5lckVsZW1lbnQgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gICAgIG1hbmFnZUNvbnRhaW5lckVsZW1lbnQub2ZmKCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgJCh3aW5kb3cpLm9mZihcInJlc2l6ZVwiLCB0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlcik7XG4gICAgICAgICQoZG9jdW1lbnQpLm9mZihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIpO1xuICAgICAgICAkKHdpbmRvdykub2ZmKFwicmVzaXplXCIsIHRoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MpO1xuICAgICAgICAkKGRvY3VtZW50KS5vZmYoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyRm9yQ3MpO1xuICAgICAgICBpZiAoIHRoaXMuc2Nyb2xsSGFuZGxlciAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLnVuV2F0Y2hXaWR0aCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgaW50ZXJuYWxSZW5kZXIgPSAoZGF0YTogVFtdLCBwYWdpbmF0aW9uSW5wdXQ/OiBJUGFnaW5hdGlvbklucHV0KTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbGFzdEluZGV4ID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNodW5rU2l6ZSArIHRoaXMuZ2V0SW5pdGlhbFJvd0NvdW50KCk7XG4gICAgICAgIGxhc3RJbmRleCA9IGxhc3RJbmRleCA+PSBkYXRhLmxlbmd0aCA/IGRhdGEubGVuZ3RoIC0gMSA6IGxhc3RJbmRleDtcbiAgICAgICAgY29uc3QgZ3JpZENvbnRlbnQ6IHN0cmluZyA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRGaXJzdFRlbXBsYXRlKGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gZ3JpZENvbnRlbnQ7XG4gICAgICAgIGlmICggdGhpcy5zY3JvbGxIYW5kbGVyICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zY3JvbGxIYW5kbGVyICE9PSBudWxsICkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyLnJlbW92ZUhhbmRsZXIoKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlci5yZXNldFBhcmVudE9mZnNldCgpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyLnNldEN1cnJlbnRJbmRleChsYXN0SW5kZXggKyAxICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIgPSBuZXcgU2Nyb2xsSGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UsIGxhc3RJbmRleCArIDEpO1xuICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLndhdGNoV2lkdGgoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIuUmVnaXN0ZXJEb21IYW5kbGVyKCk7XG4gICAgICAgIHRoaXMuc2V0Rm9jdXNUb0xhc3RFbGVtZW50KCk7XG4gICAgfVxuICAgIHByaXZhdGUgZ2V0SW5pdGlhbFJvd0NvdW50ID0gKCk6IG51bWJlciA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKChqUXVlcnkod2luZG93KS5pbm5lckhlaWdodCgpICogMC42NSApIC8gMzIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgSW5pdEhhbmRsZXJzID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbiA9IFtdO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IERldGFpbHNSb3dIYW5kbGVyPFQ+KHRoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLkRldGFpbHNSb3csXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogIG5ldyBGaWx0ZXJDbGlja0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuRmlsdGVyQWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcbiAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBIZWFkZXJDbGlja0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuSGVhZGVyQ2xpY2ssXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IFBhZ2VTZWFyY2hIYW5kbGVyPFQ+KHRoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLlBhZ2VTZWFyY2gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnRFbGVtZW50O1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IFNlbGVjdEV2ZW50SGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50LCB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLkNvbFNldHRpbmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xuICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZSh0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlcik7XG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2sodGhpcy5kb2N1bWVudENsaWNrSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JDcyA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIub25SZXNpemUoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIHByaXZhdGUgZG9jdW1lbnRDbGlja0hhbmRsZXJGb3JDcyA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIHByaXZhdGUgZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yU2Nyb2xsID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMubWFuYWdlQ29sSGFuZGxlci5vblJlc2l6ZSgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBkb2N1bWVudENsaWNrSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLmZvckVhY2goKHZhbHVlOiBJSGFuZGxlckNoYWluPFQ+KTogdm9pZCA9PiB7XG4gICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLm9uRG9jdW1lbnRDbGljayhldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBkb2N1bWVudFJlc2l6ZUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xuICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIHByaXZhdGUgc2V0Rm9jdXNUb0xhc3RFbGVtZW50ID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb25maWdTdG9yZS5nZXRGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgIGlmICggZWxlbWVudCApIHtcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmaXJzdExpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAuZmlyc3RMaW5rXCIpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dExpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAubmV4dExpbmtcIikuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwcmV2TGlua1wiKSkge1xuICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5wcmV2TGlua1wiKS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImxhc3RMaW5rXCIpKSB7XG4gICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLmxhc3RMaW5rXCIpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGFnZVNpemVTZWxlY3RvclwiKSkge1xuICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5wYWdlU2l6ZVNlbGVjdG9yXCIpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGFnZXItaW5wdXRcIikpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAucGFnZXItaW5wdXRcIikuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidGhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFIZWFkZXJJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1oZWFkZXItaWRcIik7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZvY3VzYWJsZTtcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWhlYWRlciB0aFwiKS5lYWNoKChpbmRleDogbnVtYmVyLCBlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYWNoSGVhZGVyID0gJChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWFjaEhlYWRlcklkID0gZWFjaEhlYWRlci5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICggZWFjaEhlYWRlcklkID09PSBkYXRhSGVhZGVySWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGb2N1c2FibGUgPSBlYWNoSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCBuZXdGb2N1c2FibGUgKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9tYWluL0dyaWQudHMiLCJpbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi4vbWFpbi9JR3JpZE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgRmlsdGVyQWN0aW9uVHlwZSB9IGZyb20gXCIuLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4uL21vZGVscy9JQ29sdW1uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlnU3RvcmU8VD4ge1xyXG4gICAgcHVibGljIG9wdGlvbnM6IElHcmlkT3B0aW9uczxUPjtcclxuICAgIHByaXZhdGUgZm9jdXNhYmxlRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRlZmF1bHRHcmlkT3B0aW9uczogSUdyaWRPcHRpb25zPFQ+ID0ge1xyXG4gICAgICAgIGFuaW1hdGlvblRpbWU6IDIwMCxcclxuICAgICAgICBjaHVua1NpemU6IDUsXHJcbiAgICAgICAgY29sdW1uczogW10sXHJcbiAgICAgICAgY29udGFpbmVyRWxlbWVudDogbnVsbCxcclxuICAgICAgICAvLyBtYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICBoeWJyaWRGdW5jdGlvbjogKGNvbHVtbjogSUNvbHVtbiwgcm93OiBUKTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAga2V5Q29sdW1uOiBcIlwiLFxyXG4gICAgICAgIC8vIG9uQ29sU2V0dGluZ3NDaGFuZ2U6IChjb2xDb25maWc6IElDb2x1bW5bXSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vICAgICAvLyBObyBDb2RlXHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICBvbkNsaWNrRmlsdGVyOiAoY29sdW1uOiBzdHJpbmcsIHZhbHVlOiBhbnksIGFjdGlvblR5cGU6IEZpbHRlckFjdGlvblR5cGUpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DbGlja0hlYWRlcjogKGNvbHVtbjogc3RyaW5nLCBkaXJlY3Rpb246IEdyaWRPcmRlckRpcmVjdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblBhZ2VTZWFyY2g6IChwYWdlU2l6ZTogbnVtYmVyLCBwYWdlSW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblNlbGVjdDogKHJvd3M6IFRbXSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBObyBDb2RlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXHJcbiAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICBzdW1tYXJ5OiBcIlwiLFxyXG4gICAgfTtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IElHcmlkT3B0aW9uczxUPikge1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXJFbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBQcm92aWRlIGEgdmFsaWQgY29udGFpbmVyIEVsZW1lbnQgb2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29sdW1ucy5zb3J0KChwcmV2LCBuZXh0KSA9PiBwcmV2Lm9yZGVyIC0gbmV4dC5vcmRlcik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IE9wdGlvbnMob3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgT3B0aW9ucygpOiBJR3JpZE9wdGlvbnM8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0Rm9jdXNhYmxlRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuZm9jdXNhYmxlRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0Rm9jdXNhYmxlRWxlbWVudCA9ICgpOiBIVE1MRWxlbWVudCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9jdXNhYmxlRWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBTZXRIaWRkZW5PbkNvbmZpZyA9IChib29sOiBib29sZWFuLCBjb2x1bW5JZD86IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgY29sIG9mIHRoaXMuT3B0aW9ucy5jb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5JZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb2wuaGlkZGVuID0gYm9vbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sLmhpZGRlbiA9IGJvb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGV4dGVuZE9wdGlvbnMgPSAoaW5wdXRPcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4pOiBJR3JpZE9wdGlvbnM8VD4gPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMgPSBqUXVlcnkuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRHcmlkT3B0aW9ucywgaW5wdXRPcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2NvbmZpZy9Db25maWdTdG9yZS50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBHcmlkVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RFdmVudEhhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnksIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD4pIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBncmlkVGVtcGxhdGVTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWtleS1jaGVja2JveFwiICwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2Uuc2VsZWN0Um93cyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5kZVNlbGVjdFJvd3ModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRzKFwiLm1haW5Sb3dcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdCh0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuU2VsZWN0ZWQsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWFsbC1jaGVja2JveFwiICwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuc2VsZWN0LWtleS1jaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5zZWxlY3RBbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZSAubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5kZVNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlIC5tYWluUm93XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdCh0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuU2VsZWN0ZWQsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBJZ25vcmVcclxuICAgIH1cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuZXhwb3J0IGNsYXNzIERldGFpbHNSb3dIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCB0aGlzLmV4cGFuZFJvdyk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5dXBcIiwgXCIudGFibGUtYm9keSAuZXhwYW5zaW9uQXJyb3dzIGlcIiwgdGhpcy5leHBhbmRSb3cpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBleHBhbmRSb3cgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjb2RlID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaDtcclxuICAgICAgICBpZiAoIGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiAmJiAoZXZlbnQudHlwZSA9PT0gXCJrZXl1cFwiICYmIGNvZGUgIT09IDEzICYmIGNvZGUgIT09IDMyKSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcnJvdyA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGRldGFpbHNSb3cgPSBhcnJvdy5jbG9zZXN0KFwidHJcIikubmV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJY29uID0gYXJyb3cuaGlkZSgpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XHJcbiAgICAgICAgY29uc3Qgb3RoZXJJY29uID0gYXJyb3cuc2libGluZ3MoXCJpXCIpLnNob3coKS5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICBpZiAoYXJyb3cuaGFzQ2xhc3MoXCJleHBhbmREZXRhaWxzUm93SWNvblwiKSkge1xyXG4gICAgICAgICAgICBvdGhlckljb24uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICBkZXRhaWxzUm93LnNsaWRlRG93bih0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudEljb24uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICBkZXRhaWxzUm93LnNsaWRlVXAodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdGhlckljb24uZm9jdXMoKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4uL21haW4vSUdyaWRPcHRpb25zXCI7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9Db2x1bW5VdGlsXCI7XHJcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQgeyBJRmlsdGVyQ2xpY2tEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uL21vZGVscy9JRmlsdGVyQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbHRlckNsaWNrSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmRldGFpbHNSb3cgLmRldGFpbHNUYWJsZSB0ZCBpXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFRkID0gZWxlbWVudC5wYXJlbnRzKFwidGRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci1rZXlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXZhbHVlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXR5cGVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGtleSwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuZmlsdGVyYWJsZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZmlsdGVyQWN0aW9uOiBGaWx0ZXJBY3Rpb25UeXBlID0gRmlsdGVyQWN0aW9uVHlwZS5BZGQ7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKFwicmVtb3ZlRmlsdGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlLk1pbnVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0ZpbHRlcihrZXksIHZhbHVlLCBmaWx0ZXJBY3Rpb24sIHR5cGUpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzIiwiZXhwb3J0IGVudW0gRmlsdGVyQWN0aW9uVHlwZSB7XHJcbiAgICBBZGQgPSBcIkFkZFwiLFxyXG4gICAgTWludXMgPSBcIk1pbnVzXCIsXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsImV4cG9ydCBlbnVtIEhhbmRsZXJOYW1lcyB7XHJcbiAgICBGaWx0ZXJBY3Rpb24sXHJcbiAgICBIZWFkZXJDbGljayxcclxuICAgIFNjcm9sbCxcclxuICAgIFBhZ2VTZWFyY2gsXHJcbiAgICBEZXRhaWxzUm93LFxyXG4gICAgVG9nZ2xlQ29sdW1uLFxyXG4gICAgQ29sU2V0dGluZ3MsXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hhbmRsZXJOYW1lcy50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi4vbWFpbi9JR3JpZE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL0NvbHVtblV0aWxcIjtcclxuaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xyXG5pbXBvcnQge0lIZWFkZXJDbGlja0RlbGVnYXRlfSBmcm9tIFwiLi8uLi9tb2RlbHMvSUhlYWRlckNsaWNrRGVsZWdhdGVcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIZWFkZXJDbGlja0hhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHdhc0hlYWRlckNsaWNrZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGxhc3RGb2N1c2VkRWxlbWVudDogYW55O1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Eb2N1bWVudENsaWNrKGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyaW5nIEpRdWVyeSBFdmVudCBIYW5kbGVyIGlmIEhlYWRlciBpcyBDbGlja2VkLlxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCB0aGlzLmhhbmRsZUhlYWRlclNvcnQpO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXVwXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCB0aGlzLmhhbmRsZUhlYWRlclNvcnQpO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcIm1vdXNlZG93blwiICwgXCIudGFibGUtaGVhZGVyIHRoXCIsIHRoaXMuaGFuZGxlTW91c2VEb3duKTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJmb2N1c2luXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCB0aGlzLmhhbmRsZUhlYWRlckZvY3VzKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VEb3duID0gKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLndhc0hlYWRlckNsaWNrZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBoYW5kbGVIZWFkZXJGb2N1cyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vIEhhbmRsZSBmb2N1c1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RGb2N1c2VkRWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndhc0hlYWRlckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxhc3RGb2N1c2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy53YXNIZWFkZXJDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV2ZW50LmRhdGEuY2xpY2tlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBsZWZ0UG9zdGl0aW9uID0gaGVhZGVyLnBvc2l0aW9uKCkubGVmdDtcclxuICAgICAgICBjb25zdCBoZWFkZXJXaWR0aCA9IGhlYWRlci53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlQm9keSA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgY29uc3QgbWFpblRhYmxlQm9keSA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZVwiKTtcclxuICAgICAgICBjb25zdCB2aXNpYmxlVGJvZHlXaWR0aCA9IHRhYmxlQm9keS53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IG1heFNjcm9sbCA9IG1haW5UYWJsZUJvZHkud2lkdGgoKSAtIHZpc2libGVUYm9keVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGxlZnRQb3N0aXRpb24gKyBoZWFkZXJXaWR0aCAqIDI7XHJcbiAgICAgICAgbGV0IHNjcm9sbExlZnRCeTtcclxuICAgICAgICBpZiAoIGN1cnJlbnRQb3NpdGlvbiA+IHZpc2libGVUYm9keVdpZHRoKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbExlZnRCeSA9IGxlZnRQb3N0aXRpb24gPiBtYXhTY3JvbGwgPyBtYXhTY3JvbGwgOiBsZWZ0UG9zdGl0aW9uO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcm9sbExlZnRCeSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYmxlQm9keS5zY3JvbGxMZWZ0KHNjcm9sbExlZnRCeSk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGhhbmRsZUhlYWRlclNvcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjb2RlID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaDtcclxuICAgICAgICBpZiAoIGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiAmJiAoZXZlbnQudHlwZSA9PT0gXCJrZXl1cFwiICYmIGNvZGUgIT09IDEzICYmIGNvZGUgIT09IDMyKSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCkuY2xvc2VzdChcInRoXCIpO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcklkID0gZWxlbWVudC5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgY29uc3QgY29sID0gQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3QoaGVhZGVySWQsIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuc29ydGFibGUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJyb3dJY29ucyA9IGVsZW1lbnQuZmluZChcImlcIik7XHJcbiAgICAgICAgY29uc3QgdXBBcnJvd0ljb24gPSBhcnJvd0ljb25zLmZpcnN0KCk7XHJcbiAgICAgICAgY29uc3QgZG93bkFycm93SWNvbiA9IGFycm93SWNvbnMubGFzdCgpO1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb246IEdyaWRPcmRlckRpcmVjdGlvbjtcclxuICAgICAgICBpZiAoYXJyb3dJY29ucy5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh1cEFycm93SWNvbi5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb24uRGVzYztcclxuICAgICAgICAgICAgICAgIHVwQXJyb3dJY29uLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgdXBBcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmF0dHIoXCJhcmlhLXNvcnRcIiwgZGlyZWN0aW9uID09PSBHcmlkT3JkZXJEaXJlY3Rpb24uRGVzYyA/IFwiZGVzY2VuZGluZ1wiIDogXCJhc2NlbmRpbmdcIik7XHJcbiAgICAgICAgQ29tbW9uVXRpbC5TZXRPcmRlcihoZWFkZXJJZCwgZGlyZWN0aW9uLCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ2xpY2tIZWFkZXIoaGVhZGVySWQsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlci50cyIsImltcG9ydCAqIGFzIGpRdWVyeSBmcm9tIFwianF1ZXJ5XCI7XHJcbmltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBQYWdlciB9IGZyb20gXCIuLi9wYWdpbmF0aW9uL1BhZ2VyXCI7XHJcbmltcG9ydCB7IElQYWdlU2VhcmNoQ2xpY2tEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uL21vZGVscy9JUGFnZVNlYXJjaENsaWNrRGVsZWdhdGVcIjtcclxuaW1wb3J0IHsgSVBhZ2luYXRpb24gfSBmcm9tIFwiLi8uLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlU2VhcmNoSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAuZmlyc3RMaW5rXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgMSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubmV4dExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5wcmV2TGlua1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCAtIDEpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLmxhc3RMaW5rXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXIuUGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZVNpemVTZWxlY3RvclwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gK2pRdWVyeShldmVudC50YXJnZXQpLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2godmFsLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJrZXlwcmVzc1wiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VyLWlucHV0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgaXAgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgcGFnZURhdGEgPSBQYWdlci5QYWdpbmF0aW9uRGF0YTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWw6IG51bWJlciA9ICtpcC52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsID4gcGFnZURhdGEubm9PZlBhZ2VzIHx8IHZhbCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpcC52YWwocGFnZURhdGEucGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChwYWdlRGF0YS5wYWdlU2l6ZSwgdmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlci50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBHcmlkVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4vLi4vc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBJSW5kZXhDb3VudGVyIH0gZnJvbSBcIi4vLi4vdmlydHVhbGl6YXRpb24vSW5kZXhDb3VudGVyXCI7XHJcbmltcG9ydCB7IFNjcm9sbERpcmVjdGlvbiB9IGZyb20gXCIuLy4uL3ZpcnR1YWxpemF0aW9uL1Njcm9sbERpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBWaXJ0dWFsaXplciB9IGZyb20gXCIuLy4uL3ZpcnR1YWxpemF0aW9uL1ZpcnR1YWxpemVyXCI7XHJcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2Nyb2xsSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSB2aXJ0dWFsaXplcjogVmlydHVhbGl6ZXI7XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPjtcclxuICAgIHByaXZhdGUgcmVuZGVyaW5nOiBib29sZWFuID0gIGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIGxlZnRPZmZzZXQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcGFyZW50T2ZmU2V0TGVmdDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgd2F0Y2hlczogYW55W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD4sIGN1cnJlbnRJbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnRJbmRleChjdXJyZW50SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0Q3VycmVudEluZGV4ID0gKGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5DdXJyZW50SW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRDdXJyZW50SW5kZXggPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEluZGV4O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vIE9wXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyaW5nIEpRdWVyeSBFdmVudCBIYW5kbGVyIGlmIEhlYWRlciBpcyBDbGlja2VkLlxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikub24oXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVSZXNpemUpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlbW92ZUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5vZmYoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVSZXNpemUpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlc2V0UGFyZW50T2Zmc2V0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50T2ZmU2V0TGVmdCA9IHRoaXMucGFyZW50RWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgIHRoaXMubGVmdE9mZnNldCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHdhdGNoV2lkdGggPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdGhpcy53YXRjaGVzLnB1c2goc2V0SW50ZXJ2YWwodGhpcy5zZXRIZWFkZXJPZmZzZXQsIDMwMCkpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHVuV2F0Y2hXaWR0aCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy53YXRjaGVzID09PSB1bmRlZmluZWQgfHwgdGhpcy53YXRjaGVzID09PSBudWxsICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2ggb2YgdGhpcy53YXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2F0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgaGFuZGxlUmVzaXplID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdEJvZHlPYmogPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnRPZmZzZXQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmxlZnRPZmZzZXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5jc3MoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwibWFyZ2luLWxlZnRcIjogLTEgKiB0Qm9keU9iai5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBhY3R1YWxUYWJsZUhlaWdodCA9IHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlXCIpLmhlaWdodCgpO1xyXG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lckhlaWdodCA9IHRCb2R5T2JqLmhlaWdodCgpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHRCb2R5T2JqLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgIGlmICgoc2Nyb2xsQ29udGFpbmVySGVpZ2h0ICsgc2Nyb2xsVG9wICkgLSAoYWN0dWFsVGFibGVIZWlnaHQgKiAwLjggKSA+IDAgKSB7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgbGFzdEluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXggKyB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICBpZiAoIGxhc3RJbmRleCA+PSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhTGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBodG1sICA9IGpRdWVyeSh0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuZ2V0VGVtcGxhdGUodGhpcy5jdXJyZW50SW5kZXgsIGxhc3RJbmRleCkpO1xyXG4gICAgICAgICAgICB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZUJvZHlcIikuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEN1cnJlbnRJbmRleCggbGFzdEluZGV4ICsgMSApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEhlYWRlck9mZnNldCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgaWYgKCB0aGlzLnBhcmVudE9mZlNldExlZnQgIT09IGxlZnQgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRCb2R5T2JqID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdE9mZnNldCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5sZWZ0T2Zmc2V0IC0gKHRoaXMucGFyZW50T2ZmU2V0TGVmdCAtIGxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnRcclxuICAgICAgICAgICAgICAgIC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKVxyXG4gICAgICAgICAgICAgICAgLm9mZnNldCh7bGVmdDogdGhpcy5sZWZ0T2Zmc2V0LCB0b3A6IDB9KTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gbGVmdDtcclxuICAgICAgICAgICAgdEJvZHlPYmouc2Nyb2xsTGVmdCh0Qm9keU9iai5zY3JvbGxMZWZ0KCkgLSAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXIudHMiLCJpbXBvcnQgKiBhcyBIYW5kbGViYXJzIGZyb20gXCJoYW5kbGViYXJzXCI7XHJcbmltcG9ydCAqIGFzIEdyaWREZXRhaWxzUm93VGVtcGxhdGUgZnJvbSBcIi4uLy4uL2hicy9ncmlkLWRldGFpbHMtcm93Lmhic1wiO1xyXG5pbXBvcnQgKiBhcyBHcmlkRm9vdGVyIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC1mb290ZXIuaGJzXCI7XHJcbmltcG9ydCAqIGFzIEdyaWRNYWluUm93VGVtcGxhdGUgZnJvbSBcIi4uLy4uL2hicy9ncmlkLW1haW4tcm93Lmhic1wiO1xyXG5pbXBvcnQgKiBhcyBNYW5hZ2VDb2x1bW5UZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtbWFuYWdlLWNvbHVtbnMuaGJzXCI7XHJcbmltcG9ydCAqIGFzIEdyaWRUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQuaGJzXCI7XHJcbmltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcclxuaW1wb3J0IHsgUGFnZXIgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi9QYWdlclwiO1xyXG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lDb2x1bW5cIjtcclxuaW50ZXJmYWNlIElNYWluQ29sUm93QXJyYXkge1xyXG4gICAgY29sdW1uVmFsdWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGhpZGRlbjogYm9vbGVhbjtcclxuICAgIGFjdHVhbFZhbHVlOiBzdHJpbmc7XHJcbiAgICBjb2x1bW5OYW1lOiBzdHJpbmc7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgZmlsdGVyYWJsZTogYm9vbGVhbjtcclxufVxyXG5leHBvcnQgY2xhc3MgR3JpZFRlbXBsYXRlU2VydmljZSA8VD4ge1xyXG4gICAgcHJpdmF0ZSBkYXRhOiBUW107XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkOiBUW10gPSBbXTtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZDogYW55O1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdzogYW55O1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdzogYW55O1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyOiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2w6IGFueTtcclxuICAgIHByaXZhdGUgY3VycmVudEluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQgPSBHcmlkVGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyA9IEdyaWRNYWluUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyA9IEdyaWREZXRhaWxzUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyID0gR3JpZEZvb3RlcjtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2wgPSBNYW5hZ2VDb2x1bW5UZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBpc0FsbFNlbGVjdGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLmxlbmd0aCAhPT0gMCAmJiB0aGlzLnNlbGVjdGVkLmxlbmd0aCA9PT0gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgRGF0YSgpOiBUW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IFNlbGVjdGVkKCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IEN1cnJlbnRJbmRleChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgRGF0YUxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLy8gRm9yIEZpcnN0ICBSZW5kZXIgLSBVcGRhdGUgSGVhZGVyICwgQm9keSwgUGFnaW5hdGlvblxyXG4gICAgcHVibGljIEdldEZpcnN0VGVtcGxhdGUgPSAoZGF0YTogVFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dBcnJheSA9IHRoaXMuR2V0Um93c0h0bWwoZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCh7XHJcbiAgICAgICAgICAgIHNob3dDYXB0aW9uOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuc2hvd0NhcHRpb24sXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5zdW1tYXJ5LFxyXG4gICAgICAgICAgICByb3dMZW5ndGg6IHRoaXMuZGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICBtYWluUm93QXJyYXksXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhOiBQYWdlci5QYWdpbmF0aW9uRGF0YSxcclxuICAgICAgICAgICAgY2FwdGlvbjogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNhcHRpb24sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBGb3IgVmlydHVhbGl6YXRvbiBSZW5kZXIgLSBCb2R5XHJcbiAgICBwdWJsaWMgZ2V0VGVtcGxhdGUgPSAoZmlyc3RJbmRleDogbnVtYmVyLCBsYXN0SW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgY29uc3QgbWFpblJvd0FycmF5ID0gdGhpcy5HZXRSb3dzSHRtbChmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93KHtcclxuICAgICAgICAgICAgY29sdW1uczogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMsXHJcbiAgICAgICAgICAgIG1haW5Sb3dBcnJheSxcclxuICAgICAgICAgICAgY2FwdGlvbjogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNhcHRpb24sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgb25seSBvbmUgUm93XHJcbiAgICBwdWJsaWMgZ2V0VGVtcGxhdGVGb3JPbmVSb3cgPSAocm93OiBUKTogc3RyaW5nID0+IHtcclxuICAgICAgICBjb25zdCBlbXB0eVN0ciA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5lbXB0eVZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dDb2xBcnJheSA9IHRoaXMuZ2V0TWFpblJvdyhyb3csIGVtcHR5U3RyKTtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXkgPSBbe1xyXG4gICAgICAgICAgICBpc0FsbFNlbGVjdGVkOiB0aGlzLmlzQWxsU2VsZWN0ZWQoKSxcclxuICAgICAgICAgICAga2V5Q29sdW1uOiByb3dbdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheSxcclxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGgsXHJcbiAgICAgICAgfV07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coe21haW5Sb3dBcnJheX0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIEdldE1hbmFnZUNvbHVtbnNIdG1sID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCh7Y29sdW1uczogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnN9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0Um93c0h0bWwgPSAoZmlyc3RJbmRleDogbnVtYmVyLCBsYXN0SW5kZXg6IG51bWJlcik6IGFueVtdID0+IHtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXk6IGFueVtdID0gW107XHJcbiAgICAgICAgY29uc3QgZW1wdHlTdHIgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuZW1wdHlWYWx1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCByb3c6IFQgPSB0aGlzLmRhdGFbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5Sb3dDb2xBcnJheTogSU1haW5Db2xSb3dBcnJheVtdID0gdGhpcy5nZXRNYWluUm93KHJvdywgZW1wdHlTdHIpO1xyXG4gICAgICAgICAgICBtYWluUm93QXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICByb3dJbmRleDogaSxcclxuICAgICAgICAgICAgICAgIGlzQWxsU2VsZWN0ZWQ6IHRoaXMuaXNBbGxTZWxlY3RlZCgpLFxyXG4gICAgICAgICAgICAgICAga2V5Q29sdW1uOiByb3dbdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgICAgICBtYWluUm93Q29sQXJyYXksXHJcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLmxlbmd0aCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYWluUm93QXJyYXk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2VsZWN0Um93cyA9IChyb3dJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbjtcclxuICAgICAgICBjb25zdCBuZXdTZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdGVkIG9mIHRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCByb3dJZCA9PT0gc2VsZWN0ZWRba2V5XSApIHtcclxuICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoICFleGlzdHMgKSB7XHJcbiAgICAgICAgICAgIG5ld1NlbGVjdGVkLnB1c2gocm93SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHRvQmVBZGRlZCBvZiBuZXdTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9uZVJvdyBvZiB0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdG9CZUFkZGVkID09PSBvbmVSb3dba2V5XSApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLnB1c2gob25lUm93KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBkZVNlbGVjdFJvd3MgPSAocm93SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkID0gW107XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbjtcclxuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdGVkIG9mIHRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCByb3dJZCAhPT0gc2VsZWN0ZWRba2V5XSApIHtcclxuICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkLnB1c2goc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBuZXdTZWxlY3RlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZWxlY3RBbGwgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuZGF0YTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkZVNlbGVjdEFsbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdXBkYXRlUm93cyA9IChyb3dzOiBUW10pID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uO1xyXG4gICAgICAgIGlmICggcm93cyA9PT0gdW5kZWZpbmVkIHx8ICFyb3dzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGFSb3cgb2YgdGhpcy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93W2tleV0gPT09IGRhdGFSb3dba2V5XSApIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhUm93ID0gcm93O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0YVJvdyBvZiB0aGlzLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93W2tleV0gPT09IGRhdGFSb3dba2V5XSApIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhUm93ID0gcm93O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRNYWluUm93ID0gKHJvdzogVCwgZW1wdHlTdHI6IHN0cmluZyk6IElNYWluQ29sUm93QXJyYXlbXSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWFpblJvd0NvbEFycmF5OiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgY29sIG9mIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGxldCBjb2x1bW5WYWx1ZSA9IHJvd1tjb2wuaWRdO1xyXG4gICAgICAgICAgICBpZiAoY29sLnJlbmRlckh5YnJpZCkge1xyXG4gICAgICAgICAgICAgICAgY29sdW1uVmFsdWUgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuaHlicmlkRnVuY3Rpb24oY29sLCByb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbXB0eVN0ciAhPT0gdW5kZWZpbmVkICYmIGNvbHVtblZhbHVlID09PSBlbXB0eVN0cikge1xyXG4gICAgICAgICAgICAgICAgY29sdW1uVmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGNvbHVtblZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogY29sLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IGNvbC5oaWRkZW4sXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZTogcm93W2NvbC5pZF0sXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBjb2wubmFtZSxcclxuICAgICAgICAgICAgICAgIGlkOiBjb2wuaWQsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJhYmxlOiBjb2wuZmlsdGVyYWJsZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYWluUm93Q29sQXJyYXk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlLnRzIiwiY29uc3Qgc2VsZWN0ZWQgPSAoaW5wdXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXQgPT09IHZhbHVlID8gXCJzZWxlY3RlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlbGVjdGVkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiaGFuZGxlYmFyc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0ciBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveCBndWkgbS1yLTEwXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXENoZWNrZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaGlkZGVuIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJDaGVja2VkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJndWkgb2YtaGlkZGVuIHAtMTAgbWluLXctNTAgdy1hdXRvIGZsdWlkLWggZmxleCBjb2x1bW4gY29udGFpbmVyXFxcIiA+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oZWFkZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSBmbHVpZCBpY29uIGlucHV0XFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1maWx0ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJTZWFyY2ggZmlsdGVyLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwic2VhcmNoIGljb25cXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tdC0xMFxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBsZWZ0IHNob3ctYWxsLWNvbHVtblxcXCI+U2hvdyBBbGw8L2E+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSByaWdodCBoaWRlLWFsbC1jb2x1bW5cXFwiPkhpZGUgQWxsPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgY2xlYXJcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLXRhYmxlIGd1aSBmbHVpZCBoLTkwIG9mLWF1dG8gcC01IG0tdC0xMFxcXCIgPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgc21hbGwgdmVyeSBib3JkZXItbGVzcyBiYXNpYyBjb21wYWN0IHRhYmxlXFxcIj5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgY2hlY2tlZCA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiAhYm9vbCA/IFwiY2hlY2tlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNoZWNrZWQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICA8Y2FwdGlvbiBjbGFzcz1cXFwiZ3VpIGd1aS1zdWJoZWFkaW5nLTIgbS0wIHAtMCB0ZXh0LWxlZnRcXFwiPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jYXB0aW9uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9jYXB0aW9uPlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxDb2x1bW4udHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAse1wibmFtZVwiOlwiQ29sdW1uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3J0YWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oOCwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcT3JkZXJlZC50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCwoZGF0YSAmJiBkYXRhLmluZGV4KSx7XCJuYW1lXCI6XCJPcmRlcmVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHJvbGU9XFxcImNvbHVtbmhlYWRlclxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1jb2xpbmRleD1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxBZGQudHNcIikpLmNhbGwoYWxpYXMxLChkYXRhICYmIGRhdGEuaW5kZXgpLDMse1wibmFtZVwiOlwiQWRkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtc29ydD1cXFwibm9uZVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XFxcIi0xXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIGN1cnNvci1kZWZhdWx0IGRpc2FibGVkXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQXJpYUhpZGRlbi50c1wiKSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmhpZGRlbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiQXJpYUhpZGRlblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cXFwiaGVhZGVyLVwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaGVhZGVyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIHN1YiBoZWFkZXJcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiaW5uZXItY29udGFpbmVyIGd1aSBmbHVpZCBjb250YWluZXJcXFwiIFxcbiAgICBhcmlhLXJlYWRvbmx5PVxcXCJ0cnVlXFxcIiBcXG4gICAgYXJpYS1yb3djb3VudD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJvd0xlbmd0aCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxuICAgIGFyaWEtY29sY291bnQ9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQWRkLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sZW5ndGggOiBzdGFjazEpLDIse1wibmFtZVwiOlwiQWRkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiXFxuICAgIGFyaWEtbGFiZWw9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jYXB0aW9uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcbiAgICBzdW1tYXJ5PVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc3VtbWFyeSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXG4gICAgYXJpYS1saXZlPVxcXCJwb2xpdGVcXFwiXFxuICAgIHJvbGU9XFxcImdyaWRcXFwiIFxcbiAgICBzdHlsZT1cXFwicGFkZGluZzowJTtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1oZWFkZXJcXFwiPlxcbiAgICAgICAgPHRhYmxlIGlkPVxcXCJoZWFkZXJ0YWJsZVxcXCIgcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIiBjbGFzcz1cXFwiZ3VpIGJhc2ljIGxhcmdlIGNvbXBhY3Qgc29ydGFibGUgZml4ZWQgc2luZ2xlIGxpbmUgdGFibGVcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2hvd0NhcHRpb24gOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDxjb2xncm91cCBjbGFzcz1cXFwiaGVhZGVyQ29sR3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvY29sZ3JvdXA+XFxuICAgICAgICAgICAgPHRoZWFkIHJvbGU9XFxcInJvd2dyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPHRyIHJvbGU9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBhcmlhLWNvbGluZGV4PVxcXCIxXFxcIj48L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoIHJvbGU9XFxcImNvbHVtbmhlYWRlclxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiU2VsZWN0IGFsbCByb3dzIG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jYXB0aW9uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiIENoZWNrYm94XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCIyXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVxcXCJzZWxlY3QtYWxsLWNoZWNrYm94XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgIHR5cGU9XFxcImNoZWNrYm94XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cXFwic2VsZWN0LWFsbC1jaGVja2JveFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJzZWxlY3QtYWxsLWNoZWNrYm94IGN1cnNvci1wb2ludGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgIDwvdGhlYWQ+XFxuICAgICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtYm9keVxcXCI+XFxuICAgICAgICA8dGFibGUgcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIiBjbGFzcz1cXFwiZ3VpIGJhc2ljIGxhcmdlIGNvbXBhY3QgZml4ZWQgc2VsZWN0YWJsZSBzaW5nbGUgbGluZSB0YWJsZSBtYWluVGFibGVcXFwiPlxcbiAgICAgICAgICAgIDxjb2xncm91cCBjbGFzcz1cXFwiYm9keUNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+IFxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXG4gICAgICAgICAgICA8dGJvZHkgY2xhc3M9XFxcIm1haW5UYWJsZUJvZHlcXFwiIHJvbGU9XFxcInJvd2dyb3VwXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxncmlkLW1haW4tcm93Lmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1tYWluLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1mb290ZXIgZ3VpIGgtYXV0byBmbHVpZC13IGZsZXggamMtc2IgcC01IG0tMFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcZ3JpZC1mb290ZXIuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWZvb3RlclwiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgXCIsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQuaGJzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IENvbHVtbiA9IChjb2wpOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgY2FsY1dpZHRoOiBudW1iZXIgPSBjb2wuaGlkZGVuID8gMCA6IGNvbC53aWR0aDtcclxuICAgIGNvbnN0IGRhdGFBdHRySWQgPSAnZGF0YS1oZWFkZXItaWQ9XCInICsgY29sLmlkICsgJ1wiJztcclxuICAgIHJldHVybiAnPGNvbCBzdHlsZT1cIndpZHRoIDogJyArIGNhbGNXaWR0aCArICdweDtcIicgKyBkYXRhQXR0cklkICsgXCIgLz5cIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbHVtbjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMiLCJpbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi4vLi4vanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4uLy4uL2pzL21vZGVscy9JQ29sdW1uXCI7XHJcblxyXG5jb25zdCBvcmRlcmVkID0gKGNvbHVtbjogSUNvbHVtbiwgaW5kZXg6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICBjb25zdCBwYXJzZWRJbnQgPSBwYXJzZUludChpbmRleCwgMTApICsgMztcclxuICAgIGxldCBhcmlhU29ydFN0cjtcclxuICAgIGxldCBhcmlhTGFiZWxTdHI7XHJcbiAgICBsZXQgaGVhZGVySWNvbk1rO1xyXG4gICAgY29uc3QgYXJpYUhpZGRlblN0ciA9IGNvbHVtbi5oaWRkZW4gPyBcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCJcIiA6IFwiIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCJcIjtcclxuICAgIGNvbnN0IHRhYkluZGV4ID0gY29sdW1uLnNvcnRhYmxlICYmICFjb2x1bW4uaGlkZGVuID8gMCA6IC0xO1xyXG4gICAgaWYgKGNvbHVtbi5vcmRlckJ5ID09PSBHcmlkT3JkZXJEaXJlY3Rpb24uQXNjKSB7XHJcbiAgICAgICAgaGVhZGVySWNvbk1rID0gXCIgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy11cFxcXCIgYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIiA+PC9pPiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPlwiO1xyXG4gICAgICAgIGFyaWFTb3J0U3RyID0gXCJhcmlhLXNvcnQ9XFxcImFzY2VuZGluZ1xcXCJcIjtcclxuICAgICAgICBhcmlhTGFiZWxTdHIgPSBjb2x1bW4ubmFtZSArIFwiIHNvcnRlZCBhc2NlbmRpbmdcIjtcclxuICAgIH0gZWxzZSBpZiAoY29sdW1uLm9yZGVyQnkgPT09IEdyaWRPcmRlckRpcmVjdGlvbi5EZXNjKSB7XHJcbiAgICAgICAgaGVhZGVySWNvbk1rID0gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duXFxcIiBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiID48L2k+XCI7XHJcbiAgICAgICAgYXJpYVNvcnRTdHIgPSBcImFyaWEtc29ydD1cXFwiZGVzY2VuZGluZ1xcXCJcIjtcclxuICAgICAgICBhcmlhTGFiZWxTdHIgPSBjb2x1bW4ubmFtZSArIFwiIHNvcnRlZCBkZXNjZW5kaW5nXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhlYWRlckljb25NayA9IFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy11cCBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctZG93biBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT5cIjtcclxuICAgICAgICBhcmlhU29ydFN0ciA9IFwiYXJpYS1zb3J0PVxcXCJub25lXFxcIlwiO1xyXG4gICAgICAgIGFyaWFMYWJlbFN0ciA9IGNvbHVtbi5uYW1lICsgXCIgUHJlc3MgZW50ZXIgdG8gc29ydCBpbiBhc2NlbmRpbmcgb3JkZXIuXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBhcmlhLWNvbGluZGV4PVxcXCJcIiArIHBhcnNlZEludFxyXG4gICAgICAgICAgKyBcIlxcXCIgdGFiaW5kZXg9XFxcIlwiICsgdGFiSW5kZXggKyBcIlxcXCIgY2xhc3M9XFxcImd1aSBjdXJzb3ItcG9pbnRlclxcXCIgaWQ9XFxcImhlYWRlci1cIlxyXG4gICAgICAgICAgKyBjb2x1bW4uaWQgICsgXCJcXFwiXCJcclxuICAgICAgICAgICsgXCIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiICsgY29sdW1uLmlkICsgXCJcXFwiIFwiXHJcbiAgICAgICAgICArIGFyaWFTb3J0U3RyXHJcbiAgICAgICAgICArIGFyaWFIaWRkZW5TdHJcclxuICAgICAgICAgICsgXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyBhcmlhU29ydFN0ciArIFwiXFxcIiBcIlxyXG4gICAgICAgICAgKyBcIiB0aXRsZT1cXFwiXCIgKyBjb2x1bW4ubmFtZSArIFwiXFxcIiBcIlxyXG4gICAgICAgICAgKyBcIiAgPlwiXHJcbiAgICAgICAgICArIFwiIDxzcGFuIGNsYXNzPVxcXCJndWkgc3ViIGhlYWRlciBtLXItNVxcXCI+XCIgKyBjb2x1bW4ubmFtZSArIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICArIGhlYWRlckljb25Na1xyXG4gICAgICAgICAgKyBcIiA8L3RoPlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb3JkZXJlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzIiwiY29uc3QgYXJpYUhpZGRlbiA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBib29sID8gXCJhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCJcIiA6IFwiYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXJpYUhpZGRlbjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9BcmlhSGlkZGVuLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==