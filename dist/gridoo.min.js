!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("handlebars/runtime"),require("jQuery")):"function"==typeof define&&define.amd?define(["handlebars.runtime","jQuery"],n):"object"==typeof exports?exports.Gridoo=n(require("handlebars/runtime"),require("jQuery")):e.Gridoo=n(e.Handlebars,e.jQuery)}("undefined"!=typeof self?self:this,function(e,n){return function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=12)}([function(n,t){n.exports=e},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?"disabled":""};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return(e+n).toString()};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return Object.defineProperty(e,"PaginationData",{get:function(){return e.paginationData},enumerable:!0,configurable:!0}),e.CalculatePaginationData=function(n){var t={};t.pageIndex=n.pageIndex,t.pageSize=n.pageSize,t.pageSizes=n.pageSizes,t.totalCount=n.totalCount,t.noOfPages=Math.ceil(n.totalCount/n.pageSize);var a=(n.pageIndex-1)*n.pageSize,r=n.pageSize>n.totalCount?n.totalCount:n.pageSize;t.range={min:a+1,max:a+r},t.firstPageLinkDisabled=1===t.noOfPages||1===t.pageIndex,t.lastPageLinkDisabled=1===t.noOfPages||t.pageIndex===t.noOfPages,t.prevPageLinkDisabled=1===t.pageIndex||t.pageIndex-1<=0,t.nextPageLinkDisabled=t.noOfPages===t.pageIndex||t.pageIndex+1>=t.noOfPages,e.paginationData=t},e}();n.Pager=a},function(e,t){e.exports=n},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.GetColumnObject=function(e,n){if(null==e||null==n)return null;var t;return n.forEach(function(n){if(n.id===e)return void(t=n)}),t},e.SetOrder=function(e,n,t){if(null==e||null==t)return null;var a;return t.forEach(function(t){if(t.id===e)return t.orderBy=n,void(a=t)}),a},e}();n.CommonUtil=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.None="None",e.Asc="Asc",e.Desc="Desc"}(n.GridOrderDirection||(n.GridOrderDirection={}))},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,r){var i,o,l=null!=n?n:e.nullContext||{},s=t.helperMissing,c="function",u=e.escapeExpression;return'                <tr>\r\n                    <td class="gui rv-parent" \r\n                        valign="top" \r\n                        data-filter-type="'+u((o=null!=(o=t.type||(null!=n?n.type:n))?o:s,typeof o===c?o.call(l,{name:"type",hash:{},data:r}):o))+'" \r\n                        data-filter-key="'+u((o=null!=(o=t.id||(null!=n?n.id:n))?o:s,typeof o===c?o.call(l,{name:"id",hash:{},data:r}):o))+'" \r\n                        data-filter-value="'+u((o=null!=(o=t.actualValue||(null!=n?n.actualValue:n))?o:s,typeof o===c?o.call(l,{name:"actualValue",hash:{},data:r}):o))+'">\r\n                        <span>'+u((o=null!=(o=t.columnName||(null!=n?n.columnName:n))?o:s,typeof o===c?o.call(l,{name:"columnName",hash:{},data:r}):o))+"</span>\r\n"+(null!=(i=t.if.call(l,null!=n?n.filterable:n,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))?i:"")+"                    </td>\r\n                    <td>"+(null!=(o=null!=(o=t.columnValue||(null!=n?n.columnValue:n))?o:s,i=typeof o===c?o.call(l,{name:"columnValue",hash:{},data:r}):o)?i:"")+"</td>\r\n                </tr>\r\n"},2:function(e,n,t,a,r){return'                        <span class="gui m-l-5 rv-child gui-caption" >\r\n                            <i class="gui gui-icon gui-icon-add hover m-l-5 cursor-pointer addFilter"></i>\r\n                            <i class="gui gui-icon gui-icon-minus hover m-l-5 cursor-pointer removeFilter"></i>\r\n                        </span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,r){var i,o,l=null!=n?n:e.nullContext||{},s=t.helperMissing,c=e.escapeExpression;return'<tr id="details-row-'+c((o=null!=(o=t.index||r&&r.index)?o:s,"function"==typeof o?o.call(l,{name:"index",hash:{},data:r}):o))+'" class="gui gui-hidden detailsRow" aria-live="polite">\r\n    <td colspan="'+c((o=null!=(o=t.length||(null!=n?n.length:n))?o:s,"function"==typeof o?o.call(l,{name:"length",hash:{},data:r}):o))+'">\r\n        <table class="gui very compact selectable celled table detailsTable m-l-37 p-5" \r\n               style="width: auto;" >\r\n            <tbody>\r\n'+(null!=(i=t.each.call(l,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?i:"")+"            </tbody>\r\n        </table>\r\n    </td>\r\n</tr>"},useData:!0})},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var r=t(0);e.exports=(r.default||r).template({1:function(e,n,r,i,o,l,s){var c,u=e.escapeExpression;return"            <option "+u(a(t(23)).call(null!=n?n:e.nullContext||{},null!=(c=null!=s[1]?s[1].paginationData:s[1])?c.pageSize:c,n,{name:"Selected",hash:{},data:o}))+">"+u(e.lambda(n,n))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,r,i,o,l,s){var c,u=e.lambda,d=e.escapeExpression,f=null!=n?n:e.nullContext||{};return'<div role="navigation" class="gui flex jc-sb gui-subheading-1 text-left m-0">\r\n    <div class="gui m-r-10">\r\n        <button class="gui firstLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.firstPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.firstPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the first page" \r\n                title="Go to the first page" \r\n                data-page="1">\r\n            <i class="gui-icon gui-icon-previous"></i>\r\n        </button>\r\n        <button class="gui prevLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.prevPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.prevPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the previous page" \r\n                title="Go to the previous page" \r\n                data-page="'+d(a(t(9)).call(f,null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,"-",1,{name:"math",hash:{},data:o}))+'">\r\n            <i class="gui-icon gui-icon-chevron-left"></i>\r\n            Prev\r\n        </button>\r\n    </div>\r\n    <div class="gui pager-input-container medium h-30 input flex jc-sb m-r-10">\r\n        <div class="gui m-r-5"> Page </div>\r\n        <input  class="gui pager-input h-30 w-50 m-r-5" \r\n                aria-label="Go to Page '+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                title="Go to Page '+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                value="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,n))+'" \r\n                type="text" \r\n                placeholder="Page Number ...">\r\n        <div class="no-of-pages-scan" \r\n             data-number-of-pages="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOfPages:c,n))+'">\r\n             of '+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOfPages:c,n))+'\r\n        </div>\r\n    </div>\r\n    <div class="gui m-r-10">\r\n        <button class="gui nextLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.nextPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.nextPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the next page" \r\n                title="Go to the next page" \r\n                data-page="'+d(a(t(9)).call(f,null!=(c=null!=n?n.paginationData:n)?c.pageIndex:c,"+",1,{name:"math",hash:{},data:o}))+'" >\r\n            Next\r\n            <i class="gui-icon gui-icon-chevron-right"></i>\r\n        </button>\r\n        <button class="gui lastLink" \r\n                aria-disabled="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.lastPageLinkDisabled:c,n))+'" \r\n                '+d(a(t(1)).call(f,null!=(c=null!=n?n.paginationData:n)?c.lastPageLinkDisabled:c,{name:"Disabled",hash:{},data:o}))+'\r\n                aria-label="Go to the last page" \r\n                title="Go to the last page" \r\n                data-page="'+d(u(null!=(c=null!=n?n.paginationData:n)?c.noOFpages:c,n))+'">\r\n            <i class="gui-icon gui-icon-next"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n<div class="gui gui-subheading-1 flex jc-sb text-right m-0">\r\n    <label  for="page-size-selector" \r\n            class="gui m-r-10">\r\n            Rows Per Page\r\n    </label>\r\n    <select id="page-size-selector" \r\n            class="gui pageSizeSelector m-r-10 h-30">\r\n'+(null!=(c=r.each.call(f,null!=(c=null!=n?n.paginationData:n)?c.pageSizes:c,{name:"each",hash:{},fn:e.program(1,o,0,l,s),inverse:e.noop,data:o}))?c:"")+'    </select>\r\n    <div class="gui m-r-10">\r\n        '+d(u(null!=(c=null!=(c=null!=n?n.paginationData:n)?c.range:c)?c.min:c,n))+" - "+d(u(null!=(c=null!=(c=null!=n?n.paginationData:n)?c.range:c)?c.max:c,n))+" of "+d(u(null!=(c=null!=n?n.paginationData:n)?c.totalCount:c,n))+" items\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n,t,a){return{"+":e+t,"-":e-t,"*":e*t,"/":e/t,"%":e%t}[n]};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var r=t(0);e.exports=(r.default||r).template({1:function(e,n,r,i,o){var l,s=null!=n?n:e.nullContext||{},c=e.escapeExpression,u=e.lambda;return'<tr aria-rowindex="'+c(a(t(2)).call(s,null!=n?n.rowIndex:n,1,{name:"Add",hash:{},data:o}))+'" class="mainRow '+c(a(t(11)).call(s,null!=n?n.isAllSelected:n,"active",{name:"BoolAttribute",hash:{},data:o}))+'" data-pk-attr="'+c(u(null!=n?n.keyColumn:n,n))+'" role="row" >\r\n    <td class="expansionArrows" \r\n        class="gui flex jc-sb"\r\n        aria-colindex="1"\r\n        role="gridcell">\r\n        <i aria-label="Press enter to expand the details Row" \r\n           title="Expand the details Row" \r\n           aria-controls="details-row-'+c(u(o&&o.index,n))+'" \r\n           class="gui gui-icon gui-icon-chevron-down expandDetailsRowIcon cursor-pointer" \r\n           tabindex="0" \r\n           aria-hidden="false"></i>\r\n        <i aria-label="Press enter to collapse the details Row" \r\n           title="Collapse the details Row" \r\n           aria-controls="details-row-'+c(u(o&&o.index,n))+'" \r\n           class="gui gui-icon gui-icon-chevron-up CollapseDetailsRowIcon cursor-pointer gui-hidden" \r\n           tabindex="0" \r\n           aria-hidden="true"></i>\r\n    </td>\r\n    <td role="gridcell"\r\n        aria-colindex="2" >\r\n        <input aria-label="Checkbox to select the row with Id '+c(u(null!=n?n.keyColumn:n,n))+'" \r\n            type="checkbox"\r\n            '+c(a(t(11)).call(s,null!=n?n.isAllSelected:n,"checked",{name:"BoolAttribute",hash:{},data:o}))+'\r\n            value="'+c(u(null!=n?n.keyColumn:n,n))+'" \r\n            class="select-key-checkbox cursor-pointer">\r\n    </td>\r\n'+(null!=(l=r.each.call(s,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?l:"")+"</tr>\r\n"+(null!=(l=e.invokePartial(t(7),n,{name:"grid-details-row",data:o,helpers:r,partials:i,decorators:e.decorators}))?l:"")},2:function(e,n,r,i,o){var l,s=e.lambda,c=e.escapeExpression;return'        <td title="'+c(s(null!=n?n.actualValue:n,n))+'"\r\n            aria-colindex="'+c(a(t(2)).call(null!=n?n:e.nullContext||{},o&&o.index,3,{name:"Add",hash:{},data:o}))+'"\r\n            class="body-'+c(s(null!=n?n.id:n,n))+'">'+(null!=(l=s(null!=n?n.columnValue:n,n))?l:"")+"</td>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,r){var i;return null!=(i=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowArray:n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?i:""},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return e?n:""};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(4),r=t(13),i=t(14),o=t(3),l=t(15),s=t(16),c=t(18),u=t(19),d=t(20),f=t(21),p=t(22),g=function(){function e(e){var n=this;this.bindData=function(e,t){setTimeout(function(){o.Pager.CalculatePaginationData(t);var a=o.Pager.paginationData;n.internalRender(e,a)},1)},this.reRender=function(){setTimeout(function(){var e=o.Pager.paginationData;n.internalRender(n.gridTemplateService.Data,e)},1)},this.setColConfig=function(e){n.configStore.Options.columns=e},this.updateRows=function(e){if(void 0!==e&&e.length){n.gridTemplateService.updateRows(e);for(var t=$(n.configStore.Options.containerElement),a=n.configStore.Options.keyColumn,r=0,i=e;r<i.length;r++){var o=i[r];!function(e){var r=n.gridTemplateService.getTemplateForOneRow(e),i=$(r);t.find(".mainRow").each(function(n,t){var r=$(t);if(r.attr("data-pk-attr")===e[a])return r.html(i[0].innerHTML),void r.next().html(i[2].innerHTML)})}(o)}}},this.setOrder=function(e){for(var t=0,a=n.configStore.Options.columns;t<a.length;t++){var r=a[t];r.orderBy=void 0}if(void 0!==e&&null!==e&&0!==e.length)for(var i=0,o=e;i<o.length;i++)for(var l=o[i],s=0,c=n.configStore.Options.columns;s<c.length;s++){var r=c[s];if(l.colId===r.id){r.orderBy=l.orderBy;break}}},this.destroy=function(){var e=a(n.configStore.Options.containerElement);void 0!==e&&e.off(),$(window).off("resize",n.documentResizeHandler),$(document).off("click",n.documentClickHandler),$(window).off("resize",n.documentResizeHandlerForCs),$(document).off("click",n.documentClickHandlerForCs),n.scrollHandler},this.internalRender=function(e,t){var a=n.configStore.Options.chunkSize+n.getInitialRowCount();a=a>=e.length?e.length-1:a;var r=n.gridTemplateService.GetFirstTemplate(e,0,a);n.configStore.Options.containerElement.innerHTML=r,void 0!==n.scrollHandler&&null!==n.scrollHandler?(n.scrollHandler.removeHandler(),n.scrollHandler.resetParentOffset(),n.scrollHandler.setCurrentIndex(a+1)):n.scrollHandler=new f.ScrollHandler(n.configStore,n.gridTemplateService,a+1),n.scrollHandler.RegisterDomHandler(),n.setFocusToLastElement()},this.getInitialRowCount=function(){return Math.floor(.65*a(window).innerHeight()/32)},this.InitHandlers=function(){var e=a(n.configStore.Options.containerElement);n.handleChain=[],n.handleChain.push({handler:new l.DetailsRowHandler(n.configStore,e),name:c.HandlerNames.DetailsRow}),n.handleChain.push({handler:new s.FilterClickHandler(n.configStore,e),name:c.HandlerNames.FilterAction}),n.handleChain.push({handler:new u.HeaderClickHandler(n.configStore,e),name:c.HandlerNames.HeaderClick}),n.handleChain.push({handler:new d.PageSearchHandler(n.configStore,e),name:c.HandlerNames.PageSearch});n.handleChain.push({handler:new i.SelectEventHandler(n.configStore,e,n.gridTemplateService),name:c.HandlerNames.ColSettings}),n.handleChain.forEach(function(e){e.handler.RegisterDomHandler()}),a(window).resize(n.documentResizeHandler),a(document).click(n.documentClickHandler)},this.documentResizeHandlerForCs=function(e){n.manageColHandler.onResize(),e.stopPropagation()},this.documentClickHandlerForCs=function(e){n.manageColHandler.onDocumentClick(e),e.stopPropagation()},this.documentResizeHandlerForScroll=function(e){n.manageColHandler.onResize(),e.stopPropagation()},this.documentClickHandler=function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()},this.documentResizeHandler=function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()},this.setFocusToLastElement=function(){var e=n.configStore.getFocusableElement();if(e&&(e.classList.contains("firstLink")&&$(".table-footer .firstLink").focus(),e.classList.contains("nextLink")&&$(".table-footer .nextLink").focus(),e.classList.contains("prevLink")&&$(".table-footer .prevLink").focus(),e.classList.contains("lastLink")&&$(".table-footer .lastLink").focus(),e.classList.contains("pageSizeSelector")&&$(".table-footer .pageSizeSelector").focus(),e.classList.contains("pager-input")&&$(".table-footer .pager-input").focus(),"th"===e.tagName.toLowerCase())){var t,a=e.getAttribute("data-header-id");$(".table-header th").each(function(e,n){var r=$(n);if(r.attr("data-header-id")===a)return t=r,!1}),t&&t.focus()}n.configStore.setFocusableElement(void 0)},this.configStore=new r.ConfigStore(e),this.gridTemplateService=new p.GridTemplateService(this.configStore),this.InitHandlers()}return e}();n.Grid=g},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e){var n=this;if(this.defaultGridOptions={animationTime:200,chunkSize:5,columns:[],containerElement:null,hybridFunction:function(e,n){return"true"},keyColumn:"",onClickFilter:function(e,n,t){},onClickHeader:function(e,n){},onPageSearch:function(e,n){},onSelect:function(e){},showCaption:!1,caption:"",summary:""},this.setFocusableElement=function(e){n.focusableElement=e},this.getFocusableElement=function(){return n.focusableElement},this.SetHiddenOnConfig=function(e,t){for(var a=0,r=n.Options.columns;a<r.length;a++){var i=r[a];if(void 0===t)i.hidden=e;else if(i.id===t){i.hidden=e;break}}},this.extendOptions=function(e){return n.options=jQuery.extend({},n.defaultGridOptions,e)},this.extendOptions(e),null===e.containerElement)throw new Error("Please Provide a valid container Element object");this.options.columns.sort(function(e,n){return e.order-n.order})}return Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},set:function(e){this.options=e},enumerable:!0,configurable:!0}),e}();n.ConfigStore=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n,t){this.configStore=e,this.parentElement=n,this.gridTemplateService=t}return e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("change",".select-key-checkbox",function(n){var t=jQuery(n.target),a=t.is(":checked"),r=t.val().toString();a?(e.gridTemplateService.selectRows(r),t.parents(".mainRow").addClass("active")):(e.gridTemplateService.deSelectRows(r),t.parents(".mainRow").removeClass("active")),void 0!==n.originalEvent&&(e.configStore.Options.onSelect(e.gridTemplateService.Selected,a),n.stopPropagation())}),this.parentElement.on("change",".select-all-checkbox",function(n){var t=jQuery(n.target),a=t.is(":checked");e.parentElement.find(".select-key-checkbox").prop("checked",a),a?(e.gridTemplateService.selectAll(),e.parentElement.find(".mainTable .mainRow").addClass("active")):(e.gridTemplateService.deSelectAll(),e.parentElement.find(".mainTable .mainRow").removeClass("active")),e.configStore.Options.onSelect(e.gridTemplateService.Selected,a),n.stopPropagation()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.SelectEventHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){var t=this;this.configStore=e,this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .expansionArrows i",t.expandRow),t.parentElement.on("keyup",".table-body .expansionArrows i",t.expandRow)},this.expandRow=function(e){var n=e.keyCode||e.which;if("click"===e.type||"keyup"!==e.type||13===n||32===n){var a=jQuery(e.target),r=a.closest("tr").next(),i=a.hide().attr("aria-hidden","true"),o=a.siblings("i").show().attr("aria-hidden","false");a.hasClass("expandDetailsRowIcon")?(o.attr("aria-expanded","true"),r.slideDown(t.configStore.Options.animationTime)):(i.attr("aria-expanded","true"),r.slideUp(t.configStore.Options.animationTime)),o.focus(),e.stopPropagation()}},this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.DetailsRowHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(5),r=t(17),i=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .detailsRow .detailsTable td i",function(e){var n=jQuery(e.target),i=n.parents("td"),o=i.attr("data-filter-key"),l=i.attr("data-filter-value"),s=i.attr("data-filter-type"),c=a.CommonUtil.GetColumnObject(o,t.configStore.Options.columns);if(void 0!==c&&null!==c&&c.filterable){var u=r.FilterActionType.Add;n.hasClass("removeFilter")&&(u=r.FilterActionType.Minus),t.configStore.setFocusableElement(e.target),t.configStore.Options.onClickFilter(o,l,u,s),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.FilterClickHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.Add="Add",e.Minus="Minus"}(n.FilterActionType||(n.FilterActionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.FilterAction=0]="FilterAction",e[e.HeaderClick=1]="HeaderClick",e[e.Scroll=2]="Scroll",e[e.PageSearch=3]="PageSearch",e[e.DetailsRow=4]="DetailsRow",e[e.ToggleColumn=5]="ToggleColumn",e[e.ColSettings=6]="ColSettings"}(n.HandlerNames||(n.HandlerNames={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(5),r=t(6),i=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-header th",t.handleHeaderSort),t.parentElement.on("keyup",".table-header th",t.handleHeaderSort),t.parentElement.on("mousedown",".table-header th",t.handleMouseDown),t.parentElement.on("focusin",".table-header th",t.handleHeaderFocus)},this.handleMouseDown=function(e){t.wasHeaderClicked=!0},this.handleHeaderFocus=function(e){if(t.lastFocusedElement!==e.target){if(t.wasHeaderClicked)return;t.lastFocusedElement=e.target,t.wasHeaderClicked=!1}var n,a=jQuery(e.target),r=a.position().left,i=a.width(),o=t.parentElement.find(".table-body"),l=t.parentElement.find(".mainTable"),s=o.width(),c=l.width()-s,u=r+2*i;n=u>s?r>c?c:r:0,o.scrollLeft(n),e.stopPropagation()},this.handleHeaderSort=function(e){var n=e.keyCode||e.which;if("click"===e.type||"keyup"!==e.type||13===n||32===n){var i=jQuery(e.target).closest("th"),o=i.attr("data-header-id"),l=a.CommonUtil.GetColumnObject(o,t.configStore.Options.columns);if(void 0!==l&&null!==l&&l.sortable){var s,c=i.find("i"),u=c.first(),d=c.last();c.is(":visible")?u.is(":visible")?(s=r.GridOrderDirection.Desc,u.hide(),d.show()):(s=r.GridOrderDirection.Asc,d.hide(),u.show()):(s=r.GridOrderDirection.Asc,u.show()),i.attr("aria-sort",s===r.GridOrderDirection.Desc?"descending":"ascending"),a.CommonUtil.SetOrder(o,s,t.configStore.Options.columns),t.configStore.setFocusableElement(e.target),t.configStore.Options.onClickHeader(l.orderByCol||o,s),e.stopPropagation()}}},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.HeaderClickHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(4),r=t(3),i=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-footer .firstLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(r.Pager.PaginationData.pageSize,1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .nextLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(r.Pager.PaginationData.pageSize,r.Pager.PaginationData.pageIndex+1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .prevLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(r.Pager.PaginationData.pageSize,r.Pager.PaginationData.pageIndex-1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .lastLink",function(e){t.configStore.setFocusableElement(e.target),t.configStore.options.onPageSearch(r.Pager.PaginationData.pageSize,r.Pager.PaginationData.noOfPages),e.stopPropagation()}),t.parentElement.on("change",".table-footer .pageSizeSelector",function(e){t.configStore.setFocusableElement(e.target);var n=+a(e.target).val().toString();t.configStore.options.onPageSearch(n,r.Pager.PaginationData.pageIndex),e.stopPropagation()}),t.parentElement.on("keypress",".table-footer .pager-input",function(e){t.configStore.setFocusableElement(e.target);var n=a(e.target),i=r.Pager.PaginationData;if(13===e.keyCode){var o=+n.val().toString();isNaN(o)||o>i.noOfPages||o<1?n.val(i.pageIndex):t.configStore.options.onPageSearch(i.pageSize,o)}e.stopPropagation()})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(){},e}();n.PageSearchHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n,t){var a=this;this.rendering=!1,this.watches=[],this.setCurrentIndex=function(e){a.currentIndex=e,a.gridTemplateService.CurrentIndex=e},this.getCurrentIndex=function(){return a.currentIndex},this.RegisterDomHandler=function(){a.parentElement.find(".table-body").on("scroll",a.handleResize)},this.removeHandler=function(){a.parentElement.find(".table-body").off("scroll",a.handleResize)},this.resetParentOffset=function(){a.parentOffSetLeft=a.parentElement.offset().left,a.leftOffset=a.parentElement.find(".table-header").offset().left},this.watchWidth=function(){a.parentOffSetLeft=a.parentElement.offset().left,a.watches.push(setInterval(a.setHeaderOffset,300))},this.unWatchWidth=function(){if(void 0!==a.watches&&null!==a.watches)for(var e=0,n=a.watches;e<n.length;e++){var t=n[e];clearInterval(t)}},this.handleResize=function(e){var n=a.parentElement.find(".table-body");void 0!==a.leftOffset&&null!==a.leftOffset||(a.leftOffset=a.parentElement.find(".table-header").offset().left),a.parentElement.find(".table-header").css({"margin-left":-1*n.scrollLeft()});var t=n.find(".mainTable").height(),r=n.height();if(e.preventDefault(),a.rendering)return void e.stopPropagation();if(r+n.scrollTop()-.8*t>0){if(a.currentIndex>=a.gridTemplateService.DataLength)return;a.rendering=!0;var i=a.currentIndex+a.configStore.Options.chunkSize;i>=a.gridTemplateService.DataLength&&(i=a.gridTemplateService.DataLength-1);var o=jQuery(a.gridTemplateService.getTemplate(a.currentIndex,i));n.find(".mainTableBody").append(o),a.setCurrentIndex(i+1),a.rendering=!1}e.stopPropagation()},this.setHeaderOffset=function(){var e=a.parentElement.offset().left;if(a.parentOffSetLeft!==e){var n=a.parentElement.find(".table-body");void 0!==a.leftOffset&&null!==a.leftOffset||(a.leftOffset=a.parentElement.find(".table-header").offset().left),a.leftOffset=a.leftOffset-(a.parentOffSetLeft-e),a.parentElement.find(".table-header").offset({left:a.leftOffset,top:0}),a.parentOffSetLeft=e,n.scrollLeft(n.scrollLeft()-1)}},this.configStore=e,this.parentElement=jQuery(this.configStore.Options.containerElement),this.gridTemplateService=n,this.setCurrentIndex(t)}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.ScrollHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(7),r=t(8),i=t(10),o=t(24),l=t(26),s=t(3),c=function(){function e(e){var n=this;this.selected=[],this.isAllSelected=function(){return 0!==n.selected.length&&n.selected.length===n.data.length},this.GetFirstTemplate=function(e,t,a){n.data=e,n.selected=[];var r=n.GetRowsHtml(t,a);return n.templateFunctionForGrid({showCaption:n.configStore.Options.showCaption,summary:n.configStore.Options.summary,rowLength:n.data.length,columns:n.configStore.Options.columns,mainRowArray:r,paginationData:s.Pager.PaginationData,caption:n.configStore.Options.caption})},this.getTemplate=function(e,t){var a=n.GetRowsHtml(e,t);return n.templateFunctionForMainRow({columns:n.configStore.Options.columns,mainRowArray:a,caption:n.configStore.Options.caption})},this.getTemplateForOneRow=function(e){var t=n.configStore.Options.emptyValue,a=n.getMainRow(e,t),r=[{isAllSelected:n.isAllSelected(),keyColumn:e[n.configStore.Options.keyColumn],mainRowColArray:a,length:n.configStore.Options.columns.length}];return n.templateFunctionForMainRow({mainRowArray:r})},this.GetManageColumnsHtml=function(){return n.templateFunctionForManageCol({columns:n.configStore.Options.columns})},this.GetRowsHtml=function(e,t){for(var a=[],r=n.configStore.Options.emptyValue,i=e;i<=t;i++){var o=n.data[i],l=n.getMainRow(o,r);a.push({rowIndex:i,isAllSelected:n.isAllSelected(),keyColumn:o[n.configStore.Options.keyColumn],mainRowColArray:l,length:n.configStore.Options.columns.length})}return a},this.selectRows=function(e){for(var t=n.configStore.Options.keyColumn,a=[],r=!1,i=0,o=n.selected;i<o.length;i++){if(e===o[i][t]){r=!0;break}}r||a.push(e);for(var l=0,s=a;l<s.length;l++)for(var c=s[l],u=0,d=n.data;u<d.length;u++){var f=d[u];if(c===f[t]){n.selected.push(f);break}}},this.deSelectRows=function(e){for(var t=[],a=n.configStore.Options.keyColumn,r=0,i=n.selected;r<i.length;r++){var o=i[r];e!==o[a]&&t.push(o)}n.selected=t},this.selectAll=function(){n.selected=n.data},this.deSelectAll=function(){n.selected=[]},this.updateRows=function(e){var t=n.configStore.Options.keyColumn;if(void 0!==e&&e.length){for(var a=0,r=e;a<r.length;a++)for(var i=r[a],o=0,l=n.data;o<l.length;o++){var s=l[o];if(i[t]===s[t]){s=i;break}}for(var c=0,u=e;c<u.length;c++)for(var i=u[c],d=0,f=n.selected;d<f.length;d++){var s=f[d];if(i[t]===s[t]){s=i;break}}}},this.getMainRow=function(e,t){for(var a=[],r=0,i=n.configStore.Options.columns;r<i.length;r++){var o=i[r],l=e[o.id];o.renderHybrid&&(l=n.configStore.Options.hybridFunction(o,e)),void 0!==t&&l===t&&(l=""),a.push({columnValue:l,type:o.type,hidden:o.hidden,actualValue:e[o.id],columnName:o.name,id:o.id,filterable:o.filterable})}return a},this.configStore=e,this.templateFunctionForGrid=l,this.templateFunctionForMainRow=i,this.templateFunctionForDetailsRow=a,this.templateFunctionForFooter=r,this.templateFunctionForManageCol=o}return Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Selected",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CurrentIndex",{set:function(e){this.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataLength",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),e}();n.GridTemplateService=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,n){return e===n?"selected":""};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var r=t(0);e.exports=(r.default||r).template({1:function(e,n,r,i,o){var l=e.lambda,s=e.escapeExpression;return'                <tr data-header-id="'+s(l(null!=n?n.name:n,n))+'">\r\n                    <td>\r\n                        <label>\r\n                            <input type="checkbox" class="col-settings-hidden-checkbox gui m-r-10" value="'+s(l(null!=n?n.id:n,n))+'" '+s(a(t(25)).call(null!=n?n:e.nullContext||{},null!=n?n.hidden:n,{name:"Checked",hash:{},data:o}))+">\r\n                            "+s(l(null!=n?n.name:n,n))+"\r\n                        </label>\r\n                    </td>\r\n                </tr>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,r){var i;return'<div class="gui of-hidden p-10 min-w-50 w-auto fluid-h flex column container" >\r\n    <div class="col-settings-header" style="width: 100%">\r\n        <div class="gui mini fluid icon input">\r\n            <input class="col-settings-filter" type="text" placeholder="Search filter...">\r\n            <i class="search icon"></i>\r\n        </div>\r\n        <div class="gui m-t-10">\r\n            <a class="gui left show-all-column">Show All</a>\r\n            <a class="gui right hide-all-column">Hide All</a>\r\n        </div>\r\n        <div class="gui clear"></div>\r\n    </div>\r\n    <div class="gui clear"></div>\r\n    <div class="col-settings-table gui fluid h-90 of-auto p-5 m-t-10" >\r\n        <table class="gui small very border-less basic compact table">\r\n            <tbody>\r\n'+(null!=(i=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?i:"")+"            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"},useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?"":"checked"};n.default=a},function(e,n,t){function a(e){return e&&(e.__esModule?e.default:e)}var r=t(0);e.exports=(r.default||r).template({1:function(e,n,t,a,r){return'                <caption class="gui gui-subheading-2 m-0 p-0 text-left">'+e.escapeExpression(e.lambda(null!=n?n.caption:n,n))+"</caption>\r\n"},3:function(e,n,r,i,o){var l;return"                    "+(null!=(l=a(t(27)).call(null!=n?n:e.nullContext||{},n,{name:"Column",hash:{},data:o}))?l:"")+"\r\n"},5:function(e,n,t,a,r){var i;return null!=(i=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.sortable:n,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.program(8,r,0),data:r}))?i:""},6:function(e,n,r,i,o){var l;return"                            "+(null!=(l=a(t(28)).call(null!=n?n:e.nullContext||{},n,o&&o.index,{name:"Ordered",hash:{},data:o}))?l:"")+"\r\n"},8:function(e,n,r,i,o){var l,s=null!=n?n:e.nullContext||{},c=e.escapeExpression,u=e.lambda;return'                        <th role="columnheader"\r\n                            aria-colindex="'+c(a(t(2)).call(s,o&&o.index,3,{name:"Add",hash:{},data:o}))+'"\r\n                            aria-sort="none" \r\n                            title="'+c(u(null!=n?n.name:n,n))+'"\r\n                            tabindex="-1"\r\n                            class="gui cursor-default disabled" \r\n                            '+(null!=(l=a(t(29)).call(s,null!=n?n.hidden:n,{name:"AriaHidden",hash:{},data:o}))?l:"")+'\r\n                            id="header-'+c(u(null!=n?n.id:n,n))+'" \r\n                            data-header-id="'+c(u(null!=n?n.id:n,n))+'">\r\n                            <span class="gui sub header">'+c(u(null!=n?n.name:n,n))+"</span>\r\n                        </th>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,r,i,o){var l,s=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{};return'<div class="inner-container gui fluid container" \r\n    aria-readonly="true" \r\n    aria-rowcount="'+c(s(null!=n?n.rowLength:n,n))+'" \r\n    aria-colcount="'+c(a(t(2)).call(u,null!=(l=null!=n?n.columns:n)?l.length:l,2,{name:"Add",hash:{},data:o}))+'"\r\n    aria-label="'+c(s(null!=n?n.caption:n,n))+'"\r\n    summary="'+c(s(null!=n?n.summary:n,n))+'"\r\n    aria-live="polite"\r\n    role="grid" \r\n    style="padding:0%;">\r\n    <div class="table-header">\r\n        <table id="headertable" role="presentation" class="gui basic large compact sortable fixed single line table">\r\n'+(null!=(l=r.if.call(u,null!=n?n.showCaption:n,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?l:"")+'            <colgroup class="headerColGroup">\r\n                <col style="width:40px;" />\r\n                <col style="width:40px;" />\r\n'+(null!=(l=r.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?l:"")+'            </colgroup>\r\n            <thead role="rowgroup">\r\n                <tr role="row">\r\n                    <th role="columnheader" aria-colindex="1"></th>\r\n                    <th role="columnheader" \r\n                        aria-label="Select all rows of '+c(s(null!=n?n.caption:n,n))+' Checkbox" \r\n                        aria-colindex="2"\r\n                        id="select-all-checkbox">\r\n                        <input  type="checkbox" \r\n                                aria-labelledby="select-all-checkbox"\r\n                                class="select-all-checkbox cursor-pointer">\r\n                    </th>\r\n'+(null!=(l=r.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?l:"")+'                </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n    <div class="table-body">\r\n        <table role="presentation" class="gui basic large compact fixed selectable single line table mainTable">\r\n            <colgroup class="bodyColGroup">\r\n                <col style="width:40px;" /> \r\n                <col style="width:40px;" />\r\n'+(null!=(l=r.each.call(u,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?l:"")+'            </colgroup>\r\n            <tbody class="mainTableBody" role="rowgroup">\r\n'+(null!=(l=e.invokePartial(t(10),n,{name:"grid-main-row",data:o,indent:"                ",helpers:r,partials:i,decorators:e.decorators}))?l:"")+'            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class="table-footer gui h-auto fluid-w flex jc-sb p-5 m-0">\r\n'+(null!=(l=e.invokePartial(t(8),n,{name:"grid-footer",data:o,indent:"           ",helpers:r,partials:i,decorators:e.decorators}))?l:"")+"    </div>\r\n</div>"},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return'<col style="width : '+(e.hidden?0:e.width)+'px;"data-header-id="'+e.id+'" />'};n.default=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(6),r=function(e,n){var t,r,i,o=parseInt(n,10)+3,l=e.hidden?' aria-hidden="true"':' aria-hidden="false"',s=e.sortable&&!e.hidden?0:-1;return e.orderBy===a.GridOrderDirection.Asc?(i=' <i class="gui gui-icon gui-icon-arrow-up" aria-hidden="false" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>',t='aria-sort="ascending"'):e.orderBy===a.GridOrderDirection.Desc?(i='<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down" aria-hidden="false" ></i>',t='aria-sort="descending"'):(i='<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>',t='aria-sort="none"',r=" Press space or enter to sort column "+e.name+" button"),'<th role="columnheader" aria-colindex="'+o+'" class="gui cursor-pointer" id="header-'+e.id+'" tabindex="'+s+'"  data-header-id="'+e.id+'" +  '+t+l+' aria-labelledBy="columnLabel-'+e.id+'"  > <span  id="columnLabel-'+e.id+'"  aria-label="'+r+'"  role="button" class="gui no-css sub header m-r-5">'+e.name+"</span>"+i+" </th>"};n.default=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e?'aria-hidden="true"':'aria-hidden="false"'};n.default=a}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9ncmlkb28ubWluLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjYWYyMDVkZTkxZjk3ZWU1OTMyNyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9Iiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvQWRkLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93LmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9tYWluL0dyaWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbmZpZy9Db25maWdTdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL0FyaWFIaWRkZW4udHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInZhbHVlIiwiZGlzYWJsZWQiLCJib29sIiwiZGVmYXVsdCIsIkFkZCIsImxlZnQiLCJyaWdodCIsInRvU3RyaW5nIiwiUGFnZXIiLCJwYWdpbmF0aW9uRGF0YSIsIkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhIiwicGFnaW5hdGlvbklucHV0IiwicGFnZUluZGV4IiwicGFnZVNpemUiLCJwYWdlU2l6ZXMiLCJ0b3RhbENvdW50Iiwibm9PZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJtaW5OdW0iLCJsb3dlckxpbWl0T2Zmc2V0IiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJmaXJzdFBhZ2VMaW5rRGlzYWJsZWQiLCJsYXN0UGFnZUxpbmtEaXNhYmxlZCIsInByZXZQYWdlTGlua0Rpc2FibGVkIiwibmV4dFBhZ2VMaW5rRGlzYWJsZWQiLCJDb21tb25VdGlsIiwiR2V0Q29sdW1uT2JqZWN0IiwiY29sdW1uSWQiLCJjb2x1bW5zIiwicmV0Q29sIiwiZm9yRWFjaCIsImNvbCIsImlkIiwiU2V0T3JkZXIiLCJvcmRlckJ5IiwiR3JpZE9yZGVyRGlyZWN0aW9uIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiMSIsImNvbnRhaW5lciIsImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiLCJzdGFjazEiLCJoZWxwZXIiLCJhbGlhczEiLCJudWxsQ29udGV4dCIsImFsaWFzMiIsImhlbHBlck1pc3NpbmciLCJhbGlhczMiLCJhbGlhczQiLCJlc2NhcGVFeHByZXNzaW9uIiwidHlwZSIsImhhc2giLCJhY3R1YWxWYWx1ZSIsImNvbHVtbk5hbWUiLCJmaWx0ZXJhYmxlIiwiZm4iLCJwcm9ncmFtIiwiaW52ZXJzZSIsIm5vb3AiLCJjb2x1bW5WYWx1ZSIsIjIiLCJjb21waWxlciIsIm1haW4iLCJpbmRleCIsImxlbmd0aCIsImVhY2giLCJtYWluUm93Q29sQXJyYXkiLCJ1c2VEYXRhIiwiX19kZWZhdWx0Iiwib2JqIiwiYmxvY2tQYXJhbXMiLCJkZXB0aHMiLCJsYW1iZGEiLCJub09GcGFnZXMiLCJ1c2VEZXB0aHMiLCJtYXRoIiwibHZhbHVlIiwib3BlcmF0b3IiLCJydmFsdWUiLCJvcHRpb25zIiwiKyIsIi0iLCIqIiwiLyIsIiUiLCJyb3dJbmRleCIsImlzQWxsU2VsZWN0ZWQiLCJrZXlDb2x1bW4iLCJpbnZva2VQYXJ0aWFsIiwiZGVjb3JhdG9ycyIsIm1haW5Sb3dBcnJheSIsInVzZVBhcnRpYWwiLCJib29sQXR0cmlidXRlIiwic3RyIiwialF1ZXJ5IiwiQ29uZmlnU3RvcmVfMSIsIlNlbGVjdEV2ZW50SGFuZGxlcl8xIiwiUGFnZXJfMSIsIkRldGFpbHNSb3dIYW5kbGVyXzEiLCJGaWx0ZXJDbGlja0hhbmRsZXJfMSIsIkhhbmRsZXJOYW1lc18xIiwiSGVhZGVyQ2xpY2tIYW5kbGVyXzEiLCJQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEiLCJTY3JvbGxIYW5kbGVyXzEiLCJHcmlkVGVtcGxhdGVTZXJ2aWNlXzEiLCJHcmlkIiwiX3RoaXMiLCJiaW5kRGF0YSIsInNldFRpbWVvdXQiLCJwYWdlRGF0YSIsImludGVybmFsUmVuZGVyIiwicmVSZW5kZXIiLCJncmlkVGVtcGxhdGVTZXJ2aWNlIiwiRGF0YSIsInNldENvbENvbmZpZyIsImNvbENvbmZpZyIsImNvbmZpZ1N0b3JlIiwiT3B0aW9ucyIsInVwZGF0ZVJvd3MiLCJyb3dzIiwidW5kZWZpbmVkIiwiJCIsImNvbnRhaW5lckVsZW1lbnQiLCJrZXkiLCJfaSIsInJvd3NfMSIsInJvdyIsInJvd0h0bWwiLCJnZXRUZW1wbGF0ZUZvck9uZVJvdyIsInJvd0pxIiwiZmluZCIsIm1SIiwibXJKcSIsImF0dHIiLCJodG1sIiwiaW5uZXJIVE1MIiwibmV4dCIsInNldE9yZGVyIiwib3JkZXJCeUxpc3QiLCJfYSIsIl9iIiwib3JkZXJCeUxpc3RfMSIsIm9yZGVyQ29sIiwiX2MiLCJfZCIsImNvbElkIiwiZGVzdHJveSIsInBhcmVudEVsZW1lbnQiLCJvZmYiLCJ3aW5kb3ciLCJkb2N1bWVudFJlc2l6ZUhhbmRsZXIiLCJkb2N1bWVudCIsImRvY3VtZW50Q2xpY2tIYW5kbGVyIiwiZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MiLCJkb2N1bWVudENsaWNrSGFuZGxlckZvckNzIiwic2Nyb2xsSGFuZGxlciIsImxhc3RJbmRleCIsImNodW5rU2l6ZSIsImdldEluaXRpYWxSb3dDb3VudCIsImdyaWRDb250ZW50IiwiR2V0Rmlyc3RUZW1wbGF0ZSIsInJlbW92ZUhhbmRsZXIiLCJyZXNldFBhcmVudE9mZnNldCIsInNldEN1cnJlbnRJbmRleCIsIlNjcm9sbEhhbmRsZXIiLCJSZWdpc3RlckRvbUhhbmRsZXIiLCJzZXRGb2N1c1RvTGFzdEVsZW1lbnQiLCJmbG9vciIsImlubmVySGVpZ2h0IiwiSW5pdEhhbmRsZXJzIiwiaGFuZGxlQ2hhaW4iLCJwdXNoIiwiaGFuZGxlciIsIkRldGFpbHNSb3dIYW5kbGVyIiwiSGFuZGxlck5hbWVzIiwiRGV0YWlsc1JvdyIsIkZpbHRlckNsaWNrSGFuZGxlciIsIkZpbHRlckFjdGlvbiIsIkhlYWRlckNsaWNrSGFuZGxlciIsIkhlYWRlckNsaWNrIiwiUGFnZVNlYXJjaEhhbmRsZXIiLCJQYWdlU2VhcmNoIiwiU2VsZWN0RXZlbnRIYW5kbGVyIiwiQ29sU2V0dGluZ3MiLCJyZXNpemUiLCJjbGljayIsImV2ZW50IiwibWFuYWdlQ29sSGFuZGxlciIsIm9uUmVzaXplIiwic3RvcFByb3BhZ2F0aW9uIiwib25Eb2N1bWVudENsaWNrIiwiZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yU2Nyb2xsIiwiZWxlbWVudCIsImdldEZvY3VzYWJsZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZvY3VzIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwibmV3Rm9jdXNhYmxlXzEiLCJkYXRhSGVhZGVySWRfMSIsImdldEF0dHJpYnV0ZSIsImVsZW0iLCJlYWNoSGVhZGVyIiwic2V0Rm9jdXNhYmxlRWxlbWVudCIsIkNvbmZpZ1N0b3JlIiwiR3JpZFRlbXBsYXRlU2VydmljZSIsImRlZmF1bHRHcmlkT3B0aW9ucyIsImFuaW1hdGlvblRpbWUiLCJoeWJyaWRGdW5jdGlvbiIsImNvbHVtbiIsIm9uQ2xpY2tGaWx0ZXIiLCJhY3Rpb25UeXBlIiwib25DbGlja0hlYWRlciIsImRpcmVjdGlvbiIsIm9uUGFnZVNlYXJjaCIsIm9uU2VsZWN0Iiwic2hvd0NhcHRpb24iLCJjYXB0aW9uIiwic3VtbWFyeSIsImZvY3VzYWJsZUVsZW1lbnQiLCJTZXRIaWRkZW5PbkNvbmZpZyIsImhpZGRlbiIsImV4dGVuZE9wdGlvbnMiLCJpbnB1dE9wdGlvbnMiLCJleHRlbmQiLCJFcnJvciIsInNvcnQiLCJwcmV2Iiwib3JkZXIiLCJzZXQiLCJvbiIsInRhcmdldCIsImNoZWNrZWQiLCJpcyIsInZhbCIsInNlbGVjdFJvd3MiLCJwYXJlbnRzIiwiYWRkQ2xhc3MiLCJkZVNlbGVjdFJvd3MiLCJyZW1vdmVDbGFzcyIsIm9yaWdpbmFsRXZlbnQiLCJTZWxlY3RlZCIsInByb3AiLCJzZWxlY3RBbGwiLCJkZVNlbGVjdEFsbCIsImV4cGFuZFJvdyIsImNvZGUiLCJrZXlDb2RlIiwid2hpY2giLCJhcnJvdyIsImRldGFpbHNSb3ciLCJjbG9zZXN0IiwiY3VycmVudEljb24iLCJoaWRlIiwib3RoZXJJY29uIiwic2libGluZ3MiLCJzaG93IiwiaGFzQ2xhc3MiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiQ29sdW1uVXRpbF8xIiwiRmlsdGVyQWN0aW9uVHlwZV8xIiwicGFyZW50VGQiLCJmaWx0ZXJBY3Rpb24iLCJGaWx0ZXJBY3Rpb25UeXBlIiwiTWludXMiLCJHcmlkT3JkZXJEaXJlY3Rpb25fMSIsImhhbmRsZUhlYWRlclNvcnQiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVIZWFkZXJGb2N1cyIsIndhc0hlYWRlckNsaWNrZWQiLCJsYXN0Rm9jdXNlZEVsZW1lbnQiLCJzY3JvbGxMZWZ0QnkiLCJoZWFkZXIiLCJsZWZ0UG9zdGl0aW9uIiwicG9zaXRpb24iLCJoZWFkZXJXaWR0aCIsIndpZHRoIiwidGFibGVCb2R5IiwibWFpblRhYmxlQm9keSIsInZpc2libGVUYm9keVdpZHRoIiwibWF4U2Nyb2xsIiwiY3VycmVudFBvc2l0aW9uIiwic2Nyb2xsTGVmdCIsImhlYWRlcklkIiwic29ydGFibGUiLCJhcnJvd0ljb25zIiwidXBBcnJvd0ljb24iLCJmaXJzdCIsImRvd25BcnJvd0ljb24iLCJsYXN0IiwiRGVzYyIsIkFzYyIsIm9yZGVyQnlDb2wiLCJQYWdpbmF0aW9uRGF0YSIsImlwIiwiaXNOYU4iLCJjdXJyZW50SW5kZXgiLCJyZW5kZXJpbmciLCJ3YXRjaGVzIiwiQ3VycmVudEluZGV4IiwiZ2V0Q3VycmVudEluZGV4IiwiaGFuZGxlUmVzaXplIiwicGFyZW50T2ZmU2V0TGVmdCIsIm9mZnNldCIsImxlZnRPZmZzZXQiLCJ3YXRjaFdpZHRoIiwic2V0SW50ZXJ2YWwiLCJzZXRIZWFkZXJPZmZzZXQiLCJ1bldhdGNoV2lkdGgiLCJ3YXRjaCIsImNsZWFySW50ZXJ2YWwiLCJ0Qm9keU9iaiIsImNzcyIsIm1hcmdpbi1sZWZ0IiwiYWN0dWFsVGFibGVIZWlnaHQiLCJoZWlnaHQiLCJzY3JvbGxDb250YWluZXJIZWlnaHQiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbFRvcCIsIkRhdGFMZW5ndGgiLCJnZXRUZW1wbGF0ZSIsImFwcGVuZCIsInRvcCIsIkdyaWREZXRhaWxzUm93VGVtcGxhdGUiLCJHcmlkRm9vdGVyIiwiR3JpZE1haW5Sb3dUZW1wbGF0ZSIsIk1hbmFnZUNvbHVtblRlbXBsYXRlIiwiR3JpZFRlbXBsYXRlIiwic2VsZWN0ZWQiLCJmaXJzdEluZGV4IiwiR2V0Um93c0h0bWwiLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCIsInJvd0xlbmd0aCIsInRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93IiwiZW1wdHlTdHIiLCJlbXB0eVZhbHVlIiwiZ2V0TWFpblJvdyIsIkdldE1hbmFnZUNvbHVtbnNIdG1sIiwidGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCIsInJvd0lkIiwibmV3U2VsZWN0ZWQiLCJleGlzdHMiLCJuZXdTZWxlY3RlZF8xIiwidG9CZUFkZGVkIiwib25lUm93IiwiZGF0YVJvdyIsInJvd3NfMiIsIl9lIiwicmVuZGVySHlicmlkIiwidGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3ciLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyIiwiaW5wdXQiLCIzIiwiNSIsIjYiLCI4IiwiaW5kZW50IiwiQ29sdW1uIiwib3JkZXJlZCIsImFyaWFTb3J0U3RyIiwiYXJpYUxhYmVsU3RyIiwiaGVhZGVySWNvbk1rIiwicGFyc2VkSW50IiwicGFyc2VJbnQiLCJhcmlhSGlkZGVuU3RyIiwidGFiSW5kZXgiLCJhcmlhSGlkZGVuIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxFQUFBRyxRQUFBLHNCQUFBQSxRQUFBLFdBQ0Esa0JBQUFDLGdCQUFBQyxJQUNBRCxRQUFBLCtCQUFBSixHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLE9BQUFELEVBQUFHLFFBQUEsc0JBQUFBLFFBQUEsV0FFQUosRUFBQSxPQUFBQyxFQUFBRCxFQUFBLFdBQUFBLEVBQUEsU0FDQyxtQkFBQU8sV0FBQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUNELE1DQWdCLFVBQVVDLEdDTjFCLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBWCxPQUdBLElBQUFDLEdBQUFXLEVBQUFELElBQ0FFLEVBQUFGLEVBQ0FHLEdBQUEsRUFDQWQsV0FVQSxPQU5BUyxH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QUFvQzVKLEVBQU9yTCxHQUFLLCtCQUl6QnFMLEVBQU9yTCxHQUFLLGtCQUNoQjZVLEVBQWUsd0RBQzBCeEosRUFBT3hPLEtBQU8sVUFDMUVpWSxFQUNBLFNBR1pwWixHQUFBc0MsUUFBZTJXLEc5QnVwRFQsU0FBVWhaLEVBQVFELEVBQVNVLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV2QixFQUFTLGNBQWdCbUMsT0FBTyxHK0J2c0R0RCxJQUFNc1gsR0FBYSxTQUFDcFgsR0FDaEIsTUFBT0EsR0FBTyxxQkFBeUIsc0JBRzNDckMsR0FBQXNDLFFBQWVtWCIsImZpbGUiOiJncmlkb28ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImhhbmRsZWJhcnMucnVudGltZVwiLCBcImpRdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkdyaWRvb1wiXSA9IGZhY3Rvcnkocm9vdFtcIkhhbmRsZWJhcnNcIl0sIHJvb3RbXCJqUXVlcnlcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiaGFuZGxlYmFycy5ydW50aW1lXCIsIFwialF1ZXJ5XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkdyaWRvb1wiXSA9IGZhY3RvcnkocmVxdWlyZShcImhhbmRsZWJhcnMvcnVudGltZVwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiR3JpZG9vXCJdID0gZmFjdG9yeShyb290W1wiSGFuZGxlYmFyc1wiXSwgcm9vdFtcImpRdWVyeVwiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZGlzYWJsZWQgPSBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBcImRpc2FibGVkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBkaXNhYmxlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvQWRkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEFkZCA9IGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xyXG4gICAgcmV0dXJuIChsZWZ0ICsgcmlnaHQpLnRvU3RyaW5nKCk7XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFkZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3BhZ2luYXRpb24vUGFnZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFBhZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGFnZXIoKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFnZXIsIFwiUGFnaW5hdGlvbkRhdGFcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFnZXIucGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBQYWdlci5DYWxjdWxhdGVQYWdpbmF0aW9uRGF0YSA9IGZ1bmN0aW9uIChwYWdpbmF0aW9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgcGFnaW5hdGlvbkRhdGEgPSB7fTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPSBwYWdpbmF0aW9uSW5wdXQucGFnZUluZGV4O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplcyA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZXM7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEudG90YWxDb3VudCA9IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9IE1hdGguY2VpbChwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCAvIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgdmFyIG1pbk51bSA9ICgocGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleCAtIDEpICogcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICB2YXIgbG93ZXJMaW1pdE9mZnNldCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSA+IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50ID9cclxuICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgOlxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemU7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEucmFuZ2UgPSB7XHJcbiAgICAgICAgICAgIG1pbjogbWluTnVtICsgMSxcclxuICAgICAgICAgICAgbWF4OiBtaW5OdW0gKyBsb3dlckxpbWl0T2Zmc2V0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEuZmlyc3RQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxIHx8IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gMVxyXG4gICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnByZXZQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSAxXHJcbiAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKSA8PSAwO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLm5leHRQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXhcclxuICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpID49IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcztcclxuICAgICAgICBQYWdlci5wYWdpbmF0aW9uRGF0YSA9IHBhZ2luYXRpb25EYXRhO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5QYWdlciA9IFBhZ2VyO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwialF1ZXJ5XCIgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3V0aWwvQ29sdW1uVXRpbC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb21tb25VdGlsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tbW9uVXRpbCgpIHtcclxuICAgIH1cclxuICAgIENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0ID0gZnVuY3Rpb24gKGNvbHVtbklkLCBjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkID09IG51bGwgfHwgY29sdW1ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmV0Q29sO1xyXG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXRDb2wgPSBjb2w7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Q29sO1xyXG4gICAgfTtcclxuICAgIENvbW1vblV0aWwuU2V0T3JkZXIgPSBmdW5jdGlvbiAoY29sdW1uSWQsIG9yZGVyQnksIGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXRDb2w7XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gb3JkZXJCeTtcclxuICAgICAgICAgICAgICAgIHJldENvbCA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRDb2w7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbW1vblV0aWw7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29tbW9uVXRpbCA9IENvbW1vblV0aWw7XHJcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBHcmlkT3JkZXJEaXJlY3Rpb247XHJcbihmdW5jdGlvbiAoR3JpZE9yZGVyRGlyZWN0aW9uKSB7XHJcbiAgICBHcmlkT3JkZXJEaXJlY3Rpb25bXCJOb25lXCJdID0gXCJOb25lXCI7XHJcbiAgICBHcmlkT3JkZXJEaXJlY3Rpb25bXCJBc2NcIl0gPSBcIkFzY1wiO1xyXG4gICAgR3JpZE9yZGVyRGlyZWN0aW9uW1wiRGVzY1wiXSA9IFwiRGVzY1wiO1xyXG59KShHcmlkT3JkZXJEaXJlY3Rpb24gPSBleHBvcnRzLkdyaWRPcmRlckRpcmVjdGlvbiB8fCAoZXhwb3J0cy5HcmlkT3JkZXJEaXJlY3Rpb24gPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0cj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiZ3VpIHJ2LXBhcmVudFxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPVxcXCJ0b3BcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZmlsdGVyLXR5cGU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50eXBlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50eXBlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0eXBlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWx0ZXIta2V5PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZmlsdGVyLXZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYWN0dWFsVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFjdHVhbFZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJhY3R1YWxWYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jb2x1bW5OYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5OYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5OYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZpbHRlcmFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtblZhbHVlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5WYWx1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sdW1uVmFsdWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtLWwtNSBydi1jaGlsZCBndWktY2FwdGlvblxcXCIgPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFkZCBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciBhZGRGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1taW51cyBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciByZW1vdmVGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIjx0ciBpZD1cXFwiZGV0YWlscy1yb3ctXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmluZGV4IHx8IChkYXRhICYmIGRhdGEuaW5kZXgpKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImluZGV4XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcImd1aSBndWktaGlkZGVuIGRldGFpbHNSb3dcXFwiIGFyaWEtbGl2ZT1cXFwicG9saXRlXFxcIj5cXHJcXG4gICAgPHRkIGNvbHNwYW49XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5sZW5ndGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxlbmd0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVuZ3RoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSB2ZXJ5IGNvbXBhY3Qgc2VsZWN0YWJsZSBjZWxsZWQgdGFibGUgZGV0YWlsc1RhYmxlIG0tbC0zNyBwLTVcXFwiIFxcclxcbiAgICAgICAgICAgICAgIHN0eWxlPVxcXCJ3aWR0aDogYXV0bztcXFwiID5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgPG9wdGlvbiBcIlxuICAgICsgYWxpYXMxKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9TZWxlY3RlZC50cyAqLyAyMykpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemUgOiBzdGFjazEpLGRlcHRoMCx7XCJuYW1lXCI6XCJTZWxlY3RlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvb3B0aW9uPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KTtcblxuICByZXR1cm4gXCI8ZGl2IHJvbGU9XFxcIm5hdmlnYXRpb25cXFwiIGNsYXNzPVxcXCJndWkgZmxleCBqYy1zYiBndWktc3ViaGVhZGluZy0xIHRleHQtbGVmdCBtLTBcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBmaXJzdExpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZmlyc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIGZpcnN0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0aXRsZT1cXFwiR28gdG8gdGhlIGZpcnN0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBkYXRhLXBhZ2U9XFxcIjFcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1wcmV2aW91c1xcXCI+PC9pPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgcHJldkxpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJldlBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqLyAxKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnByZXZQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9tYXRoLnRzICovIDkpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIi1cIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIFByZXZcXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0LWNvbnRhaW5lciBtZWRpdW0gaC0zMCBpbnB1dCBmbGV4IGpjLXNiIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTVcXFwiPiBQYWdlIDwvZGl2PlxcclxcbiAgICAgICAgPGlucHV0ICBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0IGgtMzAgdy01MCBtLXItNVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIFBhZ2UgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byBQYWdlIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHR5cGU9XFxcInRleHRcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiUGFnZSBOdW1iZXIgLi4uXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vLW9mLXBhZ2VzLXNjYW5cXFwiIFxcclxcbiAgICAgICAgICAgICBkYXRhLW51bWJlci1vZi1wYWdlcz1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT2ZQYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgIG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbmV4dExpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmV4dFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqLyAxKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5leHRQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0aXRsZT1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyAqLyA5KSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksXCIrXCIsMSx7XCJuYW1lXCI6XCJtYXRoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiID5cXHJcXG4gICAgICAgICAgICBOZXh0XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIGxhc3RMaW5rXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1kaXNhYmxlZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxhc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09GcGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1uZXh0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiZ3VpIGd1aS1zdWJoZWFkaW5nLTEgZmxleCBqYy1zYiB0ZXh0LXJpZ2h0IG0tMFxcXCI+XFxyXFxuICAgIDxsYWJlbCAgZm9yPVxcXCJwYWdlLXNpemUtc2VsZWN0b3JcXFwiIFxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgICAgICBSb3dzIFBlciBQYWdlXFxyXFxuICAgIDwvbGFiZWw+XFxyXFxuICAgIDxzZWxlY3QgaWQ9XFxcInBhZ2Utc2l6ZS1zZWxlY3RvclxcXCIgXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcImd1aSBwYWdlU2l6ZVNlbGVjdG9yIG0tci0xMCBoLTMwXFxcIj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VTaXplcyA6IHN0YWNrMSkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwLCBibG9ja1BhcmFtcywgZGVwdGhzKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1pbiA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRvdGFsQ291bnQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgaXRlbXNcXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWUsXCJ1c2VEZXB0aHNcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIG1hdGggPSBmdW5jdGlvbiAobHZhbHVlLCBvcGVyYXRvciwgcnZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIFwiK1wiOiBsdmFsdWUgKyBydmFsdWUsXHJcbiAgICAgICAgXCItXCI6IGx2YWx1ZSAtIHJ2YWx1ZSxcclxuICAgICAgICBcIipcIjogbHZhbHVlICogcnZhbHVlLFxyXG4gICAgICAgIFwiL1wiOiBsdmFsdWUgLyBydmFsdWUsXHJcbiAgICAgICAgXCIlXCI6IGx2YWx1ZSAlIHJ2YWx1ZSxcclxuICAgIH1bb3BlcmF0b3JdO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBtYXRoO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiPHRyIGFyaWEtcm93aW5kZXg9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0FkZC50cyAqLyAyKSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJvd0luZGV4IDogZGVwdGgwKSwxLHtcIm5hbWVcIjpcIkFkZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwibWFpblJvdyBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9Cb29sQXR0cmlidXRlLnRzICovIDExKSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzQWxsU2VsZWN0ZWQgOiBkZXB0aDApLFwiYWN0aXZlXCIse1wibmFtZVwiOlwiQm9vbEF0dHJpYnV0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiBkYXRhLXBrLWF0dHI9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHJvbGU9XFxcInJvd1xcXCIgPlxcclxcbiAgICA8dGQgY2xhc3M9XFxcImV4cGFuc2lvbkFycm93c1xcXCIgXFxyXFxuICAgICAgICBjbGFzcz1cXFwiZ3VpIGZsZXggamMtc2JcXFwiXFxyXFxuICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCIxXFxcIlxcclxcbiAgICAgICAgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiPlxcclxcbiAgICAgICAgPGkgYXJpYS1sYWJlbD1cXFwiUHJlc3MgZW50ZXIgdG8gZXhwYW5kIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICB0aXRsZT1cXFwiRXhwYW5kIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICBhcmlhLWNvbnRyb2xzPVxcXCJkZXRhaWxzLXJvdy1cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGF0YSAmJiBkYXRhLmluZGV4KSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1kb3duIGV4cGFuZERldGFpbHNSb3dJY29uIGN1cnNvci1wb2ludGVyXFxcIiBcXHJcXG4gICAgICAgICAgIHRhYmluZGV4PVxcXCIwXFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCI+PC9pPlxcclxcbiAgICAgICAgPGkgYXJpYS1sYWJlbD1cXFwiUHJlc3MgZW50ZXIgdG8gY29sbGFwc2UgdGhlIGRldGFpbHMgUm93XFxcIiBcXHJcXG4gICAgICAgICAgIHRpdGxlPVxcXCJDb2xsYXBzZSB0aGUgZGV0YWlscyBSb3dcXFwiIFxcclxcbiAgICAgICAgICAgYXJpYS1jb250cm9scz1cXFwiZGV0YWlscy1yb3ctXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRhdGEgJiYgZGF0YS5pbmRleCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tdXAgQ29sbGFwc2VEZXRhaWxzUm93SWNvbiBjdXJzb3ItcG9pbnRlciBndWktaGlkZGVuXFxcIiBcXHJcXG4gICAgICAgICAgIHRhYmluZGV4PVxcXCIwXFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XFxyXFxuICAgIDwvdGQ+XFxyXFxuICAgIDx0ZCByb2xlPVxcXCJncmlkY2VsbFxcXCJcXHJcXG4gICAgICAgIGFyaWEtY29saW5kZXg9XFxcIjJcXFwiID5cXHJcXG4gICAgICAgIDxpbnB1dCBhcmlhLWxhYmVsPVxcXCJDaGVja2JveCB0byBzZWxlY3QgdGhlIHJvdyB3aXRoIElkIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcclxcbiAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Jvb2xBdHRyaWJ1dGUudHMgKi8gMTEpKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNBbGxTZWxlY3RlZCA6IGRlcHRoMCksXCJjaGVja2VkXCIse1wibmFtZVwiOlwiQm9vbEF0dHJpYnV0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJzZWxlY3Qta2V5LWNoZWNrYm94IGN1cnNvci1wb2ludGVyXFxcIj5cXHJcXG4gICAgPC90ZD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dDb2xBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RyPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93LmhicyAqLyA3KSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1kZXRhaWxzLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8dGQgdGl0bGU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hY3R1YWxWYWx1ZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9BZGQudHMgKi8gMikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGF0YSAmJiBkYXRhLmluZGV4KSwzLHtcIm5hbWVcIjpcIkFkZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJib2R5LVwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5WYWx1ZSA6IGRlcHRoMCksIGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RkPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFpblJvd0FycmF5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZVBhcnRpYWxcIjp0cnVlLFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0Jvb2xBdHRyaWJ1dGUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJvb2xBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYm9vbCwgc3RyKSB7XHJcbiAgICByZXR1cm4gYm9vbCA/IHN0ciA6IFwiXCI7XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGJvb2xBdHRyaWJ1dGU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tYWluL0dyaWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgalF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganF1ZXJ5ICovIDQpO1xyXG52YXIgQ29uZmlnU3RvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZy9Db25maWdTdG9yZSAqLyAxMyk7XHJcbnZhciBTZWxlY3RFdmVudEhhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyICovIDE0KTtcclxudmFyIFBhZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wYWdpbmF0aW9uL1BhZ2VyICovIDMpO1xyXG52YXIgRGV0YWlsc1Jvd0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlciAqLyAxNSk7XHJcbnZhciBGaWx0ZXJDbGlja0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIgKi8gMTYpO1xyXG52YXIgSGFuZGxlck5hbWVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzICovIDE4KTtcclxudmFyIEhlYWRlckNsaWNrSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlciAqLyAxOSk7XHJcbnZhciBQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlciAqLyAyMCk7XHJcbnZhciBTY3JvbGxIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlciAqLyAyMSk7XHJcbnZhciBHcmlkVGVtcGxhdGVTZXJ2aWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UgKi8gMjIpO1xyXG52YXIgR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEdyaWQob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5iaW5kRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBwYWdpbmF0aW9uSW5wdXQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBQYWdlcl8xLlBhZ2VyLkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhKHBhZ2luYXRpb25JbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFnZURhdGEgPSBQYWdlcl8xLlBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaW50ZXJuYWxSZW5kZXIoZGF0YSwgcGFnZURhdGEpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VEYXRhID0gUGFnZXJfMS5QYWdlci5wYWdpbmF0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmludGVybmFsUmVuZGVyKF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YSwgcGFnZURhdGEpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0Q29sQ29uZmlnID0gZnVuY3Rpb24gKGNvbENvbmZpZykge1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMgPSBjb2xDb25maWc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPOiBVcGRhdGUgUm93IEluZGV4XHJcbiAgICAgICAgdGhpcy51cGRhdGVSb3dzID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IHVuZGVmaW5lZCB8fCAhcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLnVwZGF0ZVJvd3Mocm93cyk7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbjtcclxuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93SHRtbCA9IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuZ2V0VGVtcGxhdGVGb3JPbmVSb3cocm93KTtcclxuICAgICAgICAgICAgICAgIHZhciByb3dKcSA9ICQocm93SHRtbCk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZmluZChcIi5tYWluUm93XCIpLmVhY2goZnVuY3Rpb24gKGksIG1SKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ySnEgPSAkKG1SKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGtJZCA9IG1ySnEuYXR0cihcImRhdGEtcGstYXR0clwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGtJZCA9PT0gcm93W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXJKcS5odG1sKHJvd0pxWzBdLmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ySnEubmV4dCgpLmh0bWwocm93SnFbMl0uaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHJvd3NfMSA9IHJvd3M7IF9pIDwgcm93c18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJvd3NfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKHJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHB1YmxpYyBiaW5kTWFuYWdlQ29sdW1zID0gKG1hbmFnZUNvbENvbnRhaW5lcj86IEhUTUxFbGVtZW50LCBmb3JjZT86IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMubWFuYWdlQ29sSGFuZGxlciAhPT0gdW5kZWZpbmVkICYmICFmb3JjZSApIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBjb25zdCBodG1sID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldE1hbmFnZUNvbHVtbnNIdG1sKCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkobWFuYWdlQ29sQ29udGFpbmVyXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAvLyAgICAgdGhpcy50b2dnbGVIYW5kbGVyID0gbmV3IFRvZ2dsZUNvbHVtbkhhbmRsZXIodGhpcy5jb25maWdTdG9yZSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5tYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lciA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgLy8gICAgIHRoaXMubWFuYWdlQ29sSGFuZGxlciA9IG5ldyBDb2xTZXR0aW5nc0hhbmRsZXI8VD4oalF1ZXJ5KGVsZW1lbnQpLCB0aGlzLmNvbmZpZ1N0b3JlLCB0aGlzLnRvZ2dsZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vICAgICBlbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKS5odG1sKGh0bWwpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIuUmVnaXN0ZXJEb21IYW5kbGVyKCk7XHJcbiAgICAgICAgLy8gICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZSh0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlckZvckNzKTtcclxuICAgICAgICAvLyAgICAgalF1ZXJ5KGRvY3VtZW50KS5jbGljayh0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyRm9yQ3MpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBwdWJsaWMgYXBwbHlDb2x1bW5Db25maWcgPSAoY29sdW1uczogSUNvbHVtbltdKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudG9nZ2xlSGFuZGxlci5hcHBseUNvbHVtbkNvbmZpZyhjb2x1bW5zKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgaHRtbCA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRNYW5hZ2VDb2x1bW5zSHRtbCgpO1xyXG4gICAgICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5tYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lclxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIC8vICAgICBlbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKS5odG1sKGh0bWwpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICB0aGlzLnNldE9yZGVyID0gZnVuY3Rpb24gKG9yZGVyQnlMaXN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgY29sLm9yZGVyQnkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9yZGVyQnlMaXN0ID09PSB1bmRlZmluZWQgfHwgb3JkZXJCeUxpc3QgPT09IG51bGwgfHwgb3JkZXJCeUxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBvcmRlckJ5TGlzdF8xID0gb3JkZXJCeUxpc3Q7IF9iIDwgb3JkZXJCeUxpc3RfMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcmRlckNvbCA9IG9yZGVyQnlMaXN0XzFbX2JdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBfZCA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1uczsgX2MgPCBfZC5sZW5ndGg7IF9jKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sID0gX2RbX2NdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmRlckNvbC5jb2xJZCA9PT0gY29sLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gb3JkZXJDb2wub3JkZXJCeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0galF1ZXJ5KF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRFbGVtZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc3QgbWFuYWdlQ29udGFpbmVyRWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xyXG4gICAgICAgICAgICAvLyBpZiAoIG1hbmFnZUNvbnRhaW5lckVsZW1lbnQgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgLy8gICAgIG1hbmFnZUNvbnRhaW5lckVsZW1lbnQub2ZmKCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZihcInJlc2l6ZVwiLCBfdGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoXCJjbGlja1wiLCBfdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICQod2luZG93KS5vZmYoXCJyZXNpemVcIiwgX3RoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MpO1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoXCJjbGlja1wiLCBfdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlckZvckNzKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNjcm9sbEhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLnVuV2F0Y2hXaWR0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmludGVybmFsUmVuZGVyID0gZnVuY3Rpb24gKGRhdGEsIHBhZ2luYXRpb25JbnB1dCkge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3RJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5kZXggPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNodW5rU2l6ZSArIF90aGlzLmdldEluaXRpYWxSb3dDb3VudCgpO1xyXG4gICAgICAgICAgICBsYXN0SW5kZXggPSBsYXN0SW5kZXggPj0gZGF0YS5sZW5ndGggPyBkYXRhLmxlbmd0aCAtIDEgOiBsYXN0SW5kZXg7XHJcbiAgICAgICAgICAgIHZhciBncmlkQ29udGVudCA9IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0Rmlyc3RUZW1wbGF0ZShkYXRhLCBmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gZ3JpZENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxIYW5kbGVyICE9PSB1bmRlZmluZWQgJiYgX3RoaXMuc2Nyb2xsSGFuZGxlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGxlci5yZW1vdmVIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kbGVyLnJlc2V0UGFyZW50T2Zmc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kbGVyLnNldEN1cnJlbnRJbmRleChsYXN0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbEhhbmRsZXIgPSBuZXcgU2Nyb2xsSGFuZGxlcl8xLlNjcm9sbEhhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UsIGxhc3RJbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLndhdGNoV2lkdGgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRGb2N1c1RvTGFzdEVsZW1lbnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0SW5pdGlhbFJvd0NvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoalF1ZXJ5KHdpbmRvdykuaW5uZXJIZWlnaHQoKSAqIDAuNjUpIC8gMzIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5Jbml0SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0galF1ZXJ5KF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IERldGFpbHNSb3dIYW5kbGVyXzEuRGV0YWlsc1Jvd0hhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkRldGFpbHNSb3csXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBGaWx0ZXJDbGlja0hhbmRsZXJfMS5GaWx0ZXJDbGlja0hhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkZpbHRlckFjdGlvbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IEhlYWRlckNsaWNrSGFuZGxlcl8xLkhlYWRlckNsaWNrSGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuSGVhZGVyQ2xpY2ssXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEuUGFnZVNlYXJjaEhhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLlBhZ2VTZWFyY2gsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgU2VsZWN0RXZlbnRIYW5kbGVyXzEuU2VsZWN0RXZlbnRIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50LCBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlKSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5Db2xTZXR0aW5ncyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgalF1ZXJ5KHdpbmRvdykucmVzaXplKF90aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlcik7XHJcbiAgICAgICAgICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2soX3RoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JDcyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlckZvckNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLm1hbmFnZUNvbEhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlckZvclNjcm9sbCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNldEZvY3VzVG9MYXN0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5jb25maWdTdG9yZS5nZXRGb2N1c2FibGVFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJmaXJzdExpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAuZmlyc3RMaW5rXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJuZXh0TGlua1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5uZXh0TGlua1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJldkxpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAucHJldkxpbmtcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImxhc3RMaW5rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLmxhc3RMaW5rXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwYWdlU2l6ZVNlbGVjdG9yXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLnBhZ2VTaXplU2VsZWN0b3JcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInBhZ2VyLWlucHV0XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLnBhZ2VyLWlucHV0XCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidGhcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhSGVhZGVySWRfMSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZvY3VzYWJsZV8xO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudGFibGUtaGVhZGVyIHRoXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoSGVhZGVyID0gJChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVhY2hIZWFkZXJJZCA9IGVhY2hIZWFkZXIuYXR0cihcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaEhlYWRlcklkID09PSBkYXRhSGVhZGVySWRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Rm9jdXNhYmxlXzEgPSBlYWNoSGVhZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0ZvY3VzYWJsZV8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ZvY3VzYWJsZV8xLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQodW5kZWZpbmVkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBuZXcgQ29uZmlnU3RvcmVfMS5Db25maWdTdG9yZShvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgR3JpZFRlbXBsYXRlU2VydmljZV8xLkdyaWRUZW1wbGF0ZVNlcnZpY2UodGhpcy5jb25maWdTdG9yZSk7XHJcbiAgICAgICAgdGhpcy5Jbml0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBHcmlkO1xyXG59KCkpO1xyXG5leHBvcnRzLkdyaWQgPSBHcmlkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbmZpZ1N0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29uZmlnU3RvcmUob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JpZE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvblRpbWU6IDIwMCxcclxuICAgICAgICAgICAgY2h1bmtTaXplOiA1LFxyXG4gICAgICAgICAgICBjb2x1bW5zOiBbXSxcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgLy8gbWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGh5YnJpZEZ1bmN0aW9uOiBmdW5jdGlvbiAoY29sdW1uLCByb3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInRydWVcIjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAga2V5Q29sdW1uOiBcIlwiLFxyXG4gICAgICAgICAgICAvLyBvbkNvbFNldHRpbmdzQ2hhbmdlOiAoY29sQ29uZmlnOiBJQ29sdW1uW10pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIC8vIE5vIENvZGVcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgb25DbGlja0ZpbHRlcjogZnVuY3Rpb24gKGNvbHVtbiwgdmFsdWUsIGFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGlja0hlYWRlcjogZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uUGFnZVNlYXJjaDogZnVuY3Rpb24gKHBhZ2VTaXplLCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBDb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgc3VtbWFyeTogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0Rm9jdXNhYmxlRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmZvY3VzYWJsZUVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZm9jdXNhYmxlRWxlbWVudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuU2V0SGlkZGVuT25Db25maWcgPSBmdW5jdGlvbiAoYm9vbCwgY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLk9wdGlvbnMuY29sdW1uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uSWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLmhpZGRlbiA9IGJvb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zID0gZnVuY3Rpb24gKGlucHV0T3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub3B0aW9ucyA9IGpRdWVyeS5leHRlbmQoe30sIF90aGlzLmRlZmF1bHRHcmlkT3B0aW9ucywgaW5wdXRPcHRpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXJFbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBQcm92aWRlIGEgdmFsaWQgY29udGFpbmVyIEVsZW1lbnQgb2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9wdGlvbnMuY29sdW1ucy5zb3J0KGZ1bmN0aW9uIChwcmV2LCBuZXh0KSB7IHJldHVybiBwcmV2Lm9yZGVyIC0gbmV4dC5vcmRlcjsgfSk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uZmlnU3RvcmUucHJvdG90eXBlLCBcIk9wdGlvbnNcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENvbmZpZ1N0b3JlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNvbmZpZ1N0b3JlID0gQ29uZmlnU3RvcmU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VsZWN0RXZlbnRIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0RXZlbnRIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50LCBncmlkVGVtcGxhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgIH1cclxuICAgIFNlbGVjdEV2ZW50SGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1rZXktY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLnNlbGVjdFJvd3ModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRzKFwiLm1haW5Sb3dcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmRlU2VsZWN0Um93cyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdChfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLlNlbGVjdGVkLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1hbGwtY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuc2VsZWN0LWtleS1jaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2Uuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlIC5tYWluUm93XCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5kZVNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZSAubWFpblJvd1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuU2VsZWN0ZWQsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTZWxlY3RFdmVudEhhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfTtcclxuICAgIFNlbGVjdEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gSWdub3JlXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlbGVjdEV2ZW50SGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5TZWxlY3RFdmVudEhhbmRsZXIgPSBTZWxlY3RFdmVudEhhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRGV0YWlsc1Jvd0hhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEZXRhaWxzUm93SGFuZGxlcihjb25maWdTdG9yZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtYm9keSAuZXhwYW5zaW9uQXJyb3dzIGlcIiwgX3RoaXMuZXhwYW5kUm93KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImtleXVwXCIsIFwiLnRhYmxlLWJvZHkgLmV4cGFuc2lvbkFycm93cyBpXCIsIF90aGlzLmV4cGFuZFJvdyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmV4cGFuZFJvdyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlICE9PSBcImNsaWNrXCIgJiYgKGV2ZW50LnR5cGUgPT09IFwia2V5dXBcIiAmJiBjb2RlICE9PSAxMyAmJiBjb2RlICE9PSAzMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgYXJyb3cgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIGRldGFpbHNSb3cgPSBhcnJvdy5jbG9zZXN0KFwidHJcIikubmV4dCgpO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEljb24gPSBhcnJvdy5oaWRlKCkuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgdmFyIG90aGVySWNvbiA9IGFycm93LnNpYmxpbmdzKFwiaVwiKS5zaG93KCkuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgICAgIGlmIChhcnJvdy5oYXNDbGFzcyhcImV4cGFuZERldGFpbHNSb3dJY29uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBvdGhlckljb24uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zbGlkZURvd24oX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5hbmltYXRpb25UaW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJY29uLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgICAgIGRldGFpbHNSb3cuc2xpZGVVcChfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG90aGVySWNvbi5mb2N1cygpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBEZXRhaWxzUm93SGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICBEZXRhaWxzUm93SGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGV0YWlsc1Jvd0hhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRGV0YWlsc1Jvd0hhbmRsZXIgPSBEZXRhaWxzUm93SGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2x1bW5VdGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL0NvbHVtblV0aWwgKi8gNSk7XHJcbnZhciBGaWx0ZXJBY3Rpb25UeXBlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlICovIDE3KTtcclxudmFyIEZpbHRlckNsaWNrSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEZpbHRlckNsaWNrSGFuZGxlcihjb25maWdTdG9yZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5kZXRhaWxzUm93IC5kZXRhaWxzVGFibGUgdGQgaVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50VGQgPSBlbGVtZW50LnBhcmVudHMoXCJ0ZFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXIta2V5XCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXItdHlwZVwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBDb2x1bW5VdGlsXzEuQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3Qoa2V5LCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbCA9PT0gdW5kZWZpbmVkIHx8IGNvbCA9PT0gbnVsbCB8fCAhY29sLmZpbHRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQWN0aW9uID0gRmlsdGVyQWN0aW9uVHlwZV8xLkZpbHRlckFjdGlvblR5cGUuQWRkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoXCJyZW1vdmVGaWx0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5NaW51cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0ZpbHRlcihrZXksIHZhbHVlLCBmaWx0ZXJBY3Rpb24sIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBGaWx0ZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgRmlsdGVyQ2xpY2tIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaWx0ZXJDbGlja0hhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRmlsdGVyQ2xpY2tIYW5kbGVyID0gRmlsdGVyQ2xpY2tIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEZpbHRlckFjdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoRmlsdGVyQWN0aW9uVHlwZSkge1xyXG4gICAgRmlsdGVyQWN0aW9uVHlwZVtcIkFkZFwiXSA9IFwiQWRkXCI7XHJcbiAgICBGaWx0ZXJBY3Rpb25UeXBlW1wiTWludXNcIl0gPSBcIk1pbnVzXCI7XHJcbn0pKEZpbHRlckFjdGlvblR5cGUgPSBleHBvcnRzLkZpbHRlckFjdGlvblR5cGUgfHwgKGV4cG9ydHMuRmlsdGVyQWN0aW9uVHlwZSA9IHt9KSk7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSGFuZGxlck5hbWVzO1xyXG4oZnVuY3Rpb24gKEhhbmRsZXJOYW1lcykge1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkZpbHRlckFjdGlvblwiXSA9IDBdID0gXCJGaWx0ZXJBY3Rpb25cIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJIZWFkZXJDbGlja1wiXSA9IDFdID0gXCJIZWFkZXJDbGlja1wiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlNjcm9sbFwiXSA9IDJdID0gXCJTY3JvbGxcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJQYWdlU2VhcmNoXCJdID0gM10gPSBcIlBhZ2VTZWFyY2hcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJEZXRhaWxzUm93XCJdID0gNF0gPSBcIkRldGFpbHNSb3dcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJUb2dnbGVDb2x1bW5cIl0gPSA1XSA9IFwiVG9nZ2xlQ29sdW1uXCI7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiQ29sU2V0dGluZ3NcIl0gPSA2XSA9IFwiQ29sU2V0dGluZ3NcIjtcclxufSkoSGFuZGxlck5hbWVzID0gZXhwb3J0cy5IYW5kbGVyTmFtZXMgfHwgKGV4cG9ydHMuSGFuZGxlck5hbWVzID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2x1bW5VdGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL0NvbHVtblV0aWwgKi8gNSk7XHJcbnZhciBHcmlkT3JkZXJEaXJlY3Rpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbiAqLyA2KTtcclxudmFyIEhlYWRlckNsaWNrSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEhlYWRlckNsaWNrSGFuZGxlcihjb25maWdTdG9yZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyaW5nIEpRdWVyeSBFdmVudCBIYW5kbGVyIGlmIEhlYWRlciBpcyBDbGlja2VkLlxyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIF90aGlzLmhhbmRsZUhlYWRlclNvcnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5dXBcIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIF90aGlzLmhhbmRsZUhlYWRlclNvcnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwibW91c2Vkb3duXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCBfdGhpcy5oYW5kbGVNb3VzZURvd24pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiZm9jdXNpblwiLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgX3RoaXMuaGFuZGxlSGVhZGVyRm9jdXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMud2FzSGVhZGVyQ2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhhbmRsZUhlYWRlckZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBmb2N1c1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGFzdEZvY3VzZWRFbGVtZW50ICE9PSBldmVudC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy53YXNIZWFkZXJDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEZvY3VzZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMud2FzSGVhZGVyQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGV2ZW50LmRhdGEuY2xpY2tlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIGhlYWRlciA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgbGVmdFBvc3RpdGlvbiA9IGhlYWRlci5wb3NpdGlvbigpLmxlZnQ7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJXaWR0aCA9IGhlYWRlci53aWR0aCgpO1xyXG4gICAgICAgICAgICB2YXIgdGFibGVCb2R5ID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgICAgIHZhciBtYWluVGFibGVCb2R5ID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZVwiKTtcclxuICAgICAgICAgICAgdmFyIHZpc2libGVUYm9keVdpZHRoID0gdGFibGVCb2R5LndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciBtYXhTY3JvbGwgPSBtYWluVGFibGVCb2R5LndpZHRoKCkgLSB2aXNpYmxlVGJvZHlXaWR0aDtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IGxlZnRQb3N0aXRpb24gKyBoZWFkZXJXaWR0aCAqIDI7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0Qnk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UG9zaXRpb24gPiB2aXNpYmxlVGJvZHlXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsTGVmdEJ5ID0gbGVmdFBvc3RpdGlvbiA+IG1heFNjcm9sbCA/IG1heFNjcm9sbCA6IGxlZnRQb3N0aXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0QnkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhYmxlQm9keS5zY3JvbGxMZWZ0KHNjcm9sbExlZnRCeSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVIZWFkZXJTb3J0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaDtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiAmJiAoZXZlbnQudHlwZSA9PT0gXCJrZXl1cFwiICYmIGNvZGUgIT09IDEzICYmIGNvZGUgIT09IDMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCkuY2xvc2VzdChcInRoXCIpO1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVySWQgPSBlbGVtZW50LmF0dHIoXCJkYXRhLWhlYWRlci1pZFwiKTtcclxuICAgICAgICAgICAgdmFyIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChoZWFkZXJJZCwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgaWYgKGNvbCA9PT0gdW5kZWZpbmVkIHx8IGNvbCA9PT0gbnVsbCB8fCAhY29sLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFycm93SWNvbnMgPSBlbGVtZW50LmZpbmQoXCJpXCIpO1xyXG4gICAgICAgICAgICB2YXIgdXBBcnJvd0ljb24gPSBhcnJvd0ljb25zLmZpcnN0KCk7XHJcbiAgICAgICAgICAgIHZhciBkb3duQXJyb3dJY29uID0gYXJyb3dJY29ucy5sYXN0KCk7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb247XHJcbiAgICAgICAgICAgIGlmIChhcnJvd0ljb25zLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1cEFycm93SWNvbi5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkRlc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgICAgICAgICBkb3duQXJyb3dJY29uLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb25fMS5HcmlkT3JkZXJEaXJlY3Rpb24uQXNjO1xyXG4gICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cihcImFyaWEtc29ydFwiLCBkaXJlY3Rpb24gPT09IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5EZXNjID8gXCJkZXNjZW5kaW5nXCIgOiBcImFzY2VuZGluZ1wiKTtcclxuICAgICAgICAgICAgQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuU2V0T3JkZXIoaGVhZGVySWQsIGRpcmVjdGlvbiwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ2xpY2tIZWFkZXIoY29sLm9yZGVyQnlDb2wgfHwgaGVhZGVySWQsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBIZWFkZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgSGVhZGVyQ2xpY2tIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFkZXJDbGlja0hhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSGVhZGVyQ2xpY2tIYW5kbGVyID0gSGVhZGVyQ2xpY2tIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9QYWdlU2VhcmNoQ2xpY2tIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGpRdWVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGpxdWVyeSAqLyA0KTtcclxudmFyIFBhZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wYWdpbmF0aW9uL1BhZ2VyICovIDMpO1xyXG52YXIgUGFnZVNlYXJjaEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQYWdlU2VhcmNoSGFuZGxlcihjb25maWdTdG9yZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLmZpcnN0TGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIDEpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5uZXh0TGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLnByZXZMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubGFzdExpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIudGFibGUtZm9vdGVyIC5wYWdlU2l6ZVNlbGVjdG9yXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9ICtqUXVlcnkoZXZlbnQudGFyZ2V0KS52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2godmFsLCBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJrZXlwcmVzc1wiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VyLWlucHV0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlwID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFnZURhdGEgPSBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICtpcC52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA+IHBhZ2VEYXRhLm5vT2ZQYWdlcyB8fCB2YWwgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwLnZhbChwYWdlRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2gocGFnZURhdGEucGFnZVNpemUsIHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBQYWdlU2VhcmNoSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9O1xyXG4gICAgUGFnZVNlYXJjaEhhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGFnZVNlYXJjaEhhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUGFnZVNlYXJjaEhhbmRsZXIgPSBQYWdlU2VhcmNoSGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTY3JvbGxIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2Nyb2xsSGFuZGxlcihjb25maWdTdG9yZSwgZ3JpZFRlbXBsYXRlU2VydmljZSwgY3VycmVudEluZGV4KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnJlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMud2F0Y2hlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50SW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpLm9uKFwic2Nyb2xsXCIsIF90aGlzLmhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpLm9mZihcInNjcm9sbFwiLCBfdGhpcy5oYW5kbGVSZXNpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZXNldFBhcmVudE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50T2ZmU2V0TGVmdCA9IF90aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgX3RoaXMubGVmdE9mZnNldCA9IF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMud2F0Y2hXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50T2ZmU2V0TGVmdCA9IF90aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgX3RoaXMud2F0Y2hlcy5wdXNoKHNldEludGVydmFsKF90aGlzLnNldEhlYWRlck9mZnNldCwgMzAwKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVuV2F0Y2hXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLndhdGNoZXMgPT09IHVuZGVmaW5lZCB8fCBfdGhpcy53YXRjaGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLndhdGNoZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2F0Y2ggPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHdhdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIHRCb2R5T2JqID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5sZWZ0T2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgX3RoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGVmdE9mZnNldCA9IF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcIm1hcmdpbi1sZWZ0XCI6IC0xICogdEJvZHlPYmouc2Nyb2xsTGVmdCgpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGFjdHVhbFRhYmxlSGVpZ2h0ID0gdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVcIikuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxDb250YWluZXJIZWlnaHQgPSB0Qm9keU9iai5oZWlnaHQoKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnJlbmRlcmluZykge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRCb2R5T2JqLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICBpZiAoKHNjcm9sbENvbnRhaW5lckhlaWdodCArIHNjcm9sbFRvcCkgLSAoYWN0dWFsVGFibGVIZWlnaHQgKiAwLjgpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRJbmRleCA+PSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJbmRleCA9IF90aGlzLmN1cnJlbnRJbmRleCArIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA+PSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBqUXVlcnkoX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5nZXRUZW1wbGF0ZShfdGhpcy5jdXJyZW50SW5kZXgsIGxhc3RJbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVCb2R5XCIpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEN1cnJlbnRJbmRleChsYXN0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRIZWFkZXJPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gX3RoaXMucGFyZW50RWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucGFyZW50T2ZmU2V0TGVmdCAhPT0gbGVmdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRCb2R5T2JqID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMubGVmdE9mZnNldCA9PT0gdW5kZWZpbmVkIHx8IF90aGlzLmxlZnRPZmZzZXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sZWZ0T2Zmc2V0ID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMubGVmdE9mZnNldCA9IF90aGlzLmxlZnRPZmZzZXQgLSAoX3RoaXMucGFyZW50T2ZmU2V0TGVmdCAtIGxlZnQpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vZmZzZXQoeyBsZWZ0OiBfdGhpcy5sZWZ0T2Zmc2V0LCB0b3A6IDAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gbGVmdDtcclxuICAgICAgICAgICAgICAgIHRCb2R5T2JqLnNjcm9sbExlZnQodEJvZHlPYmouc2Nyb2xsTGVmdCgpIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IGdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50SW5kZXgoY3VycmVudEluZGV4KTtcclxuICAgIH1cclxuICAgIFNjcm9sbEhhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vXHJcbiAgICB9O1xyXG4gICAgU2Nyb2xsSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gTm8gT3BcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2Nyb2xsSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5TY3JvbGxIYW5kbGVyID0gU2Nyb2xsSGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzICovIDcpO1xyXG52YXIgR3JpZEZvb3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2hicy9ncmlkLWZvb3Rlci5oYnMgKi8gOCk7XHJcbnZhciBHcmlkTWFpblJvd1RlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtbWFpbi1yb3cuaGJzICovIDEwKTtcclxudmFyIE1hbmFnZUNvbHVtblRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtbWFuYWdlLWNvbHVtbnMuaGJzICovIDI0KTtcclxudmFyIEdyaWRUZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2hicy9ncmlkLmhicyAqLyAyNik7XHJcbnZhciBQYWdlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcGFnaW5hdGlvbi9QYWdlciAqLyAzKTtcclxudmFyIEdyaWRUZW1wbGF0ZVNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHcmlkVGVtcGxhdGVTZXJ2aWNlKGNvbmZpZ1N0b3JlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107XHJcbiAgICAgICAgdGhpcy5pc0FsbFNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VsZWN0ZWQubGVuZ3RoICE9PSAwICYmIF90aGlzLnNlbGVjdGVkLmxlbmd0aCA9PT0gX3RoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBGb3IgRmlyc3QgIFJlbmRlciAtIFVwZGF0ZSBIZWFkZXIgLCBCb2R5LCBQYWdpbmF0aW9uXHJcbiAgICAgICAgdGhpcy5HZXRGaXJzdFRlbXBsYXRlID0gZnVuY3Rpb24gKGRhdGEsIGZpcnN0SW5kZXgsIGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICBfdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIG1haW5Sb3dBcnJheSA9IF90aGlzLkdldFJvd3NIdG1sKGZpcnN0SW5kZXgsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCh7XHJcbiAgICAgICAgICAgICAgICBzaG93Q2FwdGlvbjogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5zaG93Q2FwdGlvbixcclxuICAgICAgICAgICAgICAgIHN1bW1hcnk6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuc3VtbWFyeSxcclxuICAgICAgICAgICAgICAgIHJvd0xlbmd0aDogX3RoaXMuZGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMsXHJcbiAgICAgICAgICAgICAgICBtYWluUm93QXJyYXk6IG1haW5Sb3dBcnJheSxcclxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhOiBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLFxyXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jYXB0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEZvciBWaXJ0dWFsaXphdG9uIFJlbmRlciAtIEJvZHlcclxuICAgICAgICB0aGlzLmdldFRlbXBsYXRlID0gZnVuY3Rpb24gKGZpcnN0SW5kZXgsIGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbWFpblJvd0FycmF5ID0gX3RoaXMuR2V0Um93c0h0bWwoZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93KHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgICAgIG1haW5Sb3dBcnJheTogbWFpblJvd0FycmF5LFxyXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jYXB0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFVwZGF0ZSBvbmx5IG9uZSBSb3dcclxuICAgICAgICB0aGlzLmdldFRlbXBsYXRlRm9yT25lUm93ID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICB2YXIgZW1wdHlTdHIgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmVtcHR5VmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93Q29sQXJyYXkgPSBfdGhpcy5nZXRNYWluUm93KHJvdywgZW1wdHlTdHIpO1xyXG4gICAgICAgICAgICB2YXIgbWFpblJvd0FycmF5ID0gW3tcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFNlbGVjdGVkOiBfdGhpcy5pc0FsbFNlbGVjdGVkKCksXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Q29sdW1uOiByb3dbX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW5dLFxyXG4gICAgICAgICAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheTogbWFpblJvd0NvbEFycmF5LFxyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coeyBtYWluUm93QXJyYXk6IG1haW5Sb3dBcnJheSB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuR2V0TWFuYWdlQ29sdW1uc0h0bWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sKHsgY29sdW1uczogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5HZXRSb3dzSHRtbCA9IGZ1bmN0aW9uIChmaXJzdEluZGV4LCBsYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIG1haW5Sb3dBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZW1wdHlTdHIgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmVtcHR5VmFsdWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBmaXJzdEluZGV4OyBpIDw9IGxhc3RJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gX3RoaXMuZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBtYWluUm93Q29sQXJyYXkgPSBfdGhpcy5nZXRNYWluUm93KHJvdywgZW1wdHlTdHIpO1xyXG4gICAgICAgICAgICAgICAgbWFpblJvd0FycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0luZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQWxsU2VsZWN0ZWQ6IF90aGlzLmlzQWxsU2VsZWN0ZWQoKSxcclxuICAgICAgICAgICAgICAgICAgICBrZXlDb2x1bW46IHJvd1tfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5OiBtYWluUm93Q29sQXJyYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1haW5Sb3dBcnJheTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Um93cyA9IGZ1bmN0aW9uIChyb3dJZCkge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgICAgIHZhciBuZXdTZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5zZWxlY3RlZDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dJZCA9PT0gc2VsZWN0ZWRba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkLnB1c2gocm93SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgbmV3U2VsZWN0ZWRfMSA9IG5ld1NlbGVjdGVkOyBfYiA8IG5ld1NlbGVjdGVkXzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9CZUFkZGVkID0gbmV3U2VsZWN0ZWRfMVtfYl07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIF9kID0gX3RoaXMuZGF0YTsgX2MgPCBfZC5sZW5ndGg7IF9jKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb25lUm93ID0gX2RbX2NdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b0JlQWRkZWQgPT09IG9uZVJvd1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkLnB1c2gob25lUm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRlU2VsZWN0Um93cyA9IGZ1bmN0aW9uIChyb3dJZCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3U2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuc2VsZWN0ZWQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocm93SWQgIT09IHNlbGVjdGVkW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZC5wdXNoKHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZCA9IG5ld1NlbGVjdGVkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZWxlY3RBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gX3RoaXMuZGF0YTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZGVTZWxlY3RBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVJvd3MgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgICAgIGlmIChyb3dzID09PSB1bmRlZmluZWQgfHwgIXJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCByb3dzXzEgPSByb3dzOyBfaSA8IHJvd3NfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3cgPSByb3dzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBfYiA9IF90aGlzLmRhdGE7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFSb3cgPSBfYltfYV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1trZXldID09PSBkYXRhUm93W2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvdyA9IHJvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gMCwgcm93c18yID0gcm93czsgX2MgPCByb3dzXzIubGVuZ3RoOyBfYysrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gcm93c18yW19jXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gMCwgX2UgPSBfdGhpcy5zZWxlY3RlZDsgX2QgPCBfZS5sZW5ndGg7IF9kKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVJvdyA9IF9lW19kXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93W2tleV0gPT09IGRhdGFSb3dba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93ID0gcm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0TWFpblJvdyA9IGZ1bmN0aW9uIChyb3csIGVtcHR5U3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93Q29sQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uVmFsdWUgPSByb3dbY29sLmlkXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2wucmVuZGVySHlicmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uVmFsdWUgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmh5YnJpZEZ1bmN0aW9uKGNvbCwgcm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbXB0eVN0ciAhPT0gdW5kZWZpbmVkICYmIGNvbHVtblZhbHVlID09PSBlbXB0eVN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZTogY29sdW1uVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY29sLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2wuaGlkZGVuLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiByb3dbY29sLmlkXSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBjb2wubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogY29sLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmFibGU6IGNvbC5maWx0ZXJhYmxlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1haW5Sb3dDb2xBcnJheTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkID0gR3JpZFRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3cgPSBHcmlkTWFpblJvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3cgPSBHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckZvb3RlciA9IEdyaWRGb290ZXI7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sID0gTWFuYWdlQ29sdW1uVGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZFRlbXBsYXRlU2VydmljZS5wcm90b3R5cGUsIFwiRGF0YVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZFRlbXBsYXRlU2VydmljZS5wcm90b3R5cGUsIFwiU2VsZWN0ZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJDdXJyZW50SW5kZXhcIiwge1xyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZFRlbXBsYXRlU2VydmljZS5wcm90b3R5cGUsIFwiRGF0YUxlbmd0aFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuR3JpZFRlbXBsYXRlU2VydmljZSA9IEdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0ZWQgPSBmdW5jdGlvbiAoaW5wdXQsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaW5wdXQgPT09IHZhbHVlID8gXCJzZWxlY3RlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gc2VsZWN0ZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHRyIGRhdGEtaGVhZGVyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtaGlkZGVuLWNoZWNrYm94IGd1aSBtLXItMTBcXFwiIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMgKi8gMjUpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmhpZGRlbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiQ2hlY2tlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8L3RyPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiZ3VpIG9mLWhpZGRlbiBwLTEwIG1pbi13LTUwIHctYXV0byBmbHVpZC1oIGZsZXggY29sdW1uIGNvbnRhaW5lclxcXCIgPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtaGVhZGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCVcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG1pbmkgZmx1aWQgaWNvbiBpbnB1dFxcXCI+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtZmlsdGVyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiU2VhcmNoIGZpbHRlci4uLlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcInNlYXJjaCBpY29uXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXQtMTBcXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJndWkgbGVmdCBzaG93LWFsbC1jb2x1bW5cXFwiPlNob3cgQWxsPC9hPlxcclxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJndWkgcmlnaHQgaGlkZS1hbGwtY29sdW1uXFxcIj5IaWRlIEFsbDwvYT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBjbGVhclxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy10YWJsZSBndWkgZmx1aWQgaC05MCBvZi1hdXRvIHAtNSBtLXQtMTBcXFwiID5cXHJcXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIHNtYWxsIHZlcnkgYm9yZGVyLWxlc3MgYmFzaWMgY29tcGFjdCB0YWJsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPHRib2R5PlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9DaGVja2VkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjaGVja2VkID0gZnVuY3Rpb24gKGJvb2wpIHtcclxuICAgIHJldHVybiAhYm9vbCA/IFwiY2hlY2tlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gY2hlY2tlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9ncmlkLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICA8Y2FwdGlvbiBjbGFzcz1cXFwiZ3VpIGd1aS1zdWJoZWFkaW5nLTIgbS0wIHAtMCB0ZXh0LWxlZnRcXFwiPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jYXB0aW9uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9jYXB0aW9uPlxcclxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQ29sdW1uLnRzICovIDI3KSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJDb2x1bW5cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXHJcXG5cIjtcbn0sXCI1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNvcnRhYmxlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg4LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI2XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvT3JkZXJlZC50cyAqLyAyOCkpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAsKGRhdGEgJiYgZGF0YS5pbmRleCkse1wibmFtZVwiOlwiT3JkZXJlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcclxcblwiO1xufSxcIjhcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1jb250YWluZXIubGFtYmRhO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCByb2xlPVxcXCJjb2x1bW5oZWFkZXJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY29saW5kZXg9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0FkZC50cyAqLyAyKSkuY2FsbChhbGlhczEsKGRhdGEgJiYgZGF0YS5pbmRleCksMyx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1zb3J0PVxcXCJub25lXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cXFwiLTFcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJndWkgY3Vyc29yLWRlZmF1bHQgZGlzYWJsZWRcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQXJpYUhpZGRlbi50cyAqLyAyOSkpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5oaWRkZW4gOiBkZXB0aDApLHtcIm5hbWVcIjpcIkFyaWFIaWRkZW5cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XFxcImhlYWRlci1cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcImlubmVyLWNvbnRhaW5lciBndWkgZmx1aWQgY29udGFpbmVyXFxcIiBcXHJcXG4gICAgYXJpYS1yZWFkb25seT1cXFwidHJ1ZVxcXCIgXFxyXFxuICAgIGFyaWEtcm93Y291bnQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dMZW5ndGggOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICBhcmlhLWNvbGNvdW50PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9BZGQudHMgKi8gMikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxlbmd0aCA6IHN0YWNrMSksMix7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgYXJpYS1sYWJlbD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcHRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxyXFxuICAgIHN1bW1hcnk9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdW1tYXJ5IDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcclxcbiAgICBhcmlhLWxpdmU9XFxcInBvbGl0ZVxcXCJcXHJcXG4gICAgcm9sZT1cXFwiZ3JpZFxcXCIgXFxyXFxuICAgIHN0eWxlPVxcXCJwYWRkaW5nOjAlO1xcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInRhYmxlLWhlYWRlclxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgaWQ9XFxcImhlYWRlcnRhYmxlXFxcIiByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBzb3J0YWJsZSBmaXhlZCBzaW5nbGUgbGluZSB0YWJsZVxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zaG93Q2FwdGlvbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJoZWFkZXJDb2xHcm91cFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcclxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXHJcXG4gICAgICAgICAgICA8dGhlYWQgcm9sZT1cXFwicm93Z3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dHIgcm9sZT1cXFwicm93XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0aCByb2xlPVxcXCJjb2x1bW5oZWFkZXJcXFwiIGFyaWEtY29saW5kZXg9XFxcIjFcXFwiPjwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJTZWxlY3QgYWxsIHJvd3Mgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcHRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCIgQ2hlY2tib3hcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY29saW5kZXg9XFxcIjJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XFxcInNlbGVjdC1hbGwtY2hlY2tib3hcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCAgdHlwZT1cXFwiY2hlY2tib3hcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVxcXCJzZWxlY3QtYWxsLWNoZWNrYm94XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcInNlbGVjdC1hbGwtY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuICAgICAgICAgICAgPC90aGVhZD5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1ib2R5XFxcIj5cXHJcXG4gICAgICAgIDx0YWJsZSByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBmaXhlZCBzZWxlY3RhYmxlIHNpbmdsZSBsaW5lIHRhYmxlIG1haW5UYWJsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJib2R5Q29sR3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz4gXFxyXFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2NvbGdyb3VwPlxcclxcbiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cXFwibWFpblRhYmxlQm9keVxcXCIgcm9sZT1cXFwicm93Z3JvdXBcXFwiPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9ncmlkLW1haW4tcm93LmhicyAqLyAxMCksZGVwdGgwLHtcIm5hbWVcIjpcImdyaWQtbWFpbi1yb3dcIixcImRhdGFcIjpkYXRhLFwiaW5kZW50XCI6XCIgICAgICAgICAgICAgICAgXCIsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICA8L3RhYmxlPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtZm9vdGVyIGd1aSBoLWF1dG8gZmx1aWQtdyBmbGV4IGpjLXNiIHAtNSBtLTBcXFwiPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9ncmlkLWZvb3Rlci5oYnMgKi8gOCksZGVwdGgwLHtcIm5hbWVcIjpcImdyaWQtZm9vdGVyXCIsXCJkYXRhXCI6ZGF0YSxcImluZGVudFwiOlwiICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvZGl2PlxcclxcbjwvZGl2PlwiO1xufSxcInVzZVBhcnRpYWxcIjp0cnVlLFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvQ29sdW1uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbHVtbiA9IGZ1bmN0aW9uIChjb2wpIHtcclxuICAgIHZhciBjYWxjV2lkdGggPSBjb2wuaGlkZGVuID8gMCA6IGNvbC53aWR0aDtcclxuICAgIHZhciBkYXRhQXR0cklkID0gJ2RhdGEtaGVhZGVyLWlkPVwiJyArIGNvbC5pZCArICdcIic7XHJcbiAgICByZXR1cm4gJzxjb2wgc3R5bGU9XCJ3aWR0aCA6ICcgKyBjYWxjV2lkdGggKyAncHg7XCInICsgZGF0YUF0dHJJZCArIFwiIC8+XCI7XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvbHVtbjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjggKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBHcmlkT3JkZXJEaXJlY3Rpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2pzL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb24gKi8gNik7XHJcbnZhciBvcmRlcmVkID0gZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHtcclxuICAgIHZhciBwYXJzZWRJbnQgPSBwYXJzZUludChpbmRleCwgMTApICsgMztcclxuICAgIHZhciBhcmlhU29ydFN0cjtcclxuICAgIHZhciBhcmlhTGFiZWxTdHI7XHJcbiAgICB2YXIgaGVhZGVySWNvbk1rO1xyXG4gICAgdmFyIGFyaWFIaWRkZW5TdHIgPSBjb2x1bW4uaGlkZGVuID8gXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiXCIgOiBcIiBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiXCI7XHJcbiAgICB2YXIgdGFiSW5kZXggPSBjb2x1bW4uc29ydGFibGUgJiYgIWNvbHVtbi5oaWRkZW4gPyAwIDogLTE7XHJcbiAgICBpZiAoY29sdW1uLm9yZGVyQnkgPT09IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5Bc2MpIHtcclxuICAgICAgICBoZWFkZXJJY29uTWsgPSBcIiA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwXFxcIiBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd24gZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+XCI7XHJcbiAgICAgICAgYXJpYVNvcnRTdHIgPSBcImFyaWEtc29ydD1cXFwiYXNjZW5kaW5nXFxcIlwiO1xyXG4gICAgICAgIC8vIGFyaWFMYWJlbFN0ciA9IGNvbHVtbi5uYW1lICsgXCIgc29ydGVkIGFzY2VuZGluZ1wiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY29sdW1uLm9yZGVyQnkgPT09IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5EZXNjKSB7XHJcbiAgICAgICAgaGVhZGVySWNvbk1rID0gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPiBcIiArXHJcbiAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duXFxcIiBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiID48L2k+XCI7XHJcbiAgICAgICAgYXJpYVNvcnRTdHIgPSBcImFyaWEtc29ydD1cXFwiZGVzY2VuZGluZ1xcXCJcIjtcclxuICAgICAgICAvLyBhcmlhTGFiZWxTdHIgPSBjb2x1bW4ubmFtZSArIFwiIHNvcnRlZCBkZXNjZW5kaW5nXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBoZWFkZXJJY29uTWsgPSBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXAgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd24gZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+XCI7XHJcbiAgICAgICAgYXJpYVNvcnRTdHIgPSBcImFyaWEtc29ydD1cXFwibm9uZVxcXCJcIjtcclxuICAgICAgICBhcmlhTGFiZWxTdHIgPSBcIiBQcmVzcyBzcGFjZSBvciBlbnRlciB0byBzb3J0IGNvbHVtbiBcIiArIGNvbHVtbi5uYW1lICsgXCIgYnV0dG9uXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBhcmlhLWNvbGluZGV4PVxcXCJcIiArIHBhcnNlZEludFxyXG4gICAgICAgICsgXCJcXFwiIGNsYXNzPVxcXCJndWkgY3Vyc29yLXBvaW50ZXJcXFwiIGlkPVxcXCJoZWFkZXItXCJcclxuICAgICAgICArIGNvbHVtbi5pZCArIFwiXFxcIlwiXHJcbiAgICAgICAgKyBcIiB0YWJpbmRleD1cXFwiXCIgKyB0YWJJbmRleCArIFwiXFxcIiBcIlxyXG4gICAgICAgICsgXCIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiICsgY29sdW1uLmlkICsgXCJcXFwiICsgIFwiXHJcbiAgICAgICAgKyBhcmlhU29ydFN0clxyXG4gICAgICAgICsgYXJpYUhpZGRlblN0clxyXG4gICAgICAgICsgXCIgYXJpYS1sYWJlbGxlZEJ5PVxcXCJjb2x1bW5MYWJlbC1cIiArIGNvbHVtbi5pZCArIFwiXFxcIlwiXHJcbiAgICAgICAgLy8gKyBcIiB0aXRsZT1cXFwiXCIgKyBjb2x1bW4ubmFtZSArIFwiXFxcIiBcIlxyXG4gICAgICAgICsgXCIgID5cIlxyXG4gICAgICAgICsgXCIgPHNwYW4gXCJcclxuICAgICAgICArIFwiIGlkPVxcXCJjb2x1bW5MYWJlbC1cIiArIGNvbHVtbi5pZCArIFwiXFxcIiBcIlxyXG4gICAgICAgICsgXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyBhcmlhTGFiZWxTdHIgKyBcIlxcXCIgXCJcclxuICAgICAgICArIFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImd1aSBuby1jc3Mgc3ViIGhlYWRlciBtLXItNVxcXCI+XCIgKyBjb2x1bW4ubmFtZSArIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgKyBoZWFkZXJJY29uTWtcclxuICAgICAgICArIFwiIDwvdGg+XCI7XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG9yZGVyZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvQXJpYUhpZGRlbi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYXJpYUhpZGRlbiA9IGZ1bmN0aW9uIChib29sKSB7XHJcbiAgICByZXR1cm4gYm9vbCA/IFwiYXJpYS1oaWRkZW49XFxcInRydWVcXFwiXCIgOiBcImFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gYXJpYUhpZGRlbjtcclxuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBncmlkb28ubWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGNhZjIwNWRlOTFmOTdlZTU5MzI3IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJIYW5kbGViYXJzXCIsXCJhbWRcIjpcImhhbmRsZWJhcnMucnVudGltZVwiLFwiY29tbW9uanMyXCI6XCJoYW5kbGViYXJzL3J1bnRpbWVcIixcImNvbW1vbmpzXCI6XCJoYW5kbGViYXJzL3J1bnRpbWVcIn1cbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBkaXNhYmxlZCA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBib29sID8gXCJkaXNhYmxlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRpc2FibGVkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzIiwiY29uc3QgQWRkID0gKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gKGxlZnQgKyByaWdodCkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFkZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9BZGQudHMiLCJpbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcclxuaW1wb3J0IHsgSVBhZ2luYXRpb25JbnB1dCB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25JbnB1dFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhZ2luYXRpb25EYXRhOiBJUGFnaW5hdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIENhbGN1bGF0ZVBhZ2luYXRpb25EYXRhID0gKHBhZ2luYXRpb25JbnB1dDogSVBhZ2luYXRpb25JbnB1dCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYWdpbmF0aW9uRGF0YTogYW55ID0ge307XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlSW5kZXg7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZXMgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemVzO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS50b3RhbENvdW50ID0gcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQ7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9IE1hdGguY2VpbChwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCAvIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbk51bSA9ICgocGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleCAtIDEpICogcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgbG93ZXJMaW1pdE9mZnNldCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSA+IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gOiBtaW5OdW0gKyAxLFxyXG4gICAgICAgICAgICAgICAgbWF4IDogbWluTnVtICsgbG93ZXJMaW1pdE9mZnNldCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEuZmlyc3RQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxIHx8IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5wcmV2UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKSA8PSAwO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5uZXh0UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpID49IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcztcclxuICAgICAgICAgICAgUGFnZXIucGFnaW5hdGlvbkRhdGEgPSBwYWdpbmF0aW9uRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBQYWdpbmF0aW9uRGF0YSgpOiBJUGFnaW5hdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvcGFnaW5hdGlvbi9QYWdlci50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqUXVlcnlcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB7IEdyaWRPcmRlckRpcmVjdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi8uLi9tb2RlbHMvSUNvbHVtblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1vblV0aWwge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0Q29sdW1uT2JqZWN0ID0gKGNvbHVtbklkOiBzdHJpbmcsIGNvbHVtbnM6IElDb2x1bW5bXSk6IElDb2x1bW4gPT4ge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCA9PSBudWxsIHx8IGNvbHVtbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJldENvbDogSUNvbHVtbjtcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goKGNvbDogSUNvbHVtbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0T3JkZXIgPSAoY29sdW1uSWQ6IHN0cmluZywgb3JkZXJCeTogR3JpZE9yZGVyRGlyZWN0aW9uLCBjb2x1bW5zOiBJQ29sdW1uW10pOiBJQ29sdW1uID0+IHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXRDb2w6IElDb2x1bW47XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2w6IElDb2x1bW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gb3JkZXJCeTtcclxuICAgICAgICAgICAgICAgIHJldENvbCA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRDb2w7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMiLCJleHBvcnQgZW51bSBHcmlkT3JkZXJEaXJlY3Rpb24ge1xyXG4gICAgTm9uZSA9IFwiTm9uZVwiLFxyXG4gICAgQXNjID0gXCJBc2NcIixcclxuICAgIERlc2MgPSBcIkRlc2NcIixcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb24udHMiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0cj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiZ3VpIHJ2LXBhcmVudFxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPVxcXCJ0b3BcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZmlsdGVyLXR5cGU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50eXBlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50eXBlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0eXBlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWx0ZXIta2V5PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZmlsdGVyLXZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYWN0dWFsVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFjdHVhbFZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJhY3R1YWxWYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jb2x1bW5OYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5OYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5OYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZpbHRlcmFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtblZhbHVlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5WYWx1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sdW1uVmFsdWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtLWwtNSBydi1jaGlsZCBndWktY2FwdGlvblxcXCIgPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFkZCBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciBhZGRGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1taW51cyBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciByZW1vdmVGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIjx0ciBpZD1cXFwiZGV0YWlscy1yb3ctXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmluZGV4IHx8IChkYXRhICYmIGRhdGEuaW5kZXgpKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImluZGV4XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcImd1aSBndWktaGlkZGVuIGRldGFpbHNSb3dcXFwiIGFyaWEtbGl2ZT1cXFwicG9saXRlXFxcIj5cXHJcXG4gICAgPHRkIGNvbHNwYW49XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5sZW5ndGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxlbmd0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVuZ3RoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSB2ZXJ5IGNvbXBhY3Qgc2VsZWN0YWJsZSBjZWxsZWQgdGFibGUgZGV0YWlsc1RhYmxlIG0tbC0zNyBwLTVcXFwiIFxcclxcbiAgICAgICAgICAgICAgIHN0eWxlPVxcXCJ3aWR0aDogYXV0bztcXFwiID5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93Lmhic1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgPG9wdGlvbiBcIlxuICAgICsgYWxpYXMxKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxTZWxlY3RlZC50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCgoc3RhY2sxID0gKGRlcHRoc1sxXSAhPSBudWxsID8gZGVwdGhzWzFdLnBhZ2luYXRpb25EYXRhIDogZGVwdGhzWzFdKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZSA6IHN0YWNrMSksZGVwdGgwLHtcIm5hbWVcIjpcIlNlbGVjdGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XCJcbiAgICArIGFsaWFzMShjb250YWluZXIubGFtYmRhKGRlcHRoMCwgZGVwdGgwKSlcbiAgICArIFwiPC9vcHRpb24+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjxkaXYgcm9sZT1cXFwibmF2aWdhdGlvblxcXCIgY2xhc3M9XFxcImd1aSBmbGV4IGpjLXNiIGd1aS1zdWJoZWFkaW5nLTEgdGV4dC1sZWZ0IG0tMFxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIGZpcnN0TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLXByZXZpb3VzXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBwcmV2TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXERpc2FibGVkLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJldlBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0aXRsZT1cXFwiR28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXG1hdGgudHNcIikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiLVwiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+XFxyXFxuICAgICAgICAgICAgUHJldlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgcGFnZXItaW5wdXQtY29udGFpbmVyIG1lZGl1bSBoLTMwIGlucHV0IGZsZXggamMtc2IgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXItNVxcXCI+IFBhZ2UgPC9kaXY+XFxyXFxuICAgICAgICA8aW5wdXQgIGNsYXNzPVxcXCJndWkgcGFnZXItaW5wdXQgaC0zMCB3LTUwIG0tci01XFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gUGFnZSBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdGl0bGU9XFxcIkdvIHRvIFBhZ2UgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgdHlwZT1cXFwidGV4dFxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJQYWdlIE51bWJlciAuLi5cXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibm8tb2YtcGFnZXMtc2NhblxcXCIgXFxyXFxuICAgICAgICAgICAgIGRhdGEtbnVtYmVyLW9mLXBhZ2VzPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PZlBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT2ZQYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS1yLTEwXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBuZXh0TGlua1xcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5uZXh0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXERpc2FibGVkLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmV4dFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJHbyB0byB0aGUgbmV4dCBwYWdlXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxtYXRoLnRzXCIpKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIitcIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgPlxcclxcbiAgICAgICAgICAgIE5leHRcXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbGFzdExpbmtcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczMsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxhc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIFxcclxcbiAgICAgICAgICAgICAgICB0aXRsZT1cXFwiR28gdG8gdGhlIGxhc3QgcGFnZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT0ZwYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLW5leHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJndWkgZ3VpLXN1YmhlYWRpbmctMSBmbGV4IGpjLXNiIHRleHQtcmlnaHQgbS0wXFxcIj5cXHJcXG4gICAgPGxhYmVsICBmb3I9XFxcInBhZ2Utc2l6ZS1zZWxlY3RvclxcXCIgXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcImd1aSBtLXItMTBcXFwiPlxcclxcbiAgICAgICAgICAgIFJvd3MgUGVyIFBhZ2VcXHJcXG4gICAgPC9sYWJlbD5cXHJcXG4gICAgPHNlbGVjdCBpZD1cXFwicGFnZS1zaXplLXNlbGVjdG9yXFxcIiBcXHJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIHBhZ2VTaXplU2VsZWN0b3IgbS1yLTEwIGgtMzBcXFwiPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemVzIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L3NlbGVjdD5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tci0xMFxcXCI+XFxyXFxuICAgICAgICBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5yYW5nZSA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEubWluIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiIC0gXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1heCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiBvZiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudG90YWxDb3VudCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiBpdGVtc1xcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZSxcInVzZURlcHRoc1wiOnRydWV9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgbWF0aCA9IChsdmFsdWU6IG51bWJlciwgb3BlcmF0b3I6IHN0cmluZywgcnZhbHVlOiBudW1iZXIsIG9wdGlvbnMpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBcIitcIjogbHZhbHVlICsgcnZhbHVlLFxyXG4gICAgICAgIFwiLVwiOiBsdmFsdWUgLSBydmFsdWUsXHJcbiAgICAgICAgXCIqXCI6IGx2YWx1ZSAqIHJ2YWx1ZSxcclxuICAgICAgICBcIi9cIjogbHZhbHVlIC8gcnZhbHVlLFxyXG4gICAgICAgIFwiJVwiOiBsdmFsdWUgJSBydmFsdWUsXHJcbiAgICB9W29wZXJhdG9yXTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1hdGg7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1jb250YWluZXIubGFtYmRhO1xuXG4gIHJldHVybiBcIjx0ciBhcmlhLXJvd2luZGV4PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxBZGQudHNcIikpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dJbmRleCA6IGRlcHRoMCksMSx7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIm1haW5Sb3cgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFRlY2huaWNhbFxcXFxSZXBvXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQm9vbEF0dHJpYnV0ZS50c1wiKSkuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzQWxsU2VsZWN0ZWQgOiBkZXB0aDApLFwiYWN0aXZlXCIse1wibmFtZVwiOlwiQm9vbEF0dHJpYnV0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiBkYXRhLXBrLWF0dHI9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHJvbGU9XFxcInJvd1xcXCIgPlxcclxcbiAgICA8dGQgY2xhc3M9XFxcImV4cGFuc2lvbkFycm93c1xcXCIgXFxyXFxuICAgICAgICBjbGFzcz1cXFwiZ3VpIGZsZXggamMtc2JcXFwiXFxyXFxuICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCIxXFxcIlxcclxcbiAgICAgICAgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiPlxcclxcbiAgICAgICAgPGkgYXJpYS1sYWJlbD1cXFwiUHJlc3MgZW50ZXIgdG8gZXhwYW5kIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICB0aXRsZT1cXFwiRXhwYW5kIHRoZSBkZXRhaWxzIFJvd1xcXCIgXFxyXFxuICAgICAgICAgICBhcmlhLWNvbnRyb2xzPVxcXCJkZXRhaWxzLXJvdy1cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGF0YSAmJiBkYXRhLmluZGV4KSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcXHJcXG4gICAgICAgICAgIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1kb3duIGV4cGFuZERldGFpbHNSb3dJY29uIGN1cnNvci1wb2ludGVyXFxcIiBcXHJcXG4gICAgICAgICAgIHRhYmluZGV4PVxcXCIwXFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCI+PC9pPlxcclxcbiAgICAgICAgPGkgYXJpYS1sYWJlbD1cXFwiUHJlc3MgZW50ZXIgdG8gY29sbGFwc2UgdGhlIGRldGFpbHMgUm93XFxcIiBcXHJcXG4gICAgICAgICAgIHRpdGxlPVxcXCJDb2xsYXBzZSB0aGUgZGV0YWlscyBSb3dcXFwiIFxcclxcbiAgICAgICAgICAgYXJpYS1jb250cm9scz1cXFwiZGV0YWlscy1yb3ctXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRhdGEgJiYgZGF0YS5pbmRleCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tdXAgQ29sbGFwc2VEZXRhaWxzUm93SWNvbiBjdXJzb3ItcG9pbnRlciBndWktaGlkZGVuXFxcIiBcXHJcXG4gICAgICAgICAgIHRhYmluZGV4PVxcXCIwXFxcIiBcXHJcXG4gICAgICAgICAgIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XFxyXFxuICAgIDwvdGQ+XFxyXFxuICAgIDx0ZCByb2xlPVxcXCJncmlkY2VsbFxcXCJcXHJcXG4gICAgICAgIGFyaWEtY29saW5kZXg9XFxcIjJcXFwiID5cXHJcXG4gICAgICAgIDxpbnB1dCBhcmlhLWxhYmVsPVxcXCJDaGVja2JveCB0byBzZWxlY3QgdGhlIHJvdyB3aXRoIElkIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcclxcbiAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXEJvb2xBdHRyaWJ1dGUudHNcIikpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pc0FsbFNlbGVjdGVkIDogZGVwdGgwKSxcImNoZWNrZWRcIix7XCJuYW1lXCI6XCJCb29sQXR0cmlidXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtleUNvbHVtbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcInNlbGVjdC1rZXktY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPlxcclxcbiAgICA8L3RkPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFpblJvd0NvbEFycmF5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdHI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwocmVxdWlyZShcIkM6XFxcXFRlY2huaWNhbFxcXFxSZXBvXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGdyaWQtZGV0YWlscy1yb3cuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWRldGFpbHMtcm93XCIsXCJkYXRhXCI6ZGF0YSxcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgIDx0ZCB0aXRsZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFjdHVhbFZhbHVlIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIGFyaWEtY29saW5kZXg9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXEFkZC50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkYXRhICYmIGRhdGEuaW5kZXgpLDMse1wibmFtZVwiOlwiQWRkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcImJvZHktXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSwgZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93QXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLW1haW4tcm93Lmhic1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBib29sQXR0cmlidXRlID0gKGJvb2w6IGJvb2xlYW4sIHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBib29sID8gc3RyIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGJvb2xBdHRyaWJ1dGU7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvQm9vbEF0dHJpYnV0ZS50cyIsImltcG9ydCAqIGFzIGpRdWVyeSBmcm9tIFwianF1ZXJ5XCI7XHJcbmltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBDb2xTZXR0aW5nc0hhbmRsZXIgfSBmcm9tIFwiLi4vZXZlbnRIYW5kbGVycy9Db2xTZXR0aW5nc0hhbmRsZXJcIjtcclxuaW1wb3J0IHsgU2VsZWN0RXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IElHcmlkT3JkZXIgfSBmcm9tIFwiLi4vbW9kZWxzL0lHcmlkT3JkZXJcIjtcclxuaW1wb3J0IHsgSVBhZ2luYXRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0lQYWdpbmF0aW9uXCI7XHJcbmltcG9ydCB7IElQYWdpbmF0aW9uSW5wdXQgfSBmcm9tIFwiLi4vbW9kZWxzL0lQYWdpbmF0aW9uSW5wdXRcIjtcclxuaW1wb3J0IHsgUGFnZXIgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi9QYWdlclwiO1xyXG5pbXBvcnQgeyBEZXRhaWxzUm93SGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXJcIjtcclxuaW1wb3J0IHsgRmlsdGVyQ2xpY2tIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXJcIjtcclxuaW1wb3J0IHsgSGFuZGxlck5hbWVzIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXNcIjtcclxuaW1wb3J0IHsgSGVhZGVyQ2xpY2tIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXJcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSUV2ZW50SGFuZGxlclwiO1xyXG5pbXBvcnQgeyBJSGFuZGxlckNoYWluIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9JSGFuZGxlckNoYWluXCI7XHJcbmltcG9ydCB7IFBhZ2VTZWFyY2hIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9QYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXCI7XHJcbmltcG9ydCB7IFNjcm9sbEhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgVG9nZ2xlQ29sdW1uSGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvVG9nZ2xlQ29sdW1uSGFuZGxlclwiO1xyXG5pbXBvcnQgeyBGaWx0ZXJBY3Rpb25UeXBlIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0ZpbHRlckFjdGlvblR5cGVcIjtcclxuaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lDb2x1bW5cIjtcclxuaW1wb3J0IHsgR3JpZFRlbXBsYXRlU2VydmljZSB9IGZyb20gXCIuLy4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gXCIuLy4uL3V0aWwvQ29sdW1uVXRpbFwiO1xyXG5pbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi9JR3JpZE9wdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkPFQ+IHtcclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUNoYWluOiBBcnJheTxJSGFuZGxlckNoYWluPFQ+PjtcclxuICAgIHByaXZhdGUgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPjtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG4gICAgcHJpdmF0ZSB0b2dnbGVIYW5kbGVyOiBUb2dnbGVDb2x1bW5IYW5kbGVyPFQ+O1xyXG4gICAgcHJpdmF0ZSBzY3JvbGxIYW5kbGVyOiBTY3JvbGxIYW5kbGVyPFQ+O1xyXG4gICAgcHJpdmF0ZSBtYW5hZ2VDb2xIYW5kbGVyOiBDb2xTZXR0aW5nc0hhbmRsZXI8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZTxUPihvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgR3JpZFRlbXBsYXRlU2VydmljZSh0aGlzLmNvbmZpZ1N0b3JlKTtcclxuICAgICAgICB0aGlzLkluaXRIYW5kbGVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRGF0YSA9IChkYXRhOiBUW10sIHBhZ2luYXRpb25JbnB1dD86IElQYWdpbmF0aW9uSW5wdXQpOiB2b2lkID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgUGFnZXIuQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEocGFnaW5hdGlvbklucHV0KTtcclxuICAgICAgICAgICAgY29uc3QgcGFnZURhdGEgPSBQYWdlci5wYWdpbmF0aW9uRGF0YTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlbmRlcihkYXRhLCBwYWdlRGF0YSk7XHJcbiAgICAgICAgfSwgMSApO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlUmVuZGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYWdlRGF0YSA9IFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgICAgICB0aGlzLmludGVybmFsUmVuZGVyKHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhLCBwYWdlRGF0YSk7XHJcbiAgICAgICAgfSwgMSApO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldENvbENvbmZpZyA9IChjb2xDb25maWc6IElDb2x1bW5bXSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zID0gY29sQ29uZmlnO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogVXBkYXRlIFJvdyBJbmRleFxyXG4gICAgcHVibGljIHVwZGF0ZVJvd3MgPSAocm93czogVFtdKSA9PiB7XHJcbiAgICAgICAgaWYgKCByb3dzID09PSB1bmRlZmluZWQgfHwgIXJvd3MubGVuZ3RoICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS51cGRhdGVSb3dzKHJvd3MpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xyXG4gICAgICAgICAgICBjb25zdCByb3dIdG1sID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmdldFRlbXBsYXRlRm9yT25lUm93KHJvdyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvd0pxID0gJChyb3dIdG1sKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoXCIubWFpblJvd1wiKS5lYWNoKChpOiBudW1iZXIsIG1SOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtckpxID0gJChtUik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwa0lkID0gbXJKcS5hdHRyKFwiZGF0YS1way1hdHRyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCBwa0lkID09PSByb3dba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ySnEuaHRtbChyb3dKcVswXS5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1ySnEubmV4dCgpLmh0bWwocm93SnFbMl0uaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHB1YmxpYyBiaW5kTWFuYWdlQ29sdW1zID0gKG1hbmFnZUNvbENvbnRhaW5lcj86IEhUTUxFbGVtZW50LCBmb3JjZT86IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIC8vICAgICBpZiAodGhpcy5tYW5hZ2VDb2xIYW5kbGVyICE9PSB1bmRlZmluZWQgJiYgIWZvcmNlICkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0TWFuYWdlQ29sdW1uc0h0bWwoKTtcclxuICAgIC8vICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KG1hbmFnZUNvbENvbnRhaW5lclxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgLy8gICAgIHRoaXMudG9nZ2xlSGFuZGxlciA9IG5ldyBUb2dnbGVDb2x1bW5IYW5kbGVyKHRoaXMuY29uZmlnU3RvcmUsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KSk7XHJcbiAgICAvLyAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyID0gZWxlbWVudFswXTtcclxuICAgIC8vICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIgPSBuZXcgQ29sU2V0dGluZ3NIYW5kbGVyPFQ+KGpRdWVyeShlbGVtZW50KSwgdGhpcy5jb25maWdTdG9yZSwgdGhpcy50b2dnbGVIYW5kbGVyKTtcclxuICAgIC8vICAgICBlbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKS5odG1sKGh0bWwpO1xyXG4gICAgLy8gICAgIHRoaXMubWFuYWdlQ29sSGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcclxuICAgIC8vICAgICBqUXVlcnkod2luZG93KS5yZXNpemUodGhpcy5kb2N1bWVudFJlc2l6ZUhhbmRsZXJGb3JDcyk7XHJcbiAgICAvLyAgICAgalF1ZXJ5KGRvY3VtZW50KS5jbGljayh0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyRm9yQ3MpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIGFwcGx5Q29sdW1uQ29uZmlnID0gKGNvbHVtbnM6IElDb2x1bW5bXSkgPT4ge1xyXG4gICAgLy8gICAgIHRoaXMudG9nZ2xlSGFuZGxlci5hcHBseUNvbHVtbkNvbmZpZyhjb2x1bW5zKTtcclxuICAgIC8vICAgICBjb25zdCBodG1sID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldE1hbmFnZUNvbHVtbnNIdG1sKCk7XHJcbiAgICAvLyAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgLy8gICAgIGVsZW1lbnQuZmluZChcIi5jb2wtc2V0dGluZ3MtY29udGFpbmVyXCIpLmh0bWwoaHRtbCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHNldE9yZGVyID0gKG9yZGVyQnlMaXN0OiBJR3JpZE9yZGVyW10pID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucykge1xyXG4gICAgICAgICAgICBjb2wub3JkZXJCeSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9yZGVyQnlMaXN0ID09PSB1bmRlZmluZWQgfHwgb3JkZXJCeUxpc3QgPT09IG51bGwgfHwgb3JkZXJCeUxpc3QubGVuZ3RoID09PSAwICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgb3JkZXJDb2wgb2Ygb3JkZXJCeUxpc3QpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcmRlckNvbC5jb2xJZCA9PT0gY29sLmlkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbC5vcmRlckJ5ID0gb3JkZXJDb2wub3JkZXJCeTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICBpZiAoIHBhcmVudEVsZW1lbnQgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5vZmYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3QgbWFuYWdlQ29udGFpbmVyRWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xyXG4gICAgICAgIC8vIGlmICggbWFuYWdlQ29udGFpbmVyRWxlbWVudCAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgIC8vICAgICBtYW5hZ2VDb250YWluZXJFbGVtZW50Lm9mZigpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAkKHdpbmRvdykub2ZmKFwicmVzaXplXCIsIHRoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAkKHdpbmRvdykub2ZmKFwicmVzaXplXCIsIHRoaXMuZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yQ3MpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXJGb3JDcyk7XHJcbiAgICAgICAgaWYgKCB0aGlzLnNjcm9sbEhhbmRsZXIgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLnVuV2F0Y2hXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgaW50ZXJuYWxSZW5kZXIgPSAoZGF0YTogVFtdLCBwYWdpbmF0aW9uSW5wdXQ/OiBJUGFnaW5hdGlvbklucHV0KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemUgKyB0aGlzLmdldEluaXRpYWxSb3dDb3VudCgpO1xyXG4gICAgICAgIGxhc3RJbmRleCA9IGxhc3RJbmRleCA+PSBkYXRhLmxlbmd0aCA/IGRhdGEubGVuZ3RoIC0gMSA6IGxhc3RJbmRleDtcclxuICAgICAgICBjb25zdCBncmlkQ29udGVudDogc3RyaW5nID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldEZpcnN0VGVtcGxhdGUoZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50LmlubmVySFRNTCA9IGdyaWRDb250ZW50O1xyXG4gICAgICAgIGlmICggdGhpcy5zY3JvbGxIYW5kbGVyICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zY3JvbGxIYW5kbGVyICE9PSBudWxsICkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIucmVtb3ZlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIucmVzZXRQYXJlbnRPZmZzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyLnNldEN1cnJlbnRJbmRleChsYXN0SW5kZXggKyAxICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLCBsYXN0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zY3JvbGxIYW5kbGVyLndhdGNoV2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0Rm9jdXNUb0xhc3RFbGVtZW50KCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldEluaXRpYWxSb3dDb3VudCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKChqUXVlcnkod2luZG93KS5pbm5lckhlaWdodCgpICogMC42NSApIC8gMzIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgSW5pdEhhbmRsZXJzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4gPSBbXTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgRGV0YWlsc1Jvd0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lcy5EZXRhaWxzUm93LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICBuZXcgRmlsdGVyQ2xpY2tIYW5kbGVyPFQ+KHRoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuRmlsdGVyQWN0aW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBIZWFkZXJDbGlja0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lcy5IZWFkZXJDbGljayxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgUGFnZVNlYXJjaEhhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lcy5QYWdlU2VhcmNoLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgaGFuZGxlcjogbmV3IFNlbGVjdEV2ZW50SGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50LCB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UpLFxyXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuQ29sU2V0dGluZ3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZSh0aGlzLmRvY3VtZW50UmVzaXplSGFuZGxlcik7XHJcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5jbGljayh0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50UmVzaXplSGFuZGxlckZvckNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2tIYW5kbGVyRm9yQ3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLm1hbmFnZUNvbEhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZG9jdW1lbnRSZXNpemVIYW5kbGVyRm9yU2Nyb2xsID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VDb2xIYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2tIYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLm9uRG9jdW1lbnRDbGljayhldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGRvY3VtZW50UmVzaXplSGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaCgodmFsdWU6IElIYW5kbGVyQ2hhaW48VD4pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzZXRGb2N1c1RvTGFzdEVsZW1lbnQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY29uZmlnU3RvcmUuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO1xyXG4gICAgICAgIGlmICggZWxlbWVudCApIHtcclxuICAgICAgICAgICAgaWYgKCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImZpcnN0TGlua1wiKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLmZpcnN0TGlua1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJuZXh0TGlua1wiKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLm5leHRMaW5rXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInByZXZMaW5rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAucHJldkxpbmtcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGFzdExpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgICQoXCIudGFibGUtZm9vdGVyIC5sYXN0TGlua1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwYWdlU2l6ZVNlbGVjdG9yXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnRhYmxlLWZvb3RlciAucGFnZVNpemVTZWxlY3RvclwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwYWdlci1pbnB1dFwiKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIi50YWJsZS1mb290ZXIgLnBhZ2VyLWlucHV0XCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0aFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSGVhZGVySWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZvY3VzYWJsZTtcclxuICAgICAgICAgICAgICAgICQoXCIudGFibGUtaGVhZGVyIHRoXCIpLmVhY2goKGluZGV4OiBudW1iZXIsIGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWFjaEhlYWRlciA9ICQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWFjaEhlYWRlcklkID0gZWFjaEhlYWRlci5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBlYWNoSGVhZGVySWQgPT09IGRhdGFIZWFkZXJJZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Rm9jdXNhYmxlID0gZWFjaEhlYWRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCBuZXdGb2N1c2FibGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Rm9jdXNhYmxlLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KHVuZGVmaW5lZCk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL21haW4vR3JpZC50cyIsImltcG9ydCB7IElHcmlkT3B0aW9ucyB9IGZyb20gXCIuLi9tYWluL0lHcmlkT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBGaWx0ZXJBY3Rpb25UeXBlIH0gZnJvbSBcIi4uL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlXCI7XHJcbmltcG9ydCB7IEdyaWRPcmRlckRpcmVjdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi4vbW9kZWxzL0lDb2x1bW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdTdG9yZTxUPiB7XHJcbiAgICBwdWJsaWMgb3B0aW9uczogSUdyaWRPcHRpb25zPFQ+O1xyXG4gICAgcHJpdmF0ZSBmb2N1c2FibGVFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGVmYXVsdEdyaWRPcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4gPSB7XHJcbiAgICAgICAgYW5pbWF0aW9uVGltZTogMjAwLFxyXG4gICAgICAgIGNodW5rU2l6ZTogNSxcclxuICAgICAgICBjb2x1bW5zOiBbXSxcclxuICAgICAgICBjb250YWluZXJFbGVtZW50OiBudWxsLFxyXG4gICAgICAgIC8vIG1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyOiBudWxsLFxyXG4gICAgICAgIGh5YnJpZEZ1bmN0aW9uOiAoY29sdW1uOiBJQ29sdW1uLCByb3c6IFQpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBrZXlDb2x1bW46IFwiXCIsXHJcbiAgICAgICAgLy8gb25Db2xTZXR0aW5nc0NoYW5nZTogKGNvbENvbmZpZzogSUNvbHVtbltdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gICAgIC8vIE5vIENvZGVcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIG9uQ2xpY2tGaWx0ZXI6IChjb2x1bW46IHN0cmluZywgdmFsdWU6IGFueSwgYWN0aW9uVHlwZTogRmlsdGVyQWN0aW9uVHlwZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNsaWNrSGVhZGVyOiAoY29sdW1uOiBzdHJpbmcsIGRpcmVjdGlvbjogR3JpZE9yZGVyRGlyZWN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uUGFnZVNlYXJjaDogKHBhZ2VTaXplOiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uU2VsZWN0OiAocm93czogVFtdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIE5vIENvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcclxuICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgIHN1bW1hcnk6IFwiXCIsXHJcbiAgICB9O1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lckVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIFByb3ZpZGUgYSB2YWxpZCBjb250YWluZXIgRWxlbWVudCBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb2x1bW5zLnNvcnQoKHByZXYsIG5leHQpID0+IHByZXYub3JkZXIgLSBuZXh0Lm9yZGVyKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgT3B0aW9ucyhvcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4pIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBPcHRpb25zKCk6IElHcmlkT3B0aW9uczxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRGb2N1c2FibGVFbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2FibGVFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRGb2N1c2FibGVFbGVtZW50ID0gKCk6IEhUTUxFbGVtZW50ID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mb2N1c2FibGVFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIFNldEhpZGRlbk9uQ29uZmlnID0gKGJvb2w6IGJvb2xlYW4sIGNvbHVtbklkPzogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5PcHRpb25zLmNvbHVtbnMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbHVtbklkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2wuaGlkZGVuID0gYm9vbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgZXh0ZW5kT3B0aW9ucyA9IChpbnB1dE9wdGlvbnM6IElHcmlkT3B0aW9uczxUPik6IElHcmlkT3B0aW9uczxUPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucyA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuZGVmYXVsdEdyaWRPcHRpb25zLCBpbnB1dE9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IEdyaWRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdEV2ZW50SGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSwgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPikge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IGdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi5zZWxlY3Qta2V5LWNoZWNrYm94XCIgLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnQudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5zZWxlY3RSb3dzKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50cyhcIi5tYWluUm93XCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmRlU2VsZWN0Um93cyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5TZWxlY3RlZCwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi5zZWxlY3QtYWxsLWNoZWNrYm94XCIgLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5zZWxlY3Qta2V5LWNoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlIC5tYWluUm93XCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmRlU2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5tYWluVGFibGUgLm1haW5Sb3dcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5TZWxlY3RlZCwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfVxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8gSWdub3JlXHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1NlbGVjdEV2ZW50SGFuZGxlci50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5leHBvcnQgY2xhc3MgRGV0YWlsc1Jvd0hhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmV4cGFuc2lvbkFycm93cyBpXCIsIHRoaXMuZXhwYW5kUm93KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJrZXl1cFwiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCB0aGlzLmV4cGFuZFJvdyk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGV4cGFuZFJvdyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG4gICAgICAgIGlmICggZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICYmIChldmVudC50eXBlID09PSBcImtleXVwXCIgJiYgY29kZSAhPT0gMTMgJiYgY29kZSAhPT0gMzIpICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFycm93ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgZGV0YWlsc1JvdyA9IGFycm93LmNsb3Nlc3QoXCJ0clwiKS5uZXh0KCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEljb24gPSBhcnJvdy5oaWRlKCkuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICBjb25zdCBvdGhlckljb24gPSBhcnJvdy5zaWJsaW5ncyhcImlcIikuc2hvdygpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgIGlmIChhcnJvdy5oYXNDbGFzcyhcImV4cGFuZERldGFpbHNSb3dJY29uXCIpKSB7XHJcbiAgICAgICAgICAgIG90aGVySWNvbi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIGRldGFpbHNSb3cuc2xpZGVEb3duKHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5hbmltYXRpb25UaW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50SWNvbi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIGRldGFpbHNSb3cuc2xpZGVVcCh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVySWNvbi5mb2N1cygpO1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlci50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi4vbWFpbi9JR3JpZE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL0NvbHVtblV0aWxcIjtcclxuaW1wb3J0IHsgRmlsdGVyQWN0aW9uVHlwZSB9IGZyb20gXCIuLy4uL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlXCI7XHJcbmltcG9ydCB7IElGaWx0ZXJDbGlja0RlbGVnYXRlIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lGaWx0ZXJDbGlja0RlbGVnYXRlXCI7XHJcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsdGVyQ2xpY2tIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Eb2N1bWVudENsaWNrKGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH1cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtYm9keSAuZGV0YWlsc1JvdyAuZGV0YWlsc1RhYmxlIHRkIGlcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50VGQgPSBlbGVtZW50LnBhcmVudHMoXCJ0ZFwiKTtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLWtleVwiKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXItdmFsdWVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXItdHlwZVwiKTtcclxuICAgICAgICAgICAgY29uc3QgY29sID0gQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3Qoa2V5LCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgIGlmIChjb2wgPT09IHVuZGVmaW5lZCB8fCBjb2wgPT09IG51bGwgfHwgIWNvbC5maWx0ZXJhYmxlICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBmaWx0ZXJBY3Rpb246IEZpbHRlckFjdGlvblR5cGUgPSBGaWx0ZXJBY3Rpb25UeXBlLkFkZDtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoXCJyZW1vdmVGaWx0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlckFjdGlvbiA9IEZpbHRlckFjdGlvblR5cGUuTWludXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNsaWNrRmlsdGVyKGtleSwgdmFsdWUsIGZpbHRlckFjdGlvbiwgdHlwZSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIudHMiLCJleHBvcnQgZW51bSBGaWx0ZXJBY3Rpb25UeXBlIHtcclxuICAgIEFkZCA9IFwiQWRkXCIsXHJcbiAgICBNaW51cyA9IFwiTWludXNcIixcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlLnRzIiwiZXhwb3J0IGVudW0gSGFuZGxlck5hbWVzIHtcclxuICAgIEZpbHRlckFjdGlvbixcclxuICAgIEhlYWRlckNsaWNrLFxyXG4gICAgU2Nyb2xsLFxyXG4gICAgUGFnZVNlYXJjaCxcclxuICAgIERldGFpbHNSb3csXHJcbiAgICBUb2dnbGVDb2x1bW4sXHJcbiAgICBDb2xTZXR0aW5ncyxcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElHcmlkT3B0aW9ucyB9IGZyb20gXCIuLi9tYWluL0lHcmlkT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvQ29sdW1uVXRpbFwiO1xyXG5pbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi8uLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7SUhlYWRlckNsaWNrRGVsZWdhdGV9IGZyb20gXCIuLy4uL21vZGVscy9JSGVhZGVyQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlYWRlckNsaWNrSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgd2FzSGVhZGVyQ2xpY2tlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgbGFzdEZvY3VzZWRFbGVtZW50OiBhbnk7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIHRoaXMuaGFuZGxlSGVhZGVyU29ydCk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5dXBcIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIHRoaXMuaGFuZGxlSGVhZGVyU29ydCk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwibW91c2Vkb3duXCIgLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImZvY3VzaW5cIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIHRoaXMuaGFuZGxlSGVhZGVyRm9jdXMpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24gPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMud2FzSGVhZGVyQ2xpY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGhhbmRsZUhlYWRlckZvY3VzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gSGFuZGxlIGZvY3VzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEZvY3VzZWRFbGVtZW50ICE9PSBldmVudC50YXJnZXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud2FzSGVhZGVyQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZvY3VzZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLndhc0hlYWRlckNsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXZlbnQuZGF0YS5jbGlja2VkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGxlZnRQb3N0aXRpb24gPSBoZWFkZXIucG9zaXRpb24oKS5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcldpZHRoID0gaGVhZGVyLndpZHRoKCk7XHJcbiAgICAgICAgY29uc3QgdGFibGVCb2R5ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICBjb25zdCBtYWluVGFibGVCb2R5ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIubWFpblRhYmxlXCIpO1xyXG4gICAgICAgIGNvbnN0IHZpc2libGVUYm9keVdpZHRoID0gdGFibGVCb2R5LndpZHRoKCk7XHJcbiAgICAgICAgY29uc3QgbWF4U2Nyb2xsID0gbWFpblRhYmxlQm9keS53aWR0aCgpIC0gdmlzaWJsZVRib2R5V2lkdGg7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gbGVmdFBvc3RpdGlvbiArIGhlYWRlcldpZHRoICogMjtcclxuICAgICAgICBsZXQgc2Nyb2xsTGVmdEJ5O1xyXG4gICAgICAgIGlmICggY3VycmVudFBvc2l0aW9uID4gdmlzaWJsZVRib2R5V2lkdGgpIHtcclxuICAgICAgICAgICAgc2Nyb2xsTGVmdEJ5ID0gbGVmdFBvc3RpdGlvbiA+IG1heFNjcm9sbCA/IG1heFNjcm9sbCA6IGxlZnRQb3N0aXRpb247XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2Nyb2xsTGVmdEJ5ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFibGVCb2R5LnNjcm9sbExlZnQoc2Nyb2xsTGVmdEJ5KTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgaGFuZGxlSGVhZGVyU29ydCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoO1xyXG4gICAgICAgIGlmICggZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICYmIChldmVudC50eXBlID09PSBcImtleXVwXCIgJiYgY29kZSAhPT0gMTMgJiYgY29kZSAhPT0gMzIpICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwidGhcIik7XHJcbiAgICAgICAgY29uc3QgaGVhZGVySWQgPSBlbGVtZW50LmF0dHIoXCJkYXRhLWhlYWRlci1pZFwiKTtcclxuICAgICAgICBjb25zdCBjb2wgPSBDb21tb25VdGlsLkdldENvbHVtbk9iamVjdChoZWFkZXJJZCwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgIGlmIChjb2wgPT09IHVuZGVmaW5lZCB8fCBjb2wgPT09IG51bGwgfHwgIWNvbC5zb3J0YWJsZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcnJvd0ljb25zID0gZWxlbWVudC5maW5kKFwiaVwiKTtcclxuICAgICAgICBjb25zdCB1cEFycm93SWNvbiA9IGFycm93SWNvbnMuZmlyc3QoKTtcclxuICAgICAgICBjb25zdCBkb3duQXJyb3dJY29uID0gYXJyb3dJY29ucy5sYXN0KCk7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbjogR3JpZE9yZGVyRGlyZWN0aW9uO1xyXG4gICAgICAgIGlmIChhcnJvd0ljb25zLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgaWYgKHVwQXJyb3dJY29uLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEdyaWRPcmRlckRpcmVjdGlvbi5EZXNjO1xyXG4gICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb24uQXNjO1xyXG4gICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb24uQXNjO1xyXG4gICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuYXR0cihcImFyaWEtc29ydFwiLCBkaXJlY3Rpb24gPT09IEdyaWRPcmRlckRpcmVjdGlvbi5EZXNjID8gXCJkZXNjZW5kaW5nXCIgOiBcImFzY2VuZGluZ1wiKTtcclxuICAgICAgICBDb21tb25VdGlsLlNldE9yZGVyKGhlYWRlcklkLCBkaXJlY3Rpb24sIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0hlYWRlcihjb2wub3JkZXJCeUNvbCB8fCBoZWFkZXJJZCwgZGlyZWN0aW9uKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyLnRzIiwiaW1wb3J0ICogYXMgalF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcclxuaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IFBhZ2VyIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24vUGFnZXJcIjtcclxuaW1wb3J0IHsgSVBhZ2VTZWFyY2hDbGlja0RlbGVnYXRlIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lQYWdlU2VhcmNoQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLy4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VTZWFyY2hIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljaygpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5maXJzdExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCAxKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5uZXh0TGlua1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRGb2N1c2FibGVFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLnByZXZMaW5rXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubGFzdExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIudGFibGUtZm9vdGVyIC5wYWdlU2l6ZVNlbGVjdG9yXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldEZvY3VzYWJsZUVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSAralF1ZXJ5KGV2ZW50LnRhcmdldCkudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaCh2YWwsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXByZXNzXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZXItaW5wdXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0Rm9jdXNhYmxlRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCBpcCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWdlRGF0YSA9IFBhZ2VyLlBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gK2lwLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsKSB8fCB2YWwgPiBwYWdlRGF0YS5ub09mUGFnZXMgfHwgdmFsIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlwLnZhbChwYWdlRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKHBhZ2VEYXRhLnBhZ2VTaXplLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9QYWdlU2VhcmNoQ2xpY2tIYW5kbGVyLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IEdyaWRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi8uLi9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElJbmRleENvdW50ZXIgfSBmcm9tIFwiLi8uLi92aXJ0dWFsaXphdGlvbi9JbmRleENvdW50ZXJcIjtcclxuaW1wb3J0IHsgU2Nyb2xsRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vdmlydHVhbGl6YXRpb24vU2Nyb2xsRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IFZpcnR1YWxpemVyIH0gZnJvbSBcIi4vLi4vdmlydHVhbGl6YXRpb24vVmlydHVhbGl6ZXJcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JvbGxIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHZpcnR1YWxpemVyOiBWaXJ0dWFsaXplcjtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBncmlkVGVtcGxhdGVTZXJ2aWNlOiBHcmlkVGVtcGxhdGVTZXJ2aWNlPFQ+O1xyXG4gICAgcHJpdmF0ZSByZW5kZXJpbmc6IGJvb2xlYW4gPSAgZmFsc2U7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgbGVmdE9mZnNldDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRPZmZTZXRMZWZ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRJbmRleDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB3YXRjaGVzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPiwgY3VycmVudEluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBncmlkVGVtcGxhdGVTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEluZGV4KGN1cnJlbnRJbmRleCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgLy9cclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRDdXJyZW50SW5kZXggPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldEN1cnJlbnRJbmRleCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5kZXg7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25Eb2N1bWVudENsaWNrKGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gTm8gT3BcclxuICAgIH1cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5vbihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVtb3ZlSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpLm9mZihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVzZXRQYXJlbnRPZmZzZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRPZmZTZXRMZWZ0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgd2F0Y2hXaWR0aCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudE9mZlNldExlZnQgPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB0aGlzLndhdGNoZXMucHVzaChzZXRJbnRlcnZhbCh0aGlzLnNldEhlYWRlck9mZnNldCwgMzAwKSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdW5XYXRjaFdpZHRoID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLndhdGNoZXMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLndhdGNoZXMgPT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCB3YXRjaCBvZiB0aGlzLndhdGNoZXMpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3YXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBoYW5kbGVSZXNpemUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0Qm9keU9iaiA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgaWYgKHRoaXMubGVmdE9mZnNldCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRPZmZzZXQgPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLmNzcyhcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJtYXJnaW4tbGVmdFwiOiAtMSAqIHRCb2R5T2JqLnNjcm9sbExlZnQoKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbFRhYmxlSGVpZ2h0ID0gdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVcIikuaGVpZ2h0KCk7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gdEJvZHlPYmouaGVpZ2h0KCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmcpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdEJvZHlPYmouc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgaWYgKChzY3JvbGxDb250YWluZXJIZWlnaHQgKyBzY3JvbGxUb3AgKSAtIChhY3R1YWxUYWJsZUhlaWdodCAqIDAuOCApID4gMCApIHtcclxuICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleCArIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemU7XHJcbiAgICAgICAgICAgIGlmICggbGFzdEluZGV4ID49IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhTGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgID0galF1ZXJ5KHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5nZXRUZW1wbGF0ZSh0aGlzLmN1cnJlbnRJbmRleCwgbGFzdEluZGV4KSk7XHJcbiAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlQm9keVwiKS5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudEluZGV4KCBsYXN0SW5kZXggKyAxICk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SGVhZGVyT2Zmc2V0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICBpZiAoIHRoaXMucGFyZW50T2ZmU2V0TGVmdCAhPT0gbGVmdCApIHtcclxuICAgICAgICAgICAgY29uc3QgdEJvZHlPYmogPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0T2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgdGhpcy5sZWZ0T2Zmc2V0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRPZmZzZXQgPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxlZnRPZmZzZXQgPSB0aGlzLmxlZnRPZmZzZXQgLSAodGhpcy5wYXJlbnRPZmZTZXRMZWZ0IC0gbGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgLmZpbmQoXCIudGFibGUtaGVhZGVyXCIpXHJcbiAgICAgICAgICAgICAgICAub2Zmc2V0KHtsZWZ0OiB0aGlzLmxlZnRPZmZzZXQsIHRvcDogMH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudE9mZlNldExlZnQgPSBsZWZ0O1xyXG4gICAgICAgICAgICB0Qm9keU9iai5zY3JvbGxMZWZ0KHRCb2R5T2JqLnNjcm9sbExlZnQoKSAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyIsImltcG9ydCAqIGFzIEhhbmRsZWJhcnMgZnJvbSBcImhhbmRsZWJhcnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZERldGFpbHNSb3dUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzXCI7XHJcbmltcG9ydCAqIGFzIEdyaWRGb290ZXIgZnJvbSBcIi4uLy4uL2hicy9ncmlkLWZvb3Rlci5oYnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZE1haW5Sb3dUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtbWFpbi1yb3cuaGJzXCI7XHJcbmltcG9ydCAqIGFzIE1hbmFnZUNvbHVtblRlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZFRlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC5oYnNcIjtcclxuaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBQYWdlciB9IGZyb20gXCIuLi9wYWdpbmF0aW9uL1BhZ2VyXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi8uLi9tb2RlbHMvSUNvbHVtblwiO1xyXG5pbnRlcmZhY2UgSU1haW5Db2xSb3dBcnJheSB7XHJcbiAgICBjb2x1bW5WYWx1ZTogc3RyaW5nO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgaGlkZGVuOiBib29sZWFuO1xyXG4gICAgYWN0dWFsVmFsdWU6IHN0cmluZztcclxuICAgIGNvbHVtbk5hbWU6IHN0cmluZztcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBmaWx0ZXJhYmxlOiBib29sZWFuO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBHcmlkVGVtcGxhdGVTZXJ2aWNlIDxUPiB7XHJcbiAgICBwcml2YXRlIGRhdGE6IFRbXTtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWQ6IFRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkOiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93OiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JEZXRhaWxzUm93OiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JGb290ZXI6IGFueTtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbDogYW55O1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXg6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4pIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCA9IEdyaWRUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93ID0gR3JpZE1haW5Sb3dUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JEZXRhaWxzUm93ID0gR3JpZERldGFpbHNSb3dUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JGb290ZXIgPSBHcmlkRm9vdGVyO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCA9IE1hbmFnZUNvbHVtblRlbXBsYXRlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzQWxsU2VsZWN0ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQubGVuZ3RoICE9PSAwICYmIHRoaXMuc2VsZWN0ZWQubGVuZ3RoID09PSB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBEYXRhKCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgU2VsZWN0ZWQoKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgQ3VycmVudEluZGV4KGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBEYXRhTGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvLyBGb3IgRmlyc3QgIFJlbmRlciAtIFVwZGF0ZSBIZWFkZXIgLCBCb2R5LCBQYWdpbmF0aW9uXHJcbiAgICBwdWJsaWMgR2V0Rmlyc3RUZW1wbGF0ZSA9IChkYXRhOiBUW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEluZGV4OiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0SW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107XHJcbiAgICAgICAgY29uc3QgbWFpblJvd0FycmF5ID0gdGhpcy5HZXRSb3dzSHRtbChmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkKHtcclxuICAgICAgICAgICAgc2hvd0NhcHRpb246IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5zaG93Q2FwdGlvbixcclxuICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLnN1bW1hcnksXHJcbiAgICAgICAgICAgIHJvd0xlbmd0aDogdGhpcy5kYXRhLmxlbmd0aCxcclxuICAgICAgICAgICAgY29sdW1uczogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMsXHJcbiAgICAgICAgICAgIG1haW5Sb3dBcnJheSxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGE6IFBhZ2VyLlBhZ2luYXRpb25EYXRhLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY2FwdGlvbixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIEZvciBWaXJ0dWFsaXphdG9uIFJlbmRlciAtIEJvZHlcclxuICAgIHB1YmxpYyBnZXRUZW1wbGF0ZSA9IChmaXJzdEluZGV4OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXkgPSB0aGlzLkdldFJvd3NIdG1sKGZpcnN0SW5kZXgsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coe1xyXG4gICAgICAgICAgICBjb2x1bW5zOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgbWFpblJvd0FycmF5LFxyXG4gICAgICAgICAgICBjYXB0aW9uOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY2FwdGlvbixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBvbmx5IG9uZSBSb3dcclxuICAgIHB1YmxpYyBnZXRUZW1wbGF0ZUZvck9uZVJvdyA9IChyb3c6IFQpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVtcHR5U3RyID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmVtcHR5VmFsdWU7XHJcbiAgICAgICAgY29uc3QgbWFpblJvd0NvbEFycmF5ID0gdGhpcy5nZXRNYWluUm93KHJvdywgZW1wdHlTdHIpO1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dBcnJheSA9IFt7XHJcbiAgICAgICAgICAgIGlzQWxsU2VsZWN0ZWQ6IHRoaXMuaXNBbGxTZWxlY3RlZCgpLFxyXG4gICAgICAgICAgICBrZXlDb2x1bW46IHJvd1t0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uXSxcclxuICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5LFxyXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLmxlbmd0aCxcclxuICAgICAgICB9XTtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyh7bWFpblJvd0FycmF5fSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgR2V0TWFuYWdlQ29sdW1uc0h0bWwgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sKHtjb2x1bW5zOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1uc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRSb3dzSHRtbCA9IChmaXJzdEluZGV4OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKTogYW55W10gPT4ge1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dBcnJheTogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBlbXB0eVN0ciA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5lbXB0eVZhbHVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdEluZGV4OyBpIDw9IGxhc3RJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdzogVCA9IHRoaXMuZGF0YVtpXTtcclxuICAgICAgICAgICAgY29uc3QgbWFpblJvd0NvbEFycmF5OiBJTWFpbkNvbFJvd0FycmF5W10gPSB0aGlzLmdldE1haW5Sb3cocm93LCBlbXB0eVN0cik7XHJcbiAgICAgICAgICAgIG1haW5Sb3dBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHJvd0luZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgaXNBbGxTZWxlY3RlZDogdGhpcy5pc0FsbFNlbGVjdGVkKCksXHJcbiAgICAgICAgICAgICAgICBrZXlDb2x1bW46IHJvd1t0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uXSxcclxuICAgICAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheSxcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1haW5Sb3dBcnJheTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZWxlY3RSb3dzID0gKHJvd0lkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uO1xyXG4gICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkID0gW107XHJcbiAgICAgICAgbGV0IGV4aXN0cyA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2VsZWN0ZWQgb2YgdGhpcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAoIHJvd0lkID09PSBzZWxlY3RlZFtrZXldICkge1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggIWV4aXN0cyApIHtcclxuICAgICAgICAgICAgbmV3U2VsZWN0ZWQucHVzaChyb3dJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgdG9CZUFkZGVkIG9mIG5ld1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb25lUm93IG9mIHRoaXMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0b0JlQWRkZWQgPT09IG9uZVJvd1trZXldICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQucHVzaChvbmVSb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRlU2VsZWN0Um93cyA9IChyb3dJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2VsZWN0ZWQgb2YgdGhpcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAoIHJvd0lkICE9PSBzZWxlY3RlZFtrZXldICkge1xyXG4gICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQucHVzaChzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG5ld1NlbGVjdGVkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNlbGVjdEFsbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRlU2VsZWN0QWxsID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyB1cGRhdGVSb3dzID0gKHJvd3M6IFRbXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW47XHJcbiAgICAgICAgaWYgKCByb3dzID09PSB1bmRlZmluZWQgfHwgIXJvd3MubGVuZ3RoICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0YVJvdyBvZiB0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dba2V5XSA9PT0gZGF0YVJvd1trZXldICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFSb3cgPSByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkYXRhUm93IG9mIHRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dba2V5XSA9PT0gZGF0YVJvd1trZXldICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFSb3cgPSByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldE1haW5Sb3cgPSAocm93OiBULCBlbXB0eVN0cjogc3RyaW5nKTogSU1haW5Db2xSb3dBcnJheVtdID0+IHtcclxuICAgICAgICBjb25zdCBtYWluUm93Q29sQXJyYXk6IGFueVtdID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpIHtcclxuICAgICAgICAgICAgbGV0IGNvbHVtblZhbHVlID0gcm93W2NvbC5pZF07XHJcbiAgICAgICAgICAgIGlmIChjb2wucmVuZGVySHlicmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZSA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5oeWJyaWRGdW5jdGlvbihjb2wsIHJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVtcHR5U3RyICE9PSB1bmRlZmluZWQgJiYgY29sdW1uVmFsdWUgPT09IGVtcHR5U3RyKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29sdW1uVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBjb2wudHlwZSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogY29sLmhpZGRlbixcclxuICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiByb3dbY29sLmlkXSxcclxuICAgICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGNvbC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgaWQ6IGNvbC5pZCxcclxuICAgICAgICAgICAgICAgIGZpbHRlcmFibGU6IGNvbC5maWx0ZXJhYmxlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1haW5Sb3dDb2xBcnJheTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UudHMiLCJjb25zdCBzZWxlY3RlZCA9IChpbnB1dDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBpbnB1dCA9PT0gdmFsdWUgPyBcInNlbGVjdGVkXCIgOiBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2VsZWN0ZWQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHRyIGRhdGEtaGVhZGVyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtaGlkZGVuLWNoZWNrYm94IGd1aSBtLXItMTBcXFwiIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXENoZWNrZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaGlkZGVuIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJDaGVja2VkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJndWkgb2YtaGlkZGVuIHAtMTAgbWluLXctNTAgdy1hdXRvIGZsdWlkLWggZmxleCBjb2x1bW4gY29udGFpbmVyXFxcIiA+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oZWFkZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSBmbHVpZCBpY29uIGlucHV0XFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1maWx0ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJTZWFyY2ggZmlsdGVyLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwic2VhcmNoIGljb25cXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tdC0xMFxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBsZWZ0IHNob3ctYWxsLWNvbHVtblxcXCI+U2hvdyBBbGw8L2E+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSByaWdodCBoaWRlLWFsbC1jb2x1bW5cXFwiPkhpZGUgQWxsPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgY2xlYXJcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLXRhYmxlIGd1aSBmbHVpZCBoLTkwIG9mLWF1dG8gcC01IG0tdC0xMFxcXCIgPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgc21hbGwgdmVyeSBib3JkZXItbGVzcyBiYXNpYyBjb21wYWN0IHRhYmxlXFxcIj5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgY2hlY2tlZCA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiAhYm9vbCA/IFwiY2hlY2tlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNoZWNrZWQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICA8Y2FwdGlvbiBjbGFzcz1cXFwiZ3VpIGd1aS1zdWJoZWFkaW5nLTIgbS0wIHAtMCB0ZXh0LWxlZnRcXFwiPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jYXB0aW9uIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9jYXB0aW9uPlxcclxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFRlY2huaWNhbFxcXFxSZXBvXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQ29sdW1uLnRzXCIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcIkNvbHVtblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcclxcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29ydGFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjZcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxPcmRlcmVkLnRzXCIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLChkYXRhICYmIGRhdGEuaW5kZXgpLHtcIm5hbWVcIjpcIk9yZGVyZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXHJcXG5cIjtcbn0sXCI4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbGluZGV4PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxBZGQudHNcIikpLmNhbGwoYWxpYXMxLChkYXRhICYmIGRhdGEuaW5kZXgpLDMse1wibmFtZVwiOlwiQWRkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtc29ydD1cXFwibm9uZVxcXCIgXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XFxcIi0xXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZ3VpIGN1cnNvci1kZWZhdWx0IGRpc2FibGVkXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXEFyaWFIaWRkZW4udHNcIikpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5oaWRkZW4gOiBkZXB0aDApLHtcIm5hbWVcIjpcIkFyaWFIaWRkZW5cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XFxcImhlYWRlci1cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcImlubmVyLWNvbnRhaW5lciBndWkgZmx1aWQgY29udGFpbmVyXFxcIiBcXHJcXG4gICAgYXJpYS1yZWFkb25seT1cXFwidHJ1ZVxcXCIgXFxyXFxuICAgIGFyaWEtcm93Y291bnQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dMZW5ndGggOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFxcclxcbiAgICBhcmlhLWNvbGNvdW50PVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVGVjaG5pY2FsXFxcXFJlcG9cXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxBZGQudHNcIikpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxlbmd0aCA6IHN0YWNrMSksMix7XCJuYW1lXCI6XCJBZGRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgYXJpYS1sYWJlbD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcHRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxyXFxuICAgIHN1bW1hcnk9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdW1tYXJ5IDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcclxcbiAgICBhcmlhLWxpdmU9XFxcInBvbGl0ZVxcXCJcXHJcXG4gICAgcm9sZT1cXFwiZ3JpZFxcXCIgXFxyXFxuICAgIHN0eWxlPVxcXCJwYWRkaW5nOjAlO1xcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInRhYmxlLWhlYWRlclxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgaWQ9XFxcImhlYWRlcnRhYmxlXFxcIiByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBzb3J0YWJsZSBmaXhlZCBzaW5nbGUgbGluZSB0YWJsZVxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zaG93Q2FwdGlvbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJoZWFkZXJDb2xHcm91cFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcclxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXHJcXG4gICAgICAgICAgICA8dGhlYWQgcm9sZT1cXFwicm93Z3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dHIgcm9sZT1cXFwicm93XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0aCByb2xlPVxcXCJjb2x1bW5oZWFkZXJcXFwiIGFyaWEtY29saW5kZXg9XFxcIjFcXFwiPjwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJTZWxlY3QgYWxsIHJvd3Mgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcHRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCIgQ2hlY2tib3hcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY29saW5kZXg9XFxcIjJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XFxcInNlbGVjdC1hbGwtY2hlY2tib3hcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCAgdHlwZT1cXFwiY2hlY2tib3hcXFwiIFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVxcXCJzZWxlY3QtYWxsLWNoZWNrYm94XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcInNlbGVjdC1hbGwtY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuICAgICAgICAgICAgPC90aGVhZD5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1ib2R5XFxcIj5cXHJcXG4gICAgICAgIDx0YWJsZSByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBmaXhlZCBzZWxlY3RhYmxlIHNpbmdsZSBsaW5lIHRhYmxlIG1haW5UYWJsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJib2R5Q29sR3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz4gXFxyXFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2NvbGdyb3VwPlxcclxcbiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cXFwibWFpblRhYmxlQm9keVxcXCIgcm9sZT1cXFwicm93Z3JvdXBcXFwiPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCJDOlxcXFxUZWNobmljYWxcXFxcUmVwb1xcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxncmlkLW1haW4tcm93Lmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1tYWluLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1mb290ZXIgZ3VpIGgtYXV0byBmbHVpZC13IGZsZXggamMtc2IgcC01IG0tMFxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwocmVxdWlyZShcIkM6XFxcXFRlY2huaWNhbFxcXFxSZXBvXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGdyaWQtZm9vdGVyLmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1mb290ZXJcIixcImRhdGFcIjpkYXRhLFwiaW5kZW50XCI6XCIgICAgICAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLmhic1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBDb2x1bW4gPSAoY29sKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IGNhbGNXaWR0aDogbnVtYmVyID0gY29sLmhpZGRlbiA/IDAgOiBjb2wud2lkdGg7XHJcbiAgICBjb25zdCBkYXRhQXR0cklkID0gJ2RhdGEtaGVhZGVyLWlkPVwiJyArIGNvbC5pZCArICdcIic7XHJcbiAgICByZXR1cm4gJzxjb2wgc3R5bGU9XCJ3aWR0aCA6ICcgKyBjYWxjV2lkdGggKyAncHg7XCInICsgZGF0YUF0dHJJZCArIFwiIC8+XCI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb2x1bW47XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvQ29sdW1uLnRzIiwiaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4uLy4uL2pzL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb25cIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLi8uLi9qcy9tb2RlbHMvSUNvbHVtblwiO1xyXG5cclxuY29uc3Qgb3JkZXJlZCA9IChjb2x1bW46IElDb2x1bW4sIGluZGV4OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VkSW50ID0gcGFyc2VJbnQoaW5kZXgsIDEwKSArIDM7XHJcbiAgICBsZXQgYXJpYVNvcnRTdHI7XHJcbiAgICBsZXQgYXJpYUxhYmVsU3RyO1xyXG4gICAgbGV0IGhlYWRlckljb25NaztcclxuICAgIGNvbnN0IGFyaWFIaWRkZW5TdHIgPSBjb2x1bW4uaGlkZGVuID8gXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiXCIgOiBcIiBhcmlhLWhpZGRlbj1cXFwiZmFsc2VcXFwiXCI7XHJcbiAgICBjb25zdCB0YWJJbmRleCA9IGNvbHVtbi5zb3J0YWJsZSAmJiAhY29sdW1uLmhpZGRlbiA/IDAgOiAtMTtcclxuICAgIGlmIChjb2x1bW4ub3JkZXJCeSA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uLkFzYykge1xyXG4gICAgICAgIGhlYWRlckljb25NayA9IFwiIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXBcXFwiIGFyaWEtaGlkZGVuPVxcXCJmYWxzZVxcXCIgPjwvaT4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctZG93biBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT5cIjtcclxuICAgICAgICBhcmlhU29ydFN0ciA9IFwiYXJpYS1zb3J0PVxcXCJhc2NlbmRpbmdcXFwiXCI7XHJcbiAgICAgICAgLy8gYXJpYUxhYmVsU3RyID0gY29sdW1uLm5hbWUgKyBcIiBzb3J0ZWQgYXNjZW5kaW5nXCI7XHJcbiAgICB9IGVsc2UgaWYgKGNvbHVtbi5vcmRlckJ5ID09PSBHcmlkT3JkZXJEaXJlY3Rpb24uRGVzYykge1xyXG4gICAgICAgIGhlYWRlckljb25NayA9IFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy11cCBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctZG93blxcXCIgYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIiA+PC9pPlwiO1xyXG4gICAgICAgIGFyaWFTb3J0U3RyID0gXCJhcmlhLXNvcnQ9XFxcImRlc2NlbmRpbmdcXFwiXCI7XHJcbiAgICAgICAgLy8gYXJpYUxhYmVsU3RyID0gY29sdW1uLm5hbWUgKyBcIiBzb3J0ZWQgZGVzY2VuZGluZ1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBoZWFkZXJJY29uTWsgPSBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXAgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd24gZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+XCI7XHJcbiAgICAgICAgYXJpYVNvcnRTdHIgPSBcImFyaWEtc29ydD1cXFwibm9uZVxcXCJcIjtcclxuICAgICAgICBhcmlhTGFiZWxTdHIgPSBcIiBQcmVzcyBzcGFjZSBvciBlbnRlciB0byBzb3J0IGNvbHVtbiBcIiArIGNvbHVtbi5uYW1lICsgXCIgYnV0dG9uXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8dGggcm9sZT1cXFwiY29sdW1uaGVhZGVyXFxcIiBhcmlhLWNvbGluZGV4PVxcXCJcIiArIHBhcnNlZEludFxyXG4gICAgICAgICAgKyBcIlxcXCIgY2xhc3M9XFxcImd1aSBjdXJzb3ItcG9pbnRlclxcXCIgaWQ9XFxcImhlYWRlci1cIlxyXG4gICAgICAgICAgKyBjb2x1bW4uaWQgICsgXCJcXFwiXCJcclxuICAgICAgICAgICsgXCIgdGFiaW5kZXg9XFxcIlwiICsgdGFiSW5kZXggKyBcIlxcXCIgXCJcclxuICAgICAgICAgICsgXCIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiICsgY29sdW1uLmlkICsgXCJcXFwiICsgIFwiXHJcbiAgICAgICAgICArIGFyaWFTb3J0U3RyXHJcbiAgICAgICAgICArIGFyaWFIaWRkZW5TdHJcclxuICAgICAgICAgICsgXCIgYXJpYS1sYWJlbGxlZEJ5PVxcXCJjb2x1bW5MYWJlbC1cIiArIGNvbHVtbi5pZCArIFwiXFxcIlwiXHJcbiAgICAgICAgICAvLyArIFwiIHRpdGxlPVxcXCJcIiArIGNvbHVtbi5uYW1lICsgXCJcXFwiIFwiXHJcbiAgICAgICAgICArIFwiICA+XCJcclxuICAgICAgICAgICsgXCIgPHNwYW4gXCJcclxuICAgICAgICAgICsgXCIgaWQ9XFxcImNvbHVtbkxhYmVsLVwiICsgY29sdW1uLmlkICsgXCJcXFwiIFwiXHJcbiAgICAgICAgICArIFwiIGFyaWEtbGFiZWw9XFxcIlwiICsgYXJpYUxhYmVsU3RyICsgXCJcXFwiIFwiXHJcbiAgICAgICAgICArIFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImd1aSBuby1jc3Mgc3ViIGhlYWRlciBtLXItNVxcXCI+XCIgKyBjb2x1bW4ubmFtZSArIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICArIGhlYWRlckljb25Na1xyXG4gICAgICAgICAgKyBcIiA8L3RoPlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb3JkZXJlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzIiwiY29uc3QgYXJpYUhpZGRlbiA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBib29sID8gXCJhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCJcIiA6IFwiYXJpYS1oaWRkZW49XFxcImZhbHNlXFxcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXJpYUhpZGRlbjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9BcmlhSGlkZGVuLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==