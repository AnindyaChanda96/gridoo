!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("handlebars/runtime"),require("jQuery")):"function"==typeof define&&define.amd?define(["handlebars.runtime","jQuery"],n):"object"==typeof exports?exports.Gridoo=n(require("handlebars/runtime"),require("jQuery")):e.Gridoo=n(e.Handlebars,e.jQuery)}("undefined"!=typeof self?self:this,function(e,n){return function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=10)}([function(n,t){n.exports=e},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e?"disabled":""};n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"PaginationData",{get:function(){return e.paginationData},enumerable:!0,configurable:!0}),e.CalculatePaginationData=function(n){var t={};t.pageIndex=n.pageIndex,t.pageSize=n.pageSize,t.pageSizes=n.pageSizes,t.totalCount=n.totalCount,t.noOfPages=Math.ceil(n.totalCount/n.pageSize);var i=(n.pageIndex-1)*n.pageSize,a=n.pageSize>n.totalCount?n.totalCount:n.pageSize;t.range={min:i+1,max:i+a},t.firstPageLinkDisabled=1===t.noOfPages||1===t.pageIndex,t.lastPageLinkDisabled=1===t.noOfPages||t.pageIndex===t.noOfPages,t.prevPageLinkDisabled=1===t.pageIndex||t.pageIndex-1<=0,t.nextPageLinkDisabled=t.noOfPages===t.pageIndex||t.pageIndex+1>=t.noOfPages,e.paginationData=t},e}();n.Pager=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.GetColumnObject=function(e,n){if(null==e||null==n)return null;var t;return n.forEach(function(n){if(n.id===e)return void(t=n)}),t},e.SetOrder=function(e,n,t){if(null==e||null==t)return null;var i;return t.forEach(function(t){if(t.id===e)return t.order=n,void(i=t)}),i},e}();n.CommonUtil=i},function(e,t){e.exports=n},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.None="None",e.Asc="Asc",e.Desc="Desc"}(n.GridOrderDirection||(n.GridOrderDirection={}))},function(e,n,t){var i=t(0);e.exports=(i.default||i).template({1:function(e,n,t,i,a){var o,r,l=null!=n?n:e.nullContext||{},c=t.helperMissing,s="function",u=e.escapeExpression;return'                <tr>\r\n                    <td class="gui rv-parent" valign="top" data-filter-type="'+u((r=null!=(r=t.type||(null!=n?n.type:n))?r:c,typeof r===s?r.call(l,{name:"type",hash:{},data:a}):r))+'" data-filter-key="'+u((r=null!=(r=t.id||(null!=n?n.id:n))?r:c,typeof r===s?r.call(l,{name:"id",hash:{},data:a}):r))+'" data-filter-value="'+u((r=null!=(r=t.actualValue||(null!=n?n.actualValue:n))?r:c,typeof r===s?r.call(l,{name:"actualValue",hash:{},data:a}):r))+'">\r\n                        <span>'+u((r=null!=(r=t.columnName||(null!=n?n.columnName:n))?r:c,typeof r===s?r.call(l,{name:"columnName",hash:{},data:a}):r))+"</span>\r\n"+(null!=(o=t.if.call(l,null!=n?n.filterable:n,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?o:"")+"                    </td>\r\n                    <td>"+(null!=(r=null!=(r=t.columnValue||(null!=n?n.columnValue:n))?r:c,o=typeof r===s?r.call(l,{name:"columnValue",hash:{},data:a}):r)?o:"")+"</td>\r\n                </tr>\r\n"},2:function(e,n,t,i,a){return'                        <span class="gui m-l-5 rv-child gui-caption" >\r\n                            <i class="gui gui-icon gui-icon-add hover m-l-5 cursor-pointer addFilter"></i>\r\n                            <i class="gui gui-icon gui-icon-minus hover m-l-5 cursor-pointer removeFilter"></i>\r\n                        </span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,a){var o,r,l=null!=n?n:e.nullContext||{};return'<tr class="gui gui-hidden detailsRow">\r\n    <td colspan="'+e.escapeExpression((r=null!=(r=t.length||(null!=n?n.length:n))?r:t.helperMissing,"function"==typeof r?r.call(l,{name:"length",hash:{},data:a}):r))+'">\r\n        <table class="gui very compact selectable celled table detailsTable m-l-37 p-5" style="width: auto;" >\r\n            <tbody>\r\n'+(null!=(o=t.each.call(l,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?o:"")+"            </tbody>\r\n        </table>\r\n    </td>\r\n</tr>"},useData:!0})},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var a=t(0);e.exports=(a.default||a).template({1:function(e,n,a,o,r,l,c){var s,u=e.escapeExpression;return"        <option "+u(i(t(23)).call(null!=n?n:e.nullContext||{},null!=(s=null!=c[1]?c[1].paginationData:c[1])?s.pageSize:s,n,{name:"Selected",hash:{},data:r}))+">"+u(e.lambda(n,n))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,o,r,l,c){var s,u=null!=n?n:e.nullContext||{},d=e.escapeExpression,p=e.lambda;return'<div data-role="pager" class="gui left gui-subheading-2 col-md-6 text-left m-0">\r\n    <span class="gui mini compact ">\r\n        <button class="gui mini compact firstLink" aria-hidden="true" '+d(i(t(1)).call(u,null!=(s=null!=n?n.paginationData:n)?s.firstPageLinkDisabled:s,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the first page" title="Go to the first page" data-page="1" tabindex="-1">\r\n            <i class="gui-icon gui-icon-previous"></i>\r\n        </button>\r\n        <button class="gui mini compact prevLink" aria-hidden="true" '+d(i(t(1)).call(u,null!=(s=null!=n?n.paginationData:n)?s.prevPageLinkDisabled:s,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the previous page" title="Go to the previous page" data-page="'+d(i(t(8)).call(u,null!=(s=null!=n?n.paginationData:n)?s.pageIndex:s,"-",1,{name:"math",hash:{},data:r}))+'"\r\n            tabindex="-1">\r\n            <i class="gui-icon gui-icon-chevron-left"></i>\r\n            Prev\r\n        </button>\r\n    </span>\r\n    <span class="gui pager-input-container input">\r\n        <span class="gui m-r-5"> Page </span>\r\n        <input class="gui pager-input w-25 p-0 m-r-5" aria-label="1" value="'+d(p(null!=(s=null!=n?n.paginationData:n)?s.pageIndex:s,n))+'" type="text" placeholder="Page Number ...">\r\n        <span class="no-of-pages-scan" data-number-of-pages="'+d(p(null!=(s=null!=n?n.paginationData:n)?s.noOfPages:s,n))+'"> of '+d(p(null!=(s=null!=n?n.paginationData:n)?s.noOfPages:s,n))+'</span>\r\n    </span>\r\n    <span class="gui mini compact ">\r\n        <button class="gui mini compact nextLink" aria-hidden="true" '+d(i(t(1)).call(u,null!=(s=null!=n?n.paginationData:n)?s.nextPageLinkDisabled:s,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the next page" title="Go to the next page" data-page="'+d(i(t(8)).call(u,null!=(s=null!=n?n.paginationData:n)?s.pageIndex:s,"+",1,{name:"math",hash:{},data:r}))+'" tabindex="-1">\r\n            Next\r\n            <i class="gui-icon gui-icon-chevron-right"></i>\r\n        </button>\r\n        <button class="gui mini compact lastLink" aria-hidden="true" '+d(i(t(1)).call(u,null!=(s=null!=n?n.paginationData:n)?s.lastPageLinkDisabled:s,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the last page" title="Go to the last page" data-page="'+d(p(null!=(s=null!=n?n.paginationData:n)?s.noOFpages:s,n))+'" tabindex="-1">\r\n            <i class="gui-icon gui-icon-next"></i>\r\n        </button>\r\n    </span>\r\n</div>\r\n<div class="col-md-6 gui gui-subheading-2 right text-right m-0">\r\n    <span>Rows Per Page</span>\r\n    <select class="gui pageSizeSelector">\r\n'+(null!=(s=a.each.call(u,null!=(s=null!=n?n.paginationData:n)?s.pageSizes:s,{name:"each",hash:{},fn:e.program(1,r,0,l,c),inverse:e.noop,data:r}))?s:"")+'    </select>\r\n    <span class="gui m-l-10">'+d(p(null!=(s=null!=(s=null!=n?n.paginationData:n)?s.range:s)?s.min:s,n))+" - "+d(p(null!=(s=null!=(s=null!=n?n.paginationData:n)?s.range:s)?s.max:s,n))+" of "+d(p(null!=(s=null!=n?n.paginationData:n)?s.totalCount:s,n))+' items</span>\r\n</div>\r\n<div class="gui clear"></div>'},useData:!0,useDepths:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n,t,i){return{"+":e+t,"-":e-t,"*":e*t,"/":e/t,"%":e%t}[n]};n.default=i},function(e,n,t){var i=t(0);e.exports=(i.default||i).template({1:function(e,n,i,a,o){var r,l=e.lambda,c=e.escapeExpression;return'<tr class="mainRow" data-pk-attr="'+c(l(null!=n?n.keyColumn:n,n))+'" >\r\n    <td class="expansionArrows" style="display:flex;justify-content:center;">\r\n        <i class="gui gui-icon gui-icon-chevron-down expandDetailsRowIcon cursor-pointer" aria-hidden="true"></i>\r\n        <i class="gui gui-icon gui-icon-chevron-up CollapseDetailsRowIcon cursor-pointer gui-hidden" aria-hidden="true"></i>\r\n    </td>\r\n    <td>\r\n        <input type="checkbox" data-value="'+c(l(null!=n?n.rowData:n,n))+'" value="'+c(l(null!=n?n.keyColumn:n,n))+'" class="select-key-checkbox cursor-pointer">\r\n    </td>\r\n'+(null!=(r=i.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?r:"")+"</tr>\r\n"+(null!=(r=e.invokePartial(t(6),n,{name:"grid-details-row",data:o,helpers:i,partials:a,decorators:e.decorators}))?r:"")+" "},2:function(e,n,t,i,a){var o,r=e.lambda,l=e.escapeExpression;return'        <td title="'+l(r(null!=n?n.actualValue:n,n))+'" class="body-'+l(r(null!=n?n.id:n,n))+'">'+(null!=(o=r(null!=n?n.columnValue:n,n))?o:"")+"</td>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,a){var o;return null!=(o=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowArray:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?o:""},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),a=t(11),o=t(12),r=t(13),l=t(2),c=t(14),s=t(15),u=t(17),d=t(18),p=t(19),g=t(20),f=t(21),h=t(22),m=function(){function e(e){var n=this;this.bindData=function(e,t){var i=n.configStore.Options.chunkSize+n.getInitialRowCount();i=i>=e.length?e.length-1:i,l.Pager.CalculatePaginationData(t);var a=n.gridTemplateService.GetFirstTemplate(e,0,i);n.configStore.Options.containerElement.innerHTML=a,void 0!==n.configStore.Options.manageColSettingsContainer&&n.bindManageColums(n.configStore.Options.manageColSettingsContainer);var o=new g.ScrollHandler(n.configStore,n.gridTemplateService,i+1);o.RegisterDomHandler(),n.handleChain.push({handler:o,name:u.HandlerNames.Scroll})},this.bindManageColums=function(e){var t=n.gridTemplateService.GetManageColumnsHtml(),a=i(e||n.configStore.Options.manageColSettingsContainer||n.configStore.Options.containerElement);n.toggleHandler=new f.ToggleColumnHandler(n.configStore,i(n.configStore.Options.containerElement));var r=new o.ColSettingsHandler(i(a),n.configStore,n.toggleHandler);a.find(".col-settings-container").html(t),r.RegisterDomHandler(),i(window).resize(function(){r.onResize()}),i(document).click(function(e){r.onDocumentClick(e),e.stopPropagation()})},this.applyColumnConfig=function(e){n.toggleHandler.applyColumnConfig(e);var t=n.gridTemplateService.GetManageColumnsHtml();i(n.configStore.Options.manageColSettingsContainer||n.configStore.Options.containerElement).find(".col-settings-container").html(t)},this.setOrder=function(e){if(void 0!==e&&null!==e&&0!==e.length){for(var t=0,i=n.configStore.Options.columns;t<i.length;t++){var a=i[t];a.order=void 0}for(var o=0,r=e;o<r.length;o++)for(var l=r[o],c=0,s=n.configStore.Options.columns;c<s.length;c++){var a=s[c];if(l.colId===a.id){a.order=l.order;break}}}},this.getInitialRowCount=function(){return Math.floor(.65*i(window).innerHeight()/32)},this.InitHandlers=function(){var e=i(n.configStore.Options.containerElement);n.handleChain=[],n.handleChain.push({handler:new c.DetailsRowHandler(n.configStore,e),name:u.HandlerNames.DetailsRow}),n.handleChain.push({handler:new s.FilterClickHandler(n.configStore,e),name:u.HandlerNames.FilterAction}),n.handleChain.push({handler:new d.HeaderClickHandler(n.configStore,e),name:u.HandlerNames.HeaderClick}),n.handleChain.push({handler:new p.PageSearchHandler(n.configStore,e),name:u.HandlerNames.PageSearch});n.handleChain.push({handler:new r.SelectEventHandler(n.configStore,e,n.gridTemplateService),name:u.HandlerNames.ColSettings}),n.handleChain.forEach(function(e){e.handler.RegisterDomHandler()}),i(window).resize(function(){n.handleChain.forEach(function(e){e.handler.onResize()})}),i(document).click(function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()})},this.configStore=new a.ConfigStore(e),this.gridTemplateService=new h.GridTemplateService(this.configStore),this.InitHandlers()}return e}();n.Grid=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){var n=this;if(this.defaultGridOptions={animationTime:200,chunkSize:5,columns:[],containerElement:null,manageColSettingsContainer:null,hybridFunction:function(e,n){return"true"},keyColumn:"",onColSettingsChange:function(e){},onClickFilter:function(e,n,t){},onClickHeader:function(e,n){},onPageSearch:function(e,n){},onSelect:function(e){}},this.SetHiddenOnConfig=function(e,t){for(var i=0,a=n.Options.columns;i<a.length;i++){var o=a[i];if(void 0===t)o.hidden=e;else if(o.id===t){o.hidden=e;break}}},this.extendOptions=function(e){return n.options=jQuery.extend({},n.defaultGridOptions,e)},this.extendOptions(e),null===e.containerElement)throw new Error("Please Provide a valid container Element object")}return Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},set:function(e){this.options=e},enumerable:!0,configurable:!0}),e}();n.ConfigStore=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n,t){this.parentElement=e,this.configStore=n,this.toggleColumnHandler=t}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){var n=jQuery(e.target);n.is(".col-settings-trigger")||n.parents().is(".col-settings-container")||(jQuery(".col-settings-trigger").removeClass("active"),jQuery(".col-settings-container").slideUp(this.configStore.Options.animationTime))},e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("click",".col-settings-trigger",function(n){var t=(jQuery(n.target),e.parentElement.find(".col-settings-container"));e.onResize(),jQuery(".col-settings-trigger").addClass("active"),t.slideToggle(e.configStore.Options.animationTime),n.stopPropagation()}),this.parentElement.on("keyup",".col-settings-header .col-settings-filter",function(n){var t=jQuery(n.target),i=t.val().toString().toLowerCase();console.log(i),e.parentElement.find(".col-settings-table table tbody tr").each(function(e,n){jQuery(n).show(),-1===jQuery(n).attr("data-header-id").toLowerCase().indexOf(i)&&jQuery(n).hide()}),n.stopPropagation()}),this.parentElement.on("click",".show-all-column",function(n){e.parentElement.find(".col-settings-hidden-checkbox").each(function(e,n){jQuery(n).prop("checked",!0)}),e.toggleColumnHandler.showAllColumns(),e.configStore.Options.onColSettingsChange(e.configStore.Options.columns),n.stopPropagation()}),this.parentElement.on("click",".hide-all-column",function(n){e.parentElement.find(".col-settings-hidden-checkbox").each(function(e,n){jQuery(n).prop("checked",!1)}),e.toggleColumnHandler.hideAllColumns(),e.configStore.Options.onColSettingsChange(e.configStore.Options.columns),n.stopPropagation()}),this.parentElement.on("click",".col-settings-hidden-checkbox",function(n){if(void 0!==n.originalEvent){var t=jQuery(n.target),i=t.val().toString();t.is(":checked")?e.toggleColumnHandler.showColumn(i):e.toggleColumnHandler.hideColumn(i)}e.configStore.Options.onColSettingsChange(e.configStore.Options.columns),n.stopPropagation()})},e}();n.ColSettingsHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n,t){this.configStore=e,this.parentElement=n,this.gridTemplateService=t}return e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("change",".select-key-checkbox",function(n){var t=jQuery(n.target),i=t.data("value"),a=t.is(":checked");a?t.parents(".mainRow").addClass("active"):t.parents(".mainRow").removeClass("active"),void 0!==n.originalEvent&&(e.configStore.Options.onSelect([i],a),n.stopPropagation())}),this.parentElement.on("change",".select-all-checkbox",function(n){var t=jQuery(n.target),i=t.is(":checked");e.configStore.Options.onSelect(e.gridTemplateService.Data,i),e.parentElement.find(".select-key-checkbox").prop("checked",i),i?e.parentElement.find(".mainTable .mainRow").addClass("active"):e.parentElement.find(".mainTable .mainRow").removeClass("active"),n.stopPropagation()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.SelectEventHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){var t=this;this.configStore=e,this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .expansionArrows i",function(e){var n=jQuery(e.target),i=n.closest("tr").next();n.hide(),n.siblings("i").show();n.hasClass("expandDetailsRowIcon")?i.slideDown(t.configStore.Options.animationTime):i.slideUp(t.configStore.Options.animationTime),e.stopPropagation()})},this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.DetailsRowHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),a=t(16),o=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .detailsRow .detailsTable td i",function(e){var n=jQuery(e.target),o=n.parents("td"),r=o.attr("data-filter-key"),l=o.attr("data-filter-value"),c=o.attr("data-filter-type"),s=i.CommonUtil.GetColumnObject(r,t.configStore.Options.columns);if(void 0!==s&&null!==s&&s.filterable){var u=a.FilterActionType.Add;n.hasClass("removeFilter")&&(u=a.FilterActionType.Minus),t.configStore.Options.onClickFilter(r,l,u,c),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.FilterClickHandler=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.Add="Add",e.Minus="Minus"}(n.FilterActionType||(n.FilterActionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.FilterAction=0]="FilterAction",e[e.HeaderClick=1]="HeaderClick",e[e.Scroll=2]="Scroll",e[e.PageSearch=3]="PageSearch",e[e.DetailsRow=4]="DetailsRow",e[e.ToggleColumn=5]="ToggleColumn",e[e.ColSettings=6]="ColSettings"}(n.HandlerNames||(n.HandlerNames={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),a=t(5),o=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-header th",function(e){var n=jQuery(e.target).closest("th"),o=n.attr("data-header-id"),r=i.CommonUtil.GetColumnObject(o,t.configStore.Options.columns);if(void 0!==r&&null!==r&&r.sortable){var l,c=n.find("i"),s=c.first(),u=c.last();c.is(":visible")?s.is(":visible")?(l=a.GridOrderDirection.Desc,s.hide(),u.show()):(l=a.GridOrderDirection.Asc,u.hide(),s.show()):(l=a.GridOrderDirection.Asc,s.show()),i.CommonUtil.SetOrder(o,l,t.configStore.Options.columns),t.configStore.Options.onClickHeader(o,l),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.HeaderClickHandler=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),a=t(2),o=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-footer .firstLink",function(e){t.configStore.options.onPageSearch(a.Pager.PaginationData.pageSize,1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .nextLink",function(e){t.configStore.options.onPageSearch(a.Pager.PaginationData.pageSize,a.Pager.PaginationData.pageIndex+1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .prevLink",function(e){t.configStore.options.onPageSearch(a.Pager.PaginationData.pageSize,a.Pager.PaginationData.pageIndex-1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .lastLink",function(e){t.configStore.options.onPageSearch(a.Pager.PaginationData.pageSize,a.Pager.PaginationData.noOfPages),e.stopPropagation()}),t.parentElement.on("change",".table-footer .pageSizeSelector",function(e){var n=+i(e.target).val().toString();t.configStore.options.onPageSearch(n,a.Pager.PaginationData.pageIndex),e.stopPropagation()}),t.parentElement.on("keypress",".table-footer .pager-input",function(e){var n=i(e.target),o=a.Pager.PaginationData;if(13===e.keyCode){var r=+n.val().toString();isNaN(r)||r>o.noOfPages||r<1?n.val(o.pageIndex):t.configStore.options.onPageSearch(o.pageSize,r)}e.stopPropagation()})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(){},e}();n.PageSearchHandler=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n,t){var i=this;this.rendering=!1,this.RegisterDomHandler=function(){i.parentElement.resize(function(e){i.leftOffset=i.parentElement.find(".table-header").offset().left}),i.parentElement.find(".table-body").on("scroll",function(e){var n=i.parentElement.find(".table-body");void 0!==i.leftOffset&&null!==i.leftOffset||(i.leftOffset=i.parentElement.find(".table-header").offset().left),i.parentElement.find(".table-header").offset({left:i.leftOffset+-1*n.scrollLeft(),top:0});var t=n.find(".mainTable").height(),a=n.height();if(e.preventDefault(),i.rendering)return void e.stopPropagation();if(a+n.scrollTop()-.8*t>0){if(i.currentIndex>=i.gridTemplateService.DataLength)return;i.rendering=!0;var o=i.currentIndex+i.configStore.Options.chunkSize;o>i.gridTemplateService.DataLength&&(o=i.gridTemplateService.DataLength);var r=jQuery(i.gridTemplateService.getTemplate(i.currentIndex,o));n.find(".mainTableBody").append(r),i.currentIndex=o+1,i.rendering=!1}e.stopPropagation()})},this.configStore=e,this.parentElement=jQuery(this.configStore.Options.containerElement),this.gridTemplateService=n,this.currentIndex=t}return e.prototype.onResize=function(){this.leftOffset=this.parentElement.find(".table-header").offset().left},e.prototype.onDocumentClick=function(e){var n=this;jQuery(document).resize(function(e){n.leftOffset=n.parentElement.find(".table-header").offset().left})},e}();n.ScrollHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=t(3);!function(e){e[e.Show=0]="Show",e[e.Hide=1]="Hide",e[e.ShowAll=2]="ShowAll",e[e.HideAll=3]="HideAll"}(i||(i={}));var o=function(){function e(e,n){var t=this;this.showAllColumns=function(){t.SetColWidth(".table-header .headerColGroup col",i.ShowAll),t.SetColWidth(".table-body .bodyColGroup col",i.ShowAll),t.configStore.SetHiddenOnConfig(!1)},this.showColumn=function(e){t.SetColWidth(".table-header .headerColGroup col",i.Show,e),t.SetColWidth(".table-body .bodyColGroup col",i.Show,e),t.configStore.SetHiddenOnConfig(!1,e)},this.hideColumn=function(e){t.SetColWidth(".table-header .headerColGroup col",i.Hide,e),t.SetColWidth(".table-body .bodyColGroup col",i.Hide,e),t.configStore.SetHiddenOnConfig(!0,e)},this.hideAllColumns=function(){t.SetColWidth(".table-header .headerColGroup col",i.HideAll),t.SetColWidth(".table-body .bodyColGroup col",i.HideAll),t.configStore.SetHiddenOnConfig(!0)},this.applyColumnConfig=function(e){for(var n=0,i=e;n<i.length;n++){var a=i[n];a.hidden?t.hideColumn(a.id):t.showColumn(a.id)}},this.SetColWidth=function(e,n,o){t.parentElement.find(e).each(function(e,r){var l=0,c=jQuery(r),s=c.attr("data-header-id");if(void 0!==s){var u=void 0;if([i.Show,i.Hide].indexOf(n)>-1&&s===o)return n===i.Show&&(u=a.CommonUtil.GetColumnObject(s,t.configStore.options.columns),l=u.width),void c.width(l+"px");[i.ShowAll,i.HideAll].indexOf(n)>-1&&(n===i.ShowAll&&(u=a.CommonUtil.GetColumnObject(s,t.configStore.options.columns),l=u.width),c.width(l+"px"))}})},this.configStore=e,this.parentElement=n}return e}();n.ToggleColumnHandler=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),a=t(7),o=t(9),r=t(24),l=t(26),c=t(2),s=function(){function e(e){var n=this;this.GetFirstTemplate=function(e,t,i){n.data=e;var a=n.GetRowsHtml(t,i);return n.templateFunctionForGrid({columns:n.configStore.Options.columns,mainRowArray:a,paginationData:c.Pager.PaginationData})},this.getTemplate=function(e,t){var i=n.GetRowsHtml(e,t);return n.templateFunctionForMainRow({columns:n.configStore.Options.columns,mainRowArray:i})},this.GetManageColumnsHtml=function(){return n.templateFunctionForManageCol({columns:n.configStore.Options.columns})},this.GetRowsHtml=function(e,t){for(var i=[],a=(n.configStore.Options.columns.length,e);a<=t;a++){for(var o=n.data[a],r=[],l=0,c=n.configStore.Options.columns;l<c.length;l++){var s=c[l],u=o[s.id];s.renderHybrid&&(u=n.configStore.Options.hybridFunction(s,o)),r.push({columnValue:u,type:s.type,hidden:s.hidden,actualValue:o[s.id],columnName:s.name,id:s.id,filterable:s.filterable})}i.push({rowData:JSON.stringify(o),keyColumn:o[n.configStore.Options.keyColumn],mainRowColArray:r,length:n.configStore.Options.columns.length})}return i},this.configStore=e,this.templateFunctionForGrid=l,this.templateFunctionForMainRow=o,this.templateFunctionForDetailsRow=i,this.templateFunctionForFooter=a,this.templateFunctionForManageCol=r}return Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataLength",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),e}();n.GridTemplateService=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n){return e===n?"selected":""};n.default=i},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var a=t(0);e.exports=(a.default||a).template({1:function(e,n,a,o,r){var l=e.lambda,c=e.escapeExpression;return'                <tr data-header-id="'+c(l(null!=n?n.name:n,n))+'">\r\n                    <td>\r\n                        <label>\r\n                            <input type="checkbox" class="col-settings-hidden-checkbox gui m-r-10" value="'+c(l(null!=n?n.id:n,n))+'" '+c(i(t(25)).call(null!=n?n:e.nullContext||{},null!=n?n.hidden:n,{name:"Checked",hash:{},data:r}))+">\r\n                            "+c(l(null!=n?n.name:n,n))+"\r\n                        </label>\r\n                    </td>\r\n                </tr>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,a){var o;return'<div class="gui of-hidden p-10 min-w-50 w-auto fluid-h flex column container" >\r\n    <div class="col-settings-header" style="width: 100%">\r\n        <div class="gui mini fluid icon input">\r\n            <input class="col-settings-filter" type="text" placeholder="Search filter...">\r\n            <i class="search icon"></i>\r\n        </div>\r\n        <div class="gui m-t-10">\r\n            <a class="gui left show-all-column">Show All</a>\r\n            <a class="gui right hide-all-column">Hide All</a>\r\n        </div>\r\n        <div class="gui clear"></div>\r\n    </div>\r\n    <div class="gui clear"></div>\r\n    <div class="col-settings-table gui fluid h-90 of-auto p-5 m-t-10" >\r\n        <table class="gui small very border-less basic compact table">\r\n            <tbody>\r\n'+(null!=(o=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?o:"")+"            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"},useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e?"":"checked"};n.default=i},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var a=t(0);e.exports=(a.default||a).template({1:function(e,n,a,o,r){var l;return"                    "+(null!=(l=i(t(27)).call(null!=n?n:e.nullContext||{},n,{name:"Column",hash:{},data:r}))?l:"")+"\n"},3:function(e,n,t,i,a){var o,r=e.lambda,l=e.escapeExpression;return'                        <th class="gui cursor-pointer" id="header-'+l(r(null!=n?n.id:n,n))+'" data-header-id="'+l(r(null!=n?n.id:n,n))+'">\n                            <span class="gui sub header">'+l(r(null!=n?n.name:n,n))+"</span>\n"+(null!=(o=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.sortable:n,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?o:"")+"                        </th>\n"},4:function(e,n,a,o,r){var l;return"                                "+(null!=(l=i(t(28)).call(null!=n?n:e.nullContext||{},null!=n?n.order:n,{name:"Ordered",hash:{},data:r}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,i,a,o){var r,l=null!=n?n:e.nullContext||{};return'<style>\n    .inner-container {\n        height: 100%;\n        overflow: hidden;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .table-header {\n        position: relative;\n        top:0 !important;\n    }\n\n    .table-body {\n        overflow: auto;\n        flex: 5;\n    }\n    .table-footer{\n        height: 35px;\n        padding: 5px;\n    }\n    .table-footer .footer-middle{\n        display: flex;\n    }\n    .table-footer .footer-right{\n        display: flex;\n    }\n    .margin-auto{\n        margin: auto !important;\n    }\n    .remove-label:hover{\n        text-decoration: line-through;\n        cursor: pointer;\n    }\n    .border-less tr td,.border-less { border: 0px !important; }\n    .cursor-pointer{\n        cursor: pointer;\n    }\n    .ui.supercompact.icon.button, .ui.supercompact.icon.buttons .button {\n        padding: .3em .3em .3em .3em !important;\n    }\n</style>\n<div class="inner-container gui fluid container" style="padding:0%;">\n    <div class="table-header">\n        <table id="headertable" class="gui basic large compact sortable fixed single line table">\n            <colgroup class="headerColGroup">\n                <col style="width:40px;" />\n                <col style="width:40px;" />\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?r:"")+'            </colgroup>\n            <thead>\n                <tr>\n                    <th></th>\n                    <th><input type="checkbox" class="select-all-checkbox cursor-pointer"></th>\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?r:"")+'                </tr>\n            </thead>\n        </table>\n    </div>\n    <div class="table-body">\n        <table class="gui basic large compact fixed selectable single line table mainTable">\n            <colgroup class="bodyColGroup">\n                <col style="width:40px;" /> \n                <col style="width:40px;" />\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?r:"")+'            </colgroup>\n            <tbody class="mainTableBody">\n'+(null!=(r=e.invokePartial(t(9),n,{name:"grid-main-row",data:o,indent:"                ",helpers:i,partials:a,decorators:e.decorators}))?r:"")+'            </tbody>\n        </table>\n    </div>\n    <div class="table-footer gui h-auto fluid-w basic curved row p-5 m-0">\n'+(null!=(r=e.invokePartial(t(7),n,{name:"grid-footer",data:o,indent:"           ",helpers:i,partials:a,decorators:e.decorators}))?r:"")+"    </div>\n</div>"},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return'<col style="width : '+(e.hidden?0:e.width)+'px;"data-header-id="'+e.id+'" />'};n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(5),a=function(e){return e===i.GridOrderDirection.Asc?'<i class="gui gui-icon gui-icon-arrow-up" ></i> ':e===i.GridOrderDirection.Desc?'<i class="gui gui-icon gui-icon-arrow-down" ></i> ':'<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>'};n.default=a}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9ncmlkb28ubWluLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAyNDM3OTI1MmE2MzQzZTBlZGRlNSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9Iiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcGFnaW5hdGlvbi9QYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC9Db2x1bW5VdGlsLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLWZvb3Rlci5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLW1haW4tcm93LmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi9HcmlkLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb25maWcvQ29uZmlnU3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvQ29sU2V0dGluZ3NIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL1NlbGVjdEV2ZW50SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hhbmRsZXJOYW1lcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TY3JvbGxIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL1RvZ2dsZUNvbHVtbkhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9ncmlkLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvQ29sdW1uLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ2YWx1ZSIsImRpc2FibGVkIiwiYm9vbCIsImRlZmF1bHQiLCJQYWdlciIsInBhZ2luYXRpb25EYXRhIiwiQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEiLCJwYWdpbmF0aW9uSW5wdXQiLCJwYWdlSW5kZXgiLCJwYWdlU2l6ZSIsInBhZ2VTaXplcyIsInRvdGFsQ291bnQiLCJub09mUGFnZXMiLCJNYXRoIiwiY2VpbCIsIm1pbk51bSIsImxvd2VyTGltaXRPZmZzZXQiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZpcnN0UGFnZUxpbmtEaXNhYmxlZCIsImxhc3RQYWdlTGlua0Rpc2FibGVkIiwicHJldlBhZ2VMaW5rRGlzYWJsZWQiLCJuZXh0UGFnZUxpbmtEaXNhYmxlZCIsIkNvbW1vblV0aWwiLCJHZXRDb2x1bW5PYmplY3QiLCJjb2x1bW5JZCIsImNvbHVtbnMiLCJyZXRDb2wiLCJmb3JFYWNoIiwiY29sIiwiaWQiLCJTZXRPcmRlciIsIm9yZGVyIiwiR3JpZE9yZGVyRGlyZWN0aW9uIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiMSIsImNvbnRhaW5lciIsImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiLCJzdGFjazEiLCJoZWxwZXIiLCJhbGlhczEiLCJudWxsQ29udGV4dCIsImFsaWFzMiIsImhlbHBlck1pc3NpbmciLCJhbGlhczMiLCJhbGlhczQiLCJlc2NhcGVFeHByZXNzaW9uIiwidHlwZSIsImhhc2giLCJhY3R1YWxWYWx1ZSIsImNvbHVtbk5hbWUiLCJmaWx0ZXJhYmxlIiwiZm4iLCJwcm9ncmFtIiwiaW52ZXJzZSIsIm5vb3AiLCJjb2x1bW5WYWx1ZSIsIjIiLCJjb21waWxlciIsIm1haW4iLCJsZW5ndGgiLCJlYWNoIiwibWFpblJvd0NvbEFycmF5IiwidXNlRGF0YSIsIl9fZGVmYXVsdCIsIm9iaiIsImJsb2NrUGFyYW1zIiwiZGVwdGhzIiwibGFtYmRhIiwibm9PRnBhZ2VzIiwidXNlRGVwdGhzIiwibWF0aCIsImx2YWx1ZSIsIm9wZXJhdG9yIiwicnZhbHVlIiwib3B0aW9ucyIsIisiLCItIiwiKiIsIi8iLCIlIiwia2V5Q29sdW1uIiwicm93RGF0YSIsImludm9rZVBhcnRpYWwiLCJkZWNvcmF0b3JzIiwibWFpblJvd0FycmF5IiwidXNlUGFydGlhbCIsImpRdWVyeSIsIkNvbmZpZ1N0b3JlXzEiLCJDb2xTZXR0aW5nc0hhbmRsZXJfMSIsIlNlbGVjdEV2ZW50SGFuZGxlcl8xIiwiUGFnZXJfMSIsIkRldGFpbHNSb3dIYW5kbGVyXzEiLCJGaWx0ZXJDbGlja0hhbmRsZXJfMSIsIkhhbmRsZXJOYW1lc18xIiwiSGVhZGVyQ2xpY2tIYW5kbGVyXzEiLCJQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEiLCJTY3JvbGxIYW5kbGVyXzEiLCJUb2dnbGVDb2x1bW5IYW5kbGVyXzEiLCJHcmlkVGVtcGxhdGVTZXJ2aWNlXzEiLCJHcmlkIiwiX3RoaXMiLCJiaW5kRGF0YSIsImxhc3RJbmRleCIsImNvbmZpZ1N0b3JlIiwiT3B0aW9ucyIsImNodW5rU2l6ZSIsImdldEluaXRpYWxSb3dDb3VudCIsImdyaWRDb250ZW50IiwiZ3JpZFRlbXBsYXRlU2VydmljZSIsIkdldEZpcnN0VGVtcGxhdGUiLCJjb250YWluZXJFbGVtZW50IiwiaW5uZXJIVE1MIiwidW5kZWZpbmVkIiwibWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIiLCJiaW5kTWFuYWdlQ29sdW1zIiwic2Nyb2xsSGFuZGxlciIsIlNjcm9sbEhhbmRsZXIiLCJSZWdpc3RlckRvbUhhbmRsZXIiLCJoYW5kbGVDaGFpbiIsInB1c2giLCJoYW5kbGVyIiwiSGFuZGxlck5hbWVzIiwiU2Nyb2xsIiwibWFuYWdlQ29sQ29udGFpbmVyIiwiaHRtbCIsIkdldE1hbmFnZUNvbHVtbnNIdG1sIiwiZWxlbWVudCIsInRvZ2dsZUhhbmRsZXIiLCJUb2dnbGVDb2x1bW5IYW5kbGVyIiwibWFuYWdlQ29sSGFuZGxlciIsIkNvbFNldHRpbmdzSGFuZGxlciIsImZpbmQiLCJ3aW5kb3ciLCJyZXNpemUiLCJvblJlc2l6ZSIsImRvY3VtZW50IiwiY2xpY2siLCJldmVudCIsIm9uRG9jdW1lbnRDbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImFwcGx5Q29sdW1uQ29uZmlnIiwic2V0T3JkZXIiLCJvcmRlckJ5TGlzdCIsIl9pIiwiX2EiLCJfYiIsIm9yZGVyQnlMaXN0XzEiLCJvcmRlckNvbCIsIl9jIiwiX2QiLCJjb2xJZCIsImZsb29yIiwiaW5uZXJIZWlnaHQiLCJJbml0SGFuZGxlcnMiLCJwYXJlbnRFbGVtZW50IiwiRGV0YWlsc1Jvd0hhbmRsZXIiLCJEZXRhaWxzUm93IiwiRmlsdGVyQ2xpY2tIYW5kbGVyIiwiRmlsdGVyQWN0aW9uIiwiSGVhZGVyQ2xpY2tIYW5kbGVyIiwiSGVhZGVyQ2xpY2siLCJQYWdlU2VhcmNoSGFuZGxlciIsIlBhZ2VTZWFyY2giLCJTZWxlY3RFdmVudEhhbmRsZXIiLCJDb2xTZXR0aW5ncyIsIkNvbmZpZ1N0b3JlIiwiR3JpZFRlbXBsYXRlU2VydmljZSIsImRlZmF1bHRHcmlkT3B0aW9ucyIsImFuaW1hdGlvblRpbWUiLCJoeWJyaWRGdW5jdGlvbiIsImNvbHVtbiIsInJvdyIsIm9uQ29sU2V0dGluZ3NDaGFuZ2UiLCJjb2xDb25maWciLCJvbkNsaWNrRmlsdGVyIiwiYWN0aW9uVHlwZSIsIm9uQ2xpY2tIZWFkZXIiLCJkaXJlY3Rpb24iLCJvblBhZ2VTZWFyY2giLCJvblNlbGVjdCIsInJvd3MiLCJTZXRIaWRkZW5PbkNvbmZpZyIsImhpZGRlbiIsImV4dGVuZE9wdGlvbnMiLCJpbnB1dE9wdGlvbnMiLCJleHRlbmQiLCJFcnJvciIsInNldCIsInRvZ2dsZUNvbHVtbkhhbmRsZXIiLCJ0YXJnZXRFbGVtZW50IiwidGFyZ2V0IiwiaXMiLCJwYXJlbnRzIiwicmVtb3ZlQ2xhc3MiLCJzbGlkZVVwIiwib24iLCJzZXR0bmdzUG9wdXAiLCJhZGRDbGFzcyIsInNsaWRlVG9nZ2xlIiwidmFsIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImNvbnNvbGUiLCJsb2ciLCJlIiwic2hvdyIsImF0dHIiLCJpbmRleE9mIiwiaGlkZSIsImluZGV4IiwicHJvcCIsInNob3dBbGxDb2x1bW5zIiwiaGlkZUFsbENvbHVtbnMiLCJvcmlnaW5hbEV2ZW50IiwiY2hlY2tib3giLCJzaG93Q29sdW1uIiwiaGlkZUNvbHVtbiIsImNoZWNrZWQiLCJEYXRhIiwiYXJyb3ciLCJkZXRhaWxzUm93IiwiY2xvc2VzdCIsIm5leHQiLCJzaWJsaW5ncyIsImhhc0NsYXNzIiwic2xpZGVEb3duIiwiQ29sdW1uVXRpbF8xIiwiRmlsdGVyQWN0aW9uVHlwZV8xIiwicGFyZW50VGQiLCJrZXkiLCJmaWx0ZXJBY3Rpb24iLCJGaWx0ZXJBY3Rpb25UeXBlIiwiQWRkIiwiTWludXMiLCJHcmlkT3JkZXJEaXJlY3Rpb25fMSIsImhlYWRlcklkIiwic29ydGFibGUiLCJhcnJvd0ljb25zIiwidXBBcnJvd0ljb24iLCJmaXJzdCIsImRvd25BcnJvd0ljb24iLCJsYXN0IiwiRGVzYyIsIkFzYyIsIlBhZ2luYXRpb25EYXRhIiwiaXAiLCJwYWdlRGF0YSIsImtleUNvZGUiLCJpc05hTiIsImN1cnJlbnRJbmRleCIsInJlbmRlcmluZyIsImxlZnRPZmZzZXQiLCJvZmZzZXQiLCJsZWZ0IiwidEJvZHlPYmoiLCJzY3JvbGxMZWZ0IiwidG9wIiwiYWN0dWFsVGFibGVIZWlnaHQiLCJoZWlnaHQiLCJzY3JvbGxDb250YWluZXJIZWlnaHQiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbFRvcCIsIkRhdGFMZW5ndGgiLCJnZXRUZW1wbGF0ZSIsImFwcGVuZCIsInJlc2l6ZUV2ZW50IiwiU2hvd0hpZGUiLCJTZXRDb2xXaWR0aCIsIlNob3dBbGwiLCJTaG93IiwiSGlkZSIsIkhpZGVBbGwiLCJjb2x1bW5zXzEiLCJzZWxlY3RvciIsImNvbnRyb2wiLCJ3aWR0aCIsImN1cnJlbnRDb2xFbGVtIiwiY3VycmVudENvbCIsIkdyaWREZXRhaWxzUm93VGVtcGxhdGUiLCJHcmlkRm9vdGVyIiwiR3JpZE1haW5Sb3dUZW1wbGF0ZSIsIk1hbmFnZUNvbHVtblRlbXBsYXRlIiwiR3JpZFRlbXBsYXRlIiwiZmlyc3RJbmRleCIsIkdldFJvd3NIdG1sIiwidGVtcGxhdGVGdW5jdGlvbkZvckdyaWQiLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyIsInRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2wiLCJyZW5kZXJIeWJyaWQiLCJKU09OIiwic3RyaW5naWZ5IiwidGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3ciLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyIiwic2VsZWN0ZWQiLCJpbnB1dCIsIjMiLCI0IiwiaW5kZW50IiwiQ29sdW1uIiwib3JkZXJlZCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxnQkFBQUMsVUFBQSxnQkFBQUMsUUFDQUEsT0FBQUQsUUFBQUQsRUFBQUcsUUFBQSxzQkFBQUEsUUFBQSxXQUNBLGtCQUFBQyxnQkFBQUMsSUFDQUQsUUFBQSwrQkFBQUosR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxPQUFBRCxFQUFBRyxRQUFBLHNCQUFBQSxRQUFBLFdBRUFKLEVBQUEsT0FBQUMsRUFBQUQsRUFBQSxXQUFBQSxFQUFBLFNBQ0MsbUJBQUFPLFdBQUFDLEtBQUEsU0FBQUMsRUFBQUMsR0FDRCxNQ0FnQixVQUFVQyxHQ04xQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQVgsT0FHQSxJQUFBQyxHQUFBVyxFQUFBRCxJQUNBRSxFQUFBRixFQUNBRyxHQUFBLEVBQ0FkLFdBVUEsT0FOQVMsR0FBQUUsR0FBQUksS0FBQWQs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QSxHQUFBZ0UsR0FBa0p2RCxLQUFBLGdCQUFBMEQsT0FBQXFRLE9BQUEsbUJBQUF2USxVQUFBQyxXQUFBZ0QsV0FBQW5ELEVBQUFtRCxjQUF1STlDLEVBQUEsSUFDelIsb0lBQ2dSLE9BQWhSQSxFQUFBTCxFQUFBa0QsY0FBQWpILEVBQUEsR0FBQWdFLEdBQWdKdkQsS0FBQSxjQUFBMEQsT0FBQXFRLE9BQUEsY0FBQXZRLFVBQUFDLFdBQUFnRCxXQUFBbkQsRUFBQW1ELGNBQWdJOUMsRUFBQSxJQUNoUixzQkFDQ2dELFlBQUEsRUFBQXZCLFNBQUEsSzVCazJDSyxTQUFVdEcsRUFBUUQsRUFBU1UsR0FFakMsWUFFQVksUUFBT0MsZUFBZXZCLEVBQVMsY0FBZ0JtQyxPQUFPLEc2Qjk0Q3RELElBQU1nVCxHQUFTLFNBQUNsUixHQUdaLE1BQU8sd0JBRm1CQSxFQUFJOEosT0FBUyxFQUFJOUosRUFBSTJQLE9BRUgsdUJBREozUCxFQUFJQyxHQUFLLE9BSXJEbEUsR0FBQXNDLFFBQWU2UyxHN0J3NUNULFNBQVVsVixFQUFRRCxFQUFTVSxHQUVqQyxZQUVBWSxRQUFPQyxlQUFldkIsRUFBUyxjQUFnQm1DLE9BQU8sRzhCbDZDdEQsSUFBQWdQLEdBQUF6USxFQUFBLEdBRU0wVSxFQUFVLFNBQUNoUixHQUNiLE1BQUlBLEtBQVUrTSxFQUFBOU0sbUJBQW1CdU4sSUFDdEIsbURBQ0F4TixJQUFVK00sRUFBQTlNLG1CQUFtQnNOLEtBQzdCLHFEQUVBLGdLQUtmM1IsR0FBQXNDLFFBQWU4UyIsImZpbGUiOiJncmlkb28ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImhhbmRsZWJhcnMucnVudGltZVwiLCBcImpRdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkdyaWRvb1wiXSA9IGZhY3Rvcnkocm9vdFtcIkhhbmRsZWJhcnNcIl0sIHJvb3RbXCJqUXVlcnlcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiaGFuZGxlYmFycy5ydW50aW1lXCIsIFwialF1ZXJ5XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkdyaWRvb1wiXSA9IGZhY3RvcnkocmVxdWlyZShcImhhbmRsZWJhcnMvcnVudGltZVwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiR3JpZG9vXCJdID0gZmFjdG9yeShyb290W1wiSGFuZGxlYmFyc1wiXSwgcm9vdFtcImpRdWVyeVwiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZGlzYWJsZWQgPSBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBcImRpc2FibGVkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBkaXNhYmxlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3BhZ2luYXRpb24vUGFnZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFBhZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGFnZXIoKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFnZXIsIFwiUGFnaW5hdGlvbkRhdGFcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFnZXIucGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBQYWdlci5DYWxjdWxhdGVQYWdpbmF0aW9uRGF0YSA9IGZ1bmN0aW9uIChwYWdpbmF0aW9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgcGFnaW5hdGlvbkRhdGEgPSB7fTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPSBwYWdpbmF0aW9uSW5wdXQucGFnZUluZGV4O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplcyA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZXM7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEudG90YWxDb3VudCA9IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9IE1hdGguY2VpbChwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCAvIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgdmFyIG1pbk51bSA9ICgocGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleCAtIDEpICogcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICB2YXIgbG93ZXJMaW1pdE9mZnNldCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSA+IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50ID9cclxuICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgOlxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemU7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEucmFuZ2UgPSB7XHJcbiAgICAgICAgICAgIG1pbjogbWluTnVtICsgMSxcclxuICAgICAgICAgICAgbWF4OiBtaW5OdW0gKyBsb3dlckxpbWl0T2Zmc2V0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEuZmlyc3RQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxIHx8IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gMVxyXG4gICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnByZXZQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSAxXHJcbiAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKSA8PSAwO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLm5leHRQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXhcclxuICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpID49IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcztcclxuICAgICAgICBQYWdlci5wYWdpbmF0aW9uRGF0YSA9IHBhZ2luYXRpb25EYXRhO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5QYWdlciA9IFBhZ2VyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29tbW9uVXRpbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbW1vblV0aWwoKSB7XHJcbiAgICB9XHJcbiAgICBDb21tb25VdGlsLkdldENvbHVtbk9iamVjdCA9IGZ1bmN0aW9uIChjb2x1bW5JZCwgY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCA9PSBudWxsIHx8IGNvbHVtbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJldENvbDtcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH07XHJcbiAgICBDb21tb25VdGlsLlNldE9yZGVyID0gZnVuY3Rpb24gKGNvbHVtbklkLCBvcmRlciwgY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCA9PSBudWxsIHx8IGNvbHVtbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJldENvbDtcclxuICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgY29sLm9yZGVyID0gb3JkZXI7XHJcbiAgICAgICAgICAgICAgICByZXRDb2wgPSBjb2w7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Q29sO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21tb25VdGlsO1xyXG59KCkpO1xyXG5leHBvcnRzLkNvbW1vblV0aWwgPSBDb21tb25VdGlsO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwialF1ZXJ5XCIgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBHcmlkT3JkZXJEaXJlY3Rpb247XHJcbihmdW5jdGlvbiAoR3JpZE9yZGVyRGlyZWN0aW9uKSB7XHJcbiAgICBHcmlkT3JkZXJEaXJlY3Rpb25bXCJOb25lXCJdID0gXCJOb25lXCI7XHJcbiAgICBHcmlkT3JkZXJEaXJlY3Rpb25bXCJBc2NcIl0gPSBcIkFzY1wiO1xyXG4gICAgR3JpZE9yZGVyRGlyZWN0aW9uW1wiRGVzY1wiXSA9IFwiRGVzY1wiO1xyXG59KShHcmlkT3JkZXJEaXJlY3Rpb24gPSBleHBvcnRzLkdyaWRPcmRlckRpcmVjdGlvbiB8fCAoZXhwb3J0cy5HcmlkT3JkZXJEaXJlY3Rpb24gPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0cj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiZ3VpIHJ2LXBhcmVudFxcXCIgdmFsaWduPVxcXCJ0b3BcXFwiIGRhdGEtZmlsdGVyLXR5cGU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50eXBlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50eXBlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0eXBlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1maWx0ZXIta2V5PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGRhdGEtZmlsdGVyLXZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYWN0dWFsVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFjdHVhbFZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJhY3R1YWxWYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jb2x1bW5OYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5OYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5OYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZpbHRlcmFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtblZhbHVlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5WYWx1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sdW1uVmFsdWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtLWwtNSBydi1jaGlsZCBndWktY2FwdGlvblxcXCIgPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFkZCBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciBhZGRGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1taW51cyBob3ZlciBtLWwtNSBjdXJzb3ItcG9pbnRlciByZW1vdmVGaWx0ZXJcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KTtcblxuICByZXR1cm4gXCI8dHIgY2xhc3M9XFxcImd1aSBndWktaGlkZGVuIGRldGFpbHNSb3dcXFwiPlxcclxcbiAgICA8dGQgY29sc3Bhbj1cXFwiXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubGVuZ3RoIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sZW5ndGggOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImxlbmd0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgdmVyeSBjb21wYWN0IHNlbGVjdGFibGUgY2VsbGVkIHRhYmxlIGRldGFpbHNUYWJsZSBtLWwtMzcgcC01XFxcIiBzdHlsZT1cXFwid2lkdGg6IGF1dG87XFxcIiA+XFxyXFxuICAgICAgICAgICAgPHRib2R5PlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFpblJvd0NvbEFycmF5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICA8L3RhYmxlPlxcclxcbiAgICA8L3RkPlxcclxcbjwvdHI+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgPG9wdGlvbiBcIlxuICAgICsgYWxpYXMxKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9TZWxlY3RlZC50cyAqLyAyMykpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemUgOiBzdGFjazEpLGRlcHRoMCx7XCJuYW1lXCI6XCJTZWxlY3RlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvb3B0aW9uPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtcm9sZT1cXFwicGFnZXJcXFwiIGNsYXNzPVxcXCJndWkgbGVmdCBndWktc3ViaGVhZGluZy0yIGNvbC1tZC02IHRleHQtbGVmdCBtLTBcXFwiPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBmaXJzdExpbmtcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqLyAxKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBmaXJzdCBwYWdlXFxcIiB0aXRsZT1cXFwiR28gdG8gdGhlIGZpcnN0IHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiMVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tcHJldmlvdXNcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBwcmV2TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICovIDEpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJldlBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMgKi8gOCkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiLVwiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIFByZXZcXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgcGFnZXItaW5wdXQtY29udGFpbmVyIGlucHV0XFxcIj5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbS1yLTVcXFwiPiBQYWdlIDwvc3Bhbj5cXHJcXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0IHctMjUgcC0wIG0tci01XFxcIiBhcmlhLWxhYmVsPVxcXCIxXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIlBhZ2UgTnVtYmVyIC4uLlxcXCI+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwibm8tb2YtcGFnZXMtc2NhblxcXCIgZGF0YS1udW1iZXItb2YtcGFnZXM9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPiBvZiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PZlBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IG5leHRMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5uZXh0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIHRpdGxlPVxcXCJHbyB0byB0aGUgbmV4dCBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMgKi8gOCkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiK1wiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcclxcbiAgICAgICAgICAgIE5leHRcXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IGxhc3RMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIHRpdGxlPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09GcGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLW5leHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTYgZ3VpIGd1aS1zdWJoZWFkaW5nLTIgcmlnaHQgdGV4dC1yaWdodCBtLTBcXFwiPlxcclxcbiAgICA8c3Bhbj5Sb3dzIFBlciBQYWdlPC9zcGFuPlxcclxcbiAgICA8c2VsZWN0IGNsYXNzPVxcXCJndWkgcGFnZVNpemVTZWxlY3RvclxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZXMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvc2VsZWN0PlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC0xMFxcXCI+XCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1pbiA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRvdGFsQ291bnQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgaXRlbXM8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZSxcInVzZURlcHRoc1wiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWF0aCA9IGZ1bmN0aW9uIChsdmFsdWUsIG9wZXJhdG9yLCBydmFsdWUsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCIrXCI6IGx2YWx1ZSArIHJ2YWx1ZSxcclxuICAgICAgICBcIi1cIjogbHZhbHVlIC0gcnZhbHVlLFxyXG4gICAgICAgIFwiKlwiOiBsdmFsdWUgKiBydmFsdWUsXHJcbiAgICAgICAgXCIvXCI6IGx2YWx1ZSAvIHJ2YWx1ZSxcclxuICAgICAgICBcIiVcIjogbHZhbHVlICUgcnZhbHVlLFxyXG4gICAgfVtvcGVyYXRvcl07XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGg7XHJcblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9ncmlkLW1haW4tcm93LmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiPHRyIGNsYXNzPVxcXCJtYWluUm93XFxcIiBkYXRhLXBrLWF0dHI9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiID5cXHJcXG4gICAgPHRkIGNsYXNzPVxcXCJleHBhbnNpb25BcnJvd3NcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtcXFwiPlxcclxcbiAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLWRvd24gZXhwYW5kRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXJcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XFxyXFxuICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tdXAgQ29sbGFwc2VEZXRhaWxzUm93SWNvbiBjdXJzb3ItcG9pbnRlciBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPlxcclxcbiAgICA8L3RkPlxcclxcbiAgICA8dGQ+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGRhdGEtdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dEYXRhIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtleUNvbHVtbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcInNlbGVjdC1rZXktY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPlxcclxcbiAgICA8L3RkPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dDb2xBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RyPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93LmhicyAqLyA2KSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1kZXRhaWxzLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgPHRkIHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJib2R5LVwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5WYWx1ZSA6IGRlcHRoMCksIGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RkPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFpblJvd0FycmF5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZVBhcnRpYWxcIjp0cnVlLFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvbWFpbi9HcmlkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGpRdWVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGpxdWVyeSAqLyA0KTtcclxudmFyIENvbmZpZ1N0b3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcvQ29uZmlnU3RvcmUgKi8gMTEpO1xyXG52YXIgQ29sU2V0dGluZ3NIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudEhhbmRsZXJzL0NvbFNldHRpbmdzSGFuZGxlciAqLyAxMik7XHJcbnZhciBTZWxlY3RFdmVudEhhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyICovIDEzKTtcclxudmFyIFBhZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wYWdpbmF0aW9uL1BhZ2VyICovIDIpO1xyXG52YXIgRGV0YWlsc1Jvd0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlciAqLyAxNCk7XHJcbnZhciBGaWx0ZXJDbGlja0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIgKi8gMTUpO1xyXG52YXIgSGFuZGxlck5hbWVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzICovIDE3KTtcclxudmFyIEhlYWRlckNsaWNrSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlciAqLyAxOCk7XHJcbnZhciBQYWdlU2VhcmNoQ2xpY2tIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlciAqLyAxOSk7XHJcbnZhciBTY3JvbGxIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlciAqLyAyMCk7XHJcbnZhciBUb2dnbGVDb2x1bW5IYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvVG9nZ2xlQ29sdW1uSGFuZGxlciAqLyAyMSk7XHJcbnZhciBHcmlkVGVtcGxhdGVTZXJ2aWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UgKi8gMjIpO1xyXG52YXIgR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEdyaWQob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5iaW5kRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBwYWdpbmF0aW9uSW5wdXQpIHtcclxuICAgICAgICAgICAgdmFyIGZpcnN0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemUgKyBfdGhpcy5nZXRJbml0aWFsUm93Q291bnQoKTtcclxuICAgICAgICAgICAgbGFzdEluZGV4ID0gbGFzdEluZGV4ID49IGRhdGEubGVuZ3RoID8gZGF0YS5sZW5ndGggLSAxIDogbGFzdEluZGV4O1xyXG4gICAgICAgICAgICBQYWdlcl8xLlBhZ2VyLkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhKHBhZ2luYXRpb25JbnB1dCk7XHJcbiAgICAgICAgICAgIHZhciBncmlkQ29udGVudCA9IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0Rmlyc3RUZW1wbGF0ZShkYXRhLCBmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gZ3JpZENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmJpbmRNYW5hZ2VDb2x1bXMoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5tYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSGF2ZSB0byBiaW5kIFNjcm9sbCBIYW5kbGVyIEFmdGVyIERPTSBoYXMgYmVlbiBjcmVhdGVkXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXJfMS5TY3JvbGxIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLCBsYXN0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgc2Nyb2xsSGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBzY3JvbGxIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLlNjcm9sbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJpbmRNYW5hZ2VDb2x1bXMgPSBmdW5jdGlvbiAobWFuYWdlQ29sQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRNYW5hZ2VDb2x1bW5zSHRtbCgpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShtYW5hZ2VDb2xDb250YWluZXIgfHwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5tYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgfHwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgX3RoaXMudG9nZ2xlSGFuZGxlciA9IG5ldyBUb2dnbGVDb2x1bW5IYW5kbGVyXzEuVG9nZ2xlQ29sdW1uSGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgalF1ZXJ5KF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCkpO1xyXG4gICAgICAgICAgICB2YXIgbWFuYWdlQ29sSGFuZGxlciA9IG5ldyBDb2xTZXR0aW5nc0hhbmRsZXJfMS5Db2xTZXR0aW5nc0hhbmRsZXIoalF1ZXJ5KGVsZW1lbnQpLCBfdGhpcy5jb25maWdTdG9yZSwgX3RoaXMudG9nZ2xlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZChcIi5jb2wtc2V0dGluZ3MtY29udGFpbmVyXCIpLmh0bWwoaHRtbCk7XHJcbiAgICAgICAgICAgIG1hbmFnZUNvbEhhbmRsZXIuUmVnaXN0ZXJEb21IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBtYW5hZ2VDb2xIYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgbWFuYWdlQ29sSGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5hcHBseUNvbHVtbkNvbmZpZyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnRvZ2dsZUhhbmRsZXIuYXBwbHlDb2x1bW5Db25maWcoY29sdW1ucyk7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRNYW5hZ2VDb2x1bW5zSHRtbCgpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICB8fCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKS5odG1sKGh0bWwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRPcmRlciA9IGZ1bmN0aW9uIChvcmRlckJ5TGlzdCkge1xyXG4gICAgICAgICAgICBpZiAob3JkZXJCeUxpc3QgPT09IHVuZGVmaW5lZCB8fCBvcmRlckJ5TGlzdCA9PT0gbnVsbCB8fCBvcmRlckJ5TGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIG9yZGVyQnlMaXN0XzEgPSBvcmRlckJ5TGlzdDsgX2IgPCBvcmRlckJ5TGlzdF8xLmxlbmd0aDsgX2IrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9yZGVyQ29sID0gb3JkZXJCeUxpc3RfMVtfYl07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIF9kID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfZFtfY107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyQ29sLmNvbElkID09PSBjb2wuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLm9yZGVyID0gb3JkZXJDb2wub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRJbml0aWFsUm93Q291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKChqUXVlcnkod2luZG93KS5pbm5lckhlaWdodCgpICogMC42NSkgLyAzMik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkluaXRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBqUXVlcnkoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4gPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgRGV0YWlsc1Jvd0hhbmRsZXJfMS5EZXRhaWxzUm93SGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuRGV0YWlsc1JvdyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IEZpbHRlckNsaWNrSGFuZGxlcl8xLkZpbHRlckNsaWNrSGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuRmlsdGVyQWN0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgSGVhZGVyQ2xpY2tIYW5kbGVyXzEuSGVhZGVyQ2xpY2tIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5IZWFkZXJDbGljayxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IFBhZ2VTZWFyY2hDbGlja0hhbmRsZXJfMS5QYWdlU2VhcmNoSGFuZGxlcihfdGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuUGFnZVNlYXJjaCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBwYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBTZWxlY3RFdmVudEhhbmRsZXJfMS5TZWxlY3RFdmVudEhhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQsIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkNvbFNldHRpbmdzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmhhbmRsZXIuUmVnaXN0ZXJEb21IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBqUXVlcnkod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZV8xLkNvbmZpZ1N0b3JlKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IG5ldyBHcmlkVGVtcGxhdGVTZXJ2aWNlXzEuR3JpZFRlbXBsYXRlU2VydmljZSh0aGlzLmNvbmZpZ1N0b3JlKTtcclxuICAgICAgICB0aGlzLkluaXRIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEdyaWQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuR3JpZCA9IEdyaWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb25maWcvQ29uZmlnU3RvcmUudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29uZmlnU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb25maWdTdG9yZShvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmRlZmF1bHRHcmlkT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uVGltZTogMjAwLFxyXG4gICAgICAgICAgICBjaHVua1NpemU6IDUsXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxyXG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50OiBudWxsLFxyXG4gICAgICAgICAgICBtYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgaHlicmlkRnVuY3Rpb246IGZ1bmN0aW9uIChjb2x1bW4sIHJvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlDb2x1bW46IFwiXCIsXHJcbiAgICAgICAgICAgIG9uQ29sU2V0dGluZ3NDaGFuZ2U6IGZ1bmN0aW9uIChjb2xDb25maWcpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIENvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGlja0ZpbHRlcjogZnVuY3Rpb24gKGNvbHVtbiwgdmFsdWUsIGFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGlja0hlYWRlcjogZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uUGFnZVNlYXJjaDogZnVuY3Rpb24gKHBhZ2VTaXplLCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBDb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlNldEhpZGRlbk9uQ29uZmlnID0gZnVuY3Rpb24gKGJvb2wsIGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5PcHRpb25zLmNvbHVtbnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbklkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2wuaGlkZGVuID0gYm9vbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kT3B0aW9ucyA9IGZ1bmN0aW9uIChpbnB1dE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wdGlvbnMgPSBqUXVlcnkuZXh0ZW5kKHt9LCBfdGhpcy5kZWZhdWx0R3JpZE9wdGlvbnMsIGlucHV0T3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmV4dGVuZE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGFpbmVyRWxlbWVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgUHJvdmlkZSBhIHZhbGlkIGNvbnRhaW5lciBFbGVtZW50IG9iamVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uZmlnU3RvcmUucHJvdG90eXBlLCBcIk9wdGlvbnNcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENvbmZpZ1N0b3JlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNvbmZpZ1N0b3JlID0gQ29uZmlnU3RvcmU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvQ29sU2V0dGluZ3NIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29sU2V0dGluZ3NIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29sU2V0dGluZ3NIYW5kbGVyKGVsZW1lbnQsIGNvbmZpZ1N0b3JlLCB0b2dnbGVDb2x1bW5IYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyID0gdG9nZ2xlQ29sdW1uSGFuZGxlcjtcclxuICAgIH1cclxuICAgIENvbFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc3Qgc2V0dG5nc1BvcHVwID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKTtcclxuICAgICAgICAvLyBjb25zdCB0Ym9keUhlaWdodCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICAvLyBzZXR0bmdzUG9wdXAuaW5uZXJIZWlnaHQodGJvZHlIZWlnaHQgLSAxMCk7XHJcbiAgICAgICAgLy8gc2V0dG5nc1BvcHVwLmZpbmQoXCIuY29sLXNldHRpbmdzLXRhYmxlXCIpLmlubmVySGVpZ2h0KHNldHRuZ3NQb3B1cC5pbm5lckhlaWdodCgpIC1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0bmdzUG9wdXAuZmluZChcIi5jb2wtc2V0dGluZ3MtaGVhZGVyXCIpLmlubmVySGVpZ2h0KCkpO1xyXG4gICAgfTtcclxuICAgIENvbFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5pcyhcIi5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0RWxlbWVudC5wYXJlbnRzKCkuaXMoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKSkge1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIuY29sLXNldHRpbmdzLXRyaWdnZXJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGpRdWVyeShcIi5jb2wtc2V0dGluZ3MtY29udGFpbmVyXCIpLnNsaWRlVXAodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb2xTZXR0aW5nc0hhbmRsZXIucHJvdG90eXBlLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmNvbC1zZXR0aW5ncy10cmlnZ2VyXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgc2V0dG5nc1BvcHVwID0gX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIik7XHJcbiAgICAgICAgICAgIF90aGlzLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgIGpRdWVyeShcIi5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgc2V0dG5nc1BvcHVwLnNsaWRlVG9nZ2xlKF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXVwXCIsIFwiLmNvbC1zZXR0aW5ncy1oZWFkZXIgLmNvbC1zZXR0aW5ncy1maWx0ZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsKTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy10YWJsZSB0YWJsZSB0Ym9keSB0clwiKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZSkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGpRdWVyeShlKS5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGUpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnNob3ctYWxsLWNvbHVtblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIilcclxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KGVsZW1lbnQpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5zaG93QWxsQ29sdW1ucygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ29sU2V0dGluZ3NDaGFuZ2UoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuaGlkZS1hbGwtY29sdW1uXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveFwiKVxyXG4gICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZWxlbWVudCkucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5oaWRlQWxsQ29sdW1ucygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ29sU2V0dGluZ3NDaGFuZ2UoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrYm94ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBjaGVja2JveC52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94LmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLnNob3dDb2x1bW4oaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5oaWRlQ29sdW1uKGlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ29sU2V0dGluZ3NDaGFuZ2UoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbFNldHRpbmdzSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5Db2xTZXR0aW5nc0hhbmRsZXIgPSBDb2xTZXR0aW5nc0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VsZWN0RXZlbnRIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0RXZlbnRIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50LCBncmlkVGVtcGxhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgIH1cclxuICAgIFNlbGVjdEV2ZW50SGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1rZXktY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBlbGVtZW50LmRhdGEoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlbGVtZW50LmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50cyhcIi5tYWluUm93XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KFtyb3ddLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1hbGwtY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YSwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5zZWxlY3Qta2V5LWNoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZSAubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5tYWluVGFibGUgLm1haW5Sb3dcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0RXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBJZ25vcmVcclxuICAgIH07XHJcbiAgICBTZWxlY3RFdmVudEhhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWxlY3RFdmVudEhhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU2VsZWN0RXZlbnRIYW5kbGVyID0gU2VsZWN0RXZlbnRIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIERldGFpbHNSb3dIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGV0YWlsc1Jvd0hhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmV4cGFuc2lvbkFycm93cyBpXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycm93ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGV0YWlsc1JvdyA9IGFycm93LmNsb3Nlc3QoXCJ0clwiKS5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEljb24gPSBhcnJvdy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJJY29uID0gYXJyb3cuc2libGluZ3MoXCJpXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJvdy5oYXNDbGFzcyhcImV4cGFuZERldGFpbHNSb3dJY29uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zbGlkZURvd24oX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5hbmltYXRpb25UaW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHNSb3cuc2xpZGVVcChfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIERldGFpbHNSb3dIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIERldGFpbHNSb3dIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIHJldHVybiBEZXRhaWxzUm93SGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5EZXRhaWxzUm93SGFuZGxlciA9IERldGFpbHNSb3dIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0ZpbHRlckNsaWNrSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbHVtblV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvQ29sdW1uVXRpbCAqLyAzKTtcclxudmFyIEZpbHRlckFjdGlvblR5cGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vbW9kZWxzL0ZpbHRlckFjdGlvblR5cGUgKi8gMTYpO1xyXG52YXIgRmlsdGVyQ2xpY2tIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmlsdGVyQ2xpY2tIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmRldGFpbHNSb3cgLmRldGFpbHNUYWJsZSB0ZCBpXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRUZCA9IGVsZW1lbnQucGFyZW50cyhcInRkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci1rZXlcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnRUZC5hdHRyKFwiZGF0YS1maWx0ZXItdmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci10eXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChrZXksIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuZmlsdGVyYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5BZGQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcyhcInJlbW92ZUZpbHRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckFjdGlvbiA9IEZpbHRlckFjdGlvblR5cGVfMS5GaWx0ZXJBY3Rpb25UeXBlLk1pbnVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNsaWNrRmlsdGVyKGtleSwgdmFsdWUsIGZpbHRlckFjdGlvbiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIEZpbHRlckNsaWNrSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICBGaWx0ZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZpbHRlckNsaWNrSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5GaWx0ZXJDbGlja0hhbmRsZXIgPSBGaWx0ZXJDbGlja0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRmlsdGVyQWN0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChGaWx0ZXJBY3Rpb25UeXBlKSB7XHJcbiAgICBGaWx0ZXJBY3Rpb25UeXBlW1wiQWRkXCJdID0gXCJBZGRcIjtcclxuICAgIEZpbHRlckFjdGlvblR5cGVbXCJNaW51c1wiXSA9IFwiTWludXNcIjtcclxufSkoRmlsdGVyQWN0aW9uVHlwZSA9IGV4cG9ydHMuRmlsdGVyQWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5GaWx0ZXJBY3Rpb25UeXBlID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBIYW5kbGVyTmFtZXM7XHJcbihmdW5jdGlvbiAoSGFuZGxlck5hbWVzKSB7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiRmlsdGVyQWN0aW9uXCJdID0gMF0gPSBcIkZpbHRlckFjdGlvblwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkhlYWRlckNsaWNrXCJdID0gMV0gPSBcIkhlYWRlckNsaWNrXCI7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiU2Nyb2xsXCJdID0gMl0gPSBcIlNjcm9sbFwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlBhZ2VTZWFyY2hcIl0gPSAzXSA9IFwiUGFnZVNlYXJjaFwiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkRldGFpbHNSb3dcIl0gPSA0XSA9IFwiRGV0YWlsc1Jvd1wiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlRvZ2dsZUNvbHVtblwiXSA9IDVdID0gXCJUb2dnbGVDb2x1bW5cIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJDb2xTZXR0aW5nc1wiXSA9IDZdID0gXCJDb2xTZXR0aW5nc1wiO1xyXG59KShIYW5kbGVyTmFtZXMgPSBleHBvcnRzLkhhbmRsZXJOYW1lcyB8fCAoZXhwb3J0cy5IYW5kbGVyTmFtZXMgPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbHVtblV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwvQ29sdW1uVXRpbCAqLyAzKTtcclxudmFyIEdyaWRPcmRlckRpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uICovIDUpO1xyXG52YXIgSGVhZGVyQ2xpY2tIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSGVhZGVyQ2xpY2tIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJJZCA9IGVsZW1lbnQuYXR0cihcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChoZWFkZXJJZCwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2wgPT09IHVuZGVmaW5lZCB8fCBjb2wgPT09IG51bGwgfHwgIWNvbC5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhcnJvd0ljb25zID0gZWxlbWVudC5maW5kKFwiaVwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cEFycm93SWNvbiA9IGFycm93SWNvbnMuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkb3duQXJyb3dJY29uID0gYXJyb3dJY29ucy5sYXN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycm93SWNvbnMuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cEFycm93SWNvbi5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5EZXNjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwQXJyb3dJY29uLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb25fMS5HcmlkT3JkZXJEaXJlY3Rpb24uQXNjO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwQXJyb3dJY29uLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIENvbHVtblV0aWxfMS5Db21tb25VdGlsLlNldE9yZGVyKGhlYWRlcklkLCBkaXJlY3Rpb24sIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ2xpY2tIZWFkZXIoaGVhZGVySWQsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIEhlYWRlckNsaWNrSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICBIZWFkZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhlYWRlckNsaWNrSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5IZWFkZXJDbGlja0hhbmRsZXIgPSBIZWFkZXJDbGlja0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgalF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganF1ZXJ5ICovIDQpO1xyXG52YXIgUGFnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3BhZ2luYXRpb24vUGFnZXIgKi8gMik7XHJcbnZhciBQYWdlU2VhcmNoSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2VTZWFyY2hIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyRG9tSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAuZmlyc3RMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgMSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLm5leHRMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAucHJldkxpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5sYXN0TGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VTaXplU2VsZWN0b3JcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gK2pRdWVyeShldmVudC50YXJnZXQpLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaCh2YWwsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImtleXByZXNzXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZXItaW5wdXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXAgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlRGF0YSA9IFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gK2lwLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsID4gcGFnZURhdGEubm9PZlBhZ2VzIHx8IHZhbCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXAudmFsKHBhZ2VEYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChwYWdlRGF0YS5wYWdlU2l6ZSwgdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIFBhZ2VTZWFyY2hIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICBQYWdlU2VhcmNoSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQYWdlU2VhcmNoSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5QYWdlU2VhcmNoSGFuZGxlciA9IFBhZ2VTZWFyY2hIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TY3JvbGxIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFNjcm9sbEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTY3JvbGxIYW5kbGVyKGNvbmZpZ1N0b3JlLCBncmlkVGVtcGxhdGVTZXJ2aWNlLCBjdXJyZW50SW5kZXgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyaW5nIEpRdWVyeSBFdmVudCBIYW5kbGVyIGlmIEhlYWRlciBpcyBDbGlja2VkLlxyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LnJlc2l6ZShmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmxlZnRPZmZzZXQgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0Qm9keU9iaiA9IF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmxlZnRPZmZzZXQgPT09IHVuZGVmaW5lZCB8fCBfdGhpcy5sZWZ0T2Zmc2V0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGVmdE9mZnNldCA9IF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBfdGhpcy5sZWZ0T2Zmc2V0ICsgLTEgKiB0Qm9keU9iai5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0dWFsVGFibGVIZWlnaHQgPSB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZVwiKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxDb250YWluZXJIZWlnaHQgPSB0Qm9keU9iai5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVuZGVyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRCb2R5T2JqLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChzY3JvbGxDb250YWluZXJIZWlnaHQgKyBzY3JvbGxUb3ApIC0gKGFjdHVhbFRhYmxlSGVpZ2h0ICogMC44KSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudEluZGV4ID49IF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RJbmRleCA9IF90aGlzLmN1cnJlbnRJbmRleCArIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPiBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGpRdWVyeShfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLmdldFRlbXBsYXRlKF90aGlzLmN1cnJlbnRJbmRleCwgbGFzdEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVCb2R5XCIpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50SW5kZXggPSBsYXN0SW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmRleDtcclxuICAgIH1cclxuICAgIFNjcm9sbEhhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubGVmdE9mZnNldCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgfTtcclxuICAgIFNjcm9sbEhhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5yZXNpemUoZnVuY3Rpb24gKHJlc2l6ZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmxlZnRPZmZzZXQgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNjcm9sbEhhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU2Nyb2xsSGFuZGxlciA9IFNjcm9sbEhhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1RvZ2dsZUNvbHVtbkhhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29sdW1uVXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi91dGlsL0NvbHVtblV0aWwgKi8gMyk7XHJcbnZhciBTaG93SGlkZTtcclxuKGZ1bmN0aW9uIChTaG93SGlkZSkge1xyXG4gICAgU2hvd0hpZGVbU2hvd0hpZGVbXCJTaG93XCJdID0gMF0gPSBcIlNob3dcIjtcclxuICAgIFNob3dIaWRlW1Nob3dIaWRlW1wiSGlkZVwiXSA9IDFdID0gXCJIaWRlXCI7XHJcbiAgICBTaG93SGlkZVtTaG93SGlkZVtcIlNob3dBbGxcIl0gPSAyXSA9IFwiU2hvd0FsbFwiO1xyXG4gICAgU2hvd0hpZGVbU2hvd0hpZGVbXCJIaWRlQWxsXCJdID0gM10gPSBcIkhpZGVBbGxcIjtcclxufSkoU2hvd0hpZGUgfHwgKFNob3dIaWRlID0ge30pKTtcclxudmFyIFRvZ2dsZUNvbHVtbkhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUb2dnbGVDb2x1bW5IYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNob3dBbGxDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93QWxsKTtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93QWxsKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuU2V0SGlkZGVuT25Db25maWcoZmFsc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zaG93Q29sdW1uID0gZnVuY3Rpb24gKGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgIF90aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWhlYWRlciAuaGVhZGVyQ29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3csIGNvbHVtbklkKTtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93LCBjb2x1bW5JZCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKGZhbHNlLCBjb2x1bW5JZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhpZGVDb2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtaGVhZGVyIC5oZWFkZXJDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZSwgY29sdW1uSWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1ib2R5IC5ib2R5Q29sR3JvdXAgY29sXCIsIFNob3dIaWRlLkhpZGUsIGNvbHVtbklkKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuU2V0SGlkZGVuT25Db25maWcodHJ1ZSwgY29sdW1uSWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oaWRlQWxsQ29sdW1ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtaGVhZGVyIC5oZWFkZXJDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZUFsbCk7XHJcbiAgICAgICAgICAgIF90aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWJvZHkgLmJvZHlDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZUFsbCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKHRydWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5hcHBseUNvbHVtbkNvbmZpZyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY29sdW1uc18xID0gY29sdW1uczsgX2kgPCBjb2x1bW5zXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gY29sdW1uc18xW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZUNvbHVtbihjb2x1bW4uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0NvbHVtbihjb2x1bW4uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250cm9sLCBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2xFbGVtID0galF1ZXJ5KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2wgPSBjdXJyZW50Q29sRWxlbS5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoW1Nob3dIaWRlLlNob3csIFNob3dIaWRlLkhpZGVdLmluZGV4T2YoY29udHJvbCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sID09PSBTaG93SGlkZS5TaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sID0gQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGN1cnJlbnRDb2wsIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sRWxlbS53aWR0aCh3aWR0aCArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFtTaG93SGlkZS5TaG93QWxsLCBTaG93SGlkZS5IaWRlQWxsXS5pbmRleE9mKGNvbnRyb2wpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2wgPT09IFNob3dIaWRlLlNob3dBbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChjdXJyZW50Q29sLCBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbEVsZW0ud2lkdGgod2lkdGggKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBUb2dnbGVDb2x1bW5IYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLlRvZ2dsZUNvbHVtbkhhbmRsZXIgPSBUb2dnbGVDb2x1bW5IYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEdyaWREZXRhaWxzUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKi8gNik7XHJcbnZhciBHcmlkRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtZm9vdGVyLmhicyAqLyA3KTtcclxudmFyIEdyaWRNYWluUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1tYWluLXJvdy5oYnMgKi8gOSk7XHJcbnZhciBNYW5hZ2VDb2x1bW5UZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhicyAqLyAyNCk7XHJcbnZhciBHcmlkVGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC5oYnMgKi8gMjYpO1xyXG52YXIgUGFnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3BhZ2luYXRpb24vUGFnZXIgKi8gMik7XHJcbnZhciBHcmlkVGVtcGxhdGVTZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gR3JpZFRlbXBsYXRlU2VydmljZShjb25maWdTdG9yZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5HZXRGaXJzdFRlbXBsYXRlID0gZnVuY3Rpb24gKGRhdGEsIGZpcnN0SW5kZXgsIGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICBfdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgdmFyIG1haW5Sb3dBcnJheSA9IF90aGlzLkdldFJvd3NIdG1sKGZpcnN0SW5kZXgsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCh7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMsXHJcbiAgICAgICAgICAgICAgICBtYWluUm93QXJyYXk6IG1haW5Sb3dBcnJheSxcclxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhOiBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoZmlyc3RJbmRleCwgbGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93QXJyYXkgPSBfdGhpcy5HZXRSb3dzSHRtbChmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coe1xyXG4gICAgICAgICAgICAgICAgY29sdW1uczogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgbWFpblJvd0FycmF5OiBtYWluUm93QXJyYXksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5HZXRNYW5hZ2VDb2x1bW5zSHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2woeyBjb2x1bW5zOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkdldFJvd3NIdG1sID0gZnVuY3Rpb24gKGZpcnN0SW5kZXgsIGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbWFpblJvd0FycmF5ID0gW107XHJcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW5kZXg7IGkgPD0gbGFzdEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3cgPSBfdGhpcy5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1haW5Sb3dDb2xBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5WYWx1ZSA9IHJvd1tjb2wuaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wucmVuZGVySHlicmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtblZhbHVlID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5oeWJyaWRGdW5jdGlvbihjb2wsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uVmFsdWU6IGNvbHVtblZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb2wudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2wuaGlkZGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZTogcm93W2NvbC5pZF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGNvbC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY29sLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJhYmxlOiBjb2wuZmlsdGVyYWJsZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1haW5Sb3dBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBKU09OLnN0cmluZ2lmeShyb3cpLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleUNvbHVtbjogcm93W190aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMua2V5Q29sdW1uXSxcclxuICAgICAgICAgICAgICAgICAgICBtYWluUm93Q29sQXJyYXk6IG1haW5Sb3dDb2xBcnJheSxcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFpblJvd0FycmF5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQgPSBHcmlkVGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyA9IEdyaWRNYWluUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyA9IEdyaWREZXRhaWxzUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyID0gR3JpZEZvb3RlcjtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2wgPSBNYW5hZ2VDb2x1bW5UZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJEYXRhXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkVGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJEYXRhTGVuZ3RoXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gR3JpZFRlbXBsYXRlU2VydmljZTtcclxufSgpKTtcclxuZXhwb3J0cy5HcmlkVGVtcGxhdGVTZXJ2aWNlID0gR3JpZFRlbXBsYXRlU2VydmljZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvU2VsZWN0ZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWxlY3RlZCA9IGZ1bmN0aW9uIChpbnB1dCwgdmFsdWUpIHtcclxuICAgIHJldHVybiBpbnB1dCA9PT0gdmFsdWUgPyBcInNlbGVjdGVkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBzZWxlY3RlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3ggZ3VpIG0tci0xMFxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyAqLyAyNSkpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaGlkZGVuIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJDaGVja2VkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJndWkgb2YtaGlkZGVuIHAtMTAgbWluLXctNTAgdy1hdXRvIGZsdWlkLWggZmxleCBjb2x1bW4gY29udGFpbmVyXFxcIiA+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oZWFkZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSBmbHVpZCBpY29uIGlucHV0XFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1maWx0ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJTZWFyY2ggZmlsdGVyLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwic2VhcmNoIGljb25cXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG0tdC0xMFxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBsZWZ0IHNob3ctYWxsLWNvbHVtblxcXCI+U2hvdyBBbGw8L2E+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSByaWdodCBoaWRlLWFsbC1jb2x1bW5cXFwiPkhpZGUgQWxsPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgY2xlYXJcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLXRhYmxlIGd1aSBmbHVpZCBoLTkwIG9mLWF1dG8gcC01IG0tdC0xMFxcXCIgPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgc21hbGwgdmVyeSBib3JkZXItbGVzcyBiYXNpYyBjb21wYWN0IHRhYmxlXFxcIj5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNoZWNrZWQgPSBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgcmV0dXJuICFib29sID8gXCJjaGVja2VkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja2VkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMgKi8gMjcpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcIkNvbHVtblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVxcXCJndWkgY3Vyc29yLXBvaW50ZXJcXFwiIGlkPVxcXCJoZWFkZXItXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3J0YWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cXG5cIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMgKi8gMjgpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm9yZGVyIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJPcmRlcmVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiPHN0eWxlPlxcbiAgICAuaW5uZXItY29udGFpbmVyIHtcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICB9XFxuXFxuICAgIC50YWJsZS1oZWFkZXIge1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgdG9wOjAgIWltcG9ydGFudDtcXG4gICAgfVxcblxcbiAgICAudGFibGUtYm9keSB7XFxuICAgICAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgICAgIGZsZXg6IDU7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlcntcXG4gICAgICAgIGhlaWdodDogMzVweDtcXG4gICAgICAgIHBhZGRpbmc6IDVweDtcXG4gICAgfVxcbiAgICAudGFibGUtZm9vdGVyIC5mb290ZXItbWlkZGxle1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgfVxcbiAgICAudGFibGUtZm9vdGVyIC5mb290ZXItcmlnaHR7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICB9XFxuICAgIC5tYXJnaW4tYXV0b3tcXG4gICAgICAgIG1hcmdpbjogYXV0byAhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIC5yZW1vdmUtbGFiZWw6aG92ZXJ7XFxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgfVxcbiAgICAuYm9yZGVyLWxlc3MgdHIgdGQsLmJvcmRlci1sZXNzIHsgYm9yZGVyOiAwcHggIWltcG9ydGFudDsgfVxcbiAgICAuY3Vyc29yLXBvaW50ZXJ7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLnVpLnN1cGVyY29tcGFjdC5pY29uLmJ1dHRvbiwgLnVpLnN1cGVyY29tcGFjdC5pY29uLmJ1dHRvbnMgLmJ1dHRvbiB7XFxuICAgICAgICBwYWRkaW5nOiAuM2VtIC4zZW0gLjNlbSAuM2VtICFpbXBvcnRhbnQ7XFxuICAgIH1cXG48L3N0eWxlPlxcbjxkaXYgY2xhc3M9XFxcImlubmVyLWNvbnRhaW5lciBndWkgZmx1aWQgY29udGFpbmVyXFxcIiBzdHlsZT1cXFwicGFkZGluZzowJTtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1oZWFkZXJcXFwiPlxcbiAgICAgICAgPHRhYmxlIGlkPVxcXCJoZWFkZXJ0YWJsZVxcXCIgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IHNvcnRhYmxlIGZpeGVkIHNpbmdsZSBsaW5lIHRhYmxlXFxcIj5cXG4gICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImhlYWRlckNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2NvbGdyb3VwPlxcbiAgICAgICAgICAgIDx0aGVhZD5cXG4gICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoPjwvdGg+XFxuICAgICAgICAgICAgICAgICAgICA8dGg+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwic2VsZWN0LWFsbC1jaGVja2JveCBjdXJzb3ItcG9pbnRlclxcXCI+PC90aD5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1ib2R5XFxcIj5cXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIGJhc2ljIGxhcmdlIGNvbXBhY3QgZml4ZWQgc2VsZWN0YWJsZSBzaW5nbGUgbGluZSB0YWJsZSBtYWluVGFibGVcXFwiPlxcbiAgICAgICAgICAgIDxjb2xncm91cCBjbGFzcz1cXFwiYm9keUNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+IFxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXG4gICAgICAgICAgICA8dGJvZHkgY2xhc3M9XFxcIm1haW5UYWJsZUJvZHlcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9ncmlkLW1haW4tcm93LmhicyAqLyA5KSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1tYWluLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1mb290ZXIgZ3VpIGgtYXV0byBmbHVpZC13IGJhc2ljIGN1cnZlZCByb3cgcC01IG0tMFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhicyAqLyA3KSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1mb290ZXJcIixcImRhdGFcIjpkYXRhLFwiaW5kZW50XCI6XCIgICAgICAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9kaXY+XFxuPC9kaXY+XCI7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29sdW1uID0gZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgdmFyIGNhbGNXaWR0aCA9IGNvbC5oaWRkZW4gPyAwIDogY29sLndpZHRoO1xyXG4gICAgdmFyIGRhdGFBdHRySWQgPSAnZGF0YS1oZWFkZXItaWQ9XCInICsgY29sLmlkICsgJ1wiJztcclxuICAgIHJldHVybiAnPGNvbCBzdHlsZT1cIndpZHRoIDogJyArIGNhbGNXaWR0aCArICdweDtcIicgKyBkYXRhQXR0cklkICsgXCIgLz5cIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQ29sdW1uO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEdyaWRPcmRlckRpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbiAqLyA1KTtcclxudmFyIG9yZGVyZWQgPSBmdW5jdGlvbiAob3JkZXIpIHtcclxuICAgIGlmIChvcmRlciA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uXzEuR3JpZE9yZGVyRGlyZWN0aW9uLkFzYykge1xyXG4gICAgICAgIHJldHVybiBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXBcXFwiID48L2k+IFwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3JkZXIgPT09IEdyaWRPcmRlckRpcmVjdGlvbl8xLkdyaWRPcmRlckRpcmVjdGlvbi5EZXNjKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duXFxcIiA+PC9pPiBcIjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXAgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd24gZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+XCI7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG9yZGVyZWQ7XHJcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gZ3JpZG9vLm1pbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAyNDM3OTI1MmE2MzQzZTBlZGRlNSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9XG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgZGlzYWJsZWQgPSAoYm9vbDogYm9vbGVhbik6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gYm9vbCA/IFwiZGlzYWJsZWRcIiA6IFwiXCI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkaXNhYmxlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsImltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBJUGFnaW5hdGlvbklucHV0IH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvbklucHV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFnaW5hdGlvbkRhdGE6IElQYWdpbmF0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEgPSAocGFnaW5hdGlvbklucHV0OiBJUGFnaW5hdGlvbklucHV0KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRpb25EYXRhOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleDtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZVNpemUgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemU7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplcyA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZXM7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnRvdGFsQ291bnQgPSBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudDtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID0gTWF0aC5jZWlsKHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IC8gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgbWluTnVtID0gKChwYWdpbmF0aW9uSW5wdXQucGFnZUluZGV4IC0gMSkgKiBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUpO1xyXG4gICAgICAgICAgICBjb25zdCBsb3dlckxpbWl0T2Zmc2V0ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplID4gcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5yYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgIG1pbiA6IG1pbk51bSArIDEsXHJcbiAgICAgICAgICAgICAgICBtYXggOiBtaW5OdW0gKyBsb3dlckxpbWl0T2Zmc2V0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDEgfHwgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSAxO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5sYXN0UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyk7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnByZXZQYWdlTGlua0Rpc2FibGVkICA9IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCAtIDEpIDw9IDA7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLm5leHRQYWdlTGlua0Rpc2FibGVkICA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ICsgMSkgPj0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzO1xyXG4gICAgICAgICAgICBQYWdlci5wYWdpbmF0aW9uRGF0YSA9IHBhZ2luYXRpb25EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFBhZ2luYXRpb25EYXRhKCk6IElQYWdpbmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gUGFnZXIucGFnaW5hdGlvbkRhdGE7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzIiwiaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9HcmlkT3JkZXJEaXJlY3Rpb25cIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbW9uVXRpbCB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRDb2x1bW5PYmplY3QgPSAoY29sdW1uSWQ6IHN0cmluZywgY29sdW1uczogSUNvbHVtbltdKTogSUNvbHVtbiA9PiB7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkID09IG51bGwgfHwgY29sdW1ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmV0Q29sOiBJQ29sdW1uO1xyXG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sOiBJQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXRDb2wgPSBjb2w7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Q29sO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBTZXRPcmRlciA9IChjb2x1bW5JZDogc3RyaW5nLCBvcmRlcjogR3JpZE9yZGVyRGlyZWN0aW9uLCBjb2x1bW5zOiBJQ29sdW1uW10pOiBJQ29sdW1uID0+IHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXRDb2w6IElDb2x1bW47XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2w6IElDb2x1bW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlciA9IG9yZGVyO1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL3V0aWwvQ29sdW1uVXRpbC50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJqUXVlcnlcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImV4cG9ydCBlbnVtIEdyaWRPcmRlckRpcmVjdGlvbiB7XHJcbiAgICBOb25lID0gXCJOb25lXCIsXHJcbiAgICBBc2MgPSBcIkFzY1wiLFxyXG4gICAgRGVzYyA9IFwiRGVzY1wiLFxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvbi50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHRyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJndWkgcnYtcGFyZW50XFxcIiB2YWxpZ249XFxcInRvcFxcXCIgZGF0YS1maWx0ZXItdHlwZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnR5cGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnR5cGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInR5cGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBkYXRhLWZpbHRlci1rZXk9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1maWx0ZXItdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hY3R1YWxWYWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImFjdHVhbFZhbHVlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtbk5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbk5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbHVtbk5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlsdGVyYWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29sdW1uVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5WYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPC90cj5cXHJcXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC01IHJ2LWNoaWxkIGd1aS1jYXB0aW9uXFxcIiA+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYWRkIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIGFkZEZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLW1pbnVzIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIHJlbW92ZUZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz1cXFwiZ3VpIGd1aS1oaWRkZW4gZGV0YWlsc1Jvd1xcXCI+XFxyXFxuICAgIDx0ZCBjb2xzcGFuPVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5sZW5ndGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxlbmd0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVuZ3RoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSB2ZXJ5IGNvbXBhY3Qgc2VsZWN0YWJsZSBjZWxsZWQgdGFibGUgZGV0YWlsc1RhYmxlIG0tbC0zNyBwLTVcXFwiIHN0eWxlPVxcXCJ3aWR0aDogYXV0bztcXFwiID5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93Lmhic1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8b3B0aW9uIFwiXG4gICAgKyBhbGlhczEoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcU2VsZWN0ZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemUgOiBzdGFjazEpLGRlcHRoMCx7XCJuYW1lXCI6XCJTZWxlY3RlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvb3B0aW9uPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtcm9sZT1cXFwicGFnZXJcXFwiIGNsYXNzPVxcXCJndWkgbGVmdCBndWktc3ViaGVhZGluZy0yIGNvbC1tZC02IHRleHQtbGVmdCBtLTBcXFwiPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBmaXJzdExpbmtcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXERpc2FibGVkLnRzXCIpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZmlyc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIGZpcnN0IHBhZ2VcXFwiIHRpdGxlPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgZGF0YS1wYWdlPVxcXCIxXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1wcmV2aW91c1xcXCI+PC9pPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IHByZXZMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnByZXZQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcXFwiIHRpdGxlPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXG1hdGgudHNcIikpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiLVwiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIFByZXZcXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgcGFnZXItaW5wdXQtY29udGFpbmVyIGlucHV0XFxcIj5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbS1yLTVcXFwiPiBQYWdlIDwvc3Bhbj5cXHJcXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0IHctMjUgcC0wIG0tci01XFxcIiBhcmlhLWxhYmVsPVxcXCIxXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIlBhZ2UgTnVtYmVyIC4uLlxcXCI+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwibm8tb2YtcGFnZXMtc2NhblxcXCIgZGF0YS1udW1iZXItb2YtcGFnZXM9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPiBvZiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PZlBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IG5leHRMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5leHRQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxtYXRoLnRzXCIpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIitcIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXHJcXG4gICAgICAgICAgICBOZXh0XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBsYXN0TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcRGlzYWJsZWQudHNcIikpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYXN0UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIHRpdGxlPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09GcGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLW5leHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTYgZ3VpIGd1aS1zdWJoZWFkaW5nLTIgcmlnaHQgdGV4dC1yaWdodCBtLTBcXFwiPlxcclxcbiAgICA8c3Bhbj5Sb3dzIFBlciBQYWdlPC9zcGFuPlxcclxcbiAgICA8c2VsZWN0IGNsYXNzPVxcXCJndWkgcGFnZVNpemVTZWxlY3RvclxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZXMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvc2VsZWN0PlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC0xMFxcXCI+XCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1pbiA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRvdGFsQ291bnQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgaXRlbXM8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZSxcInVzZURlcHRoc1wiOnRydWV9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgbWF0aCA9IChsdmFsdWU6IG51bWJlciwgb3BlcmF0b3I6IHN0cmluZywgcnZhbHVlOiBudW1iZXIsIG9wdGlvbnMpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBcIitcIjogbHZhbHVlICsgcnZhbHVlLFxyXG4gICAgICAgIFwiLVwiOiBsdmFsdWUgLSBydmFsdWUsXHJcbiAgICAgICAgXCIqXCI6IGx2YWx1ZSAqIHJ2YWx1ZSxcclxuICAgICAgICBcIi9cIjogbHZhbHVlIC8gcnZhbHVlLFxyXG4gICAgICAgIFwiJVwiOiBsdmFsdWUgJSBydmFsdWUsXHJcbiAgICB9W29wZXJhdG9yXTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1hdGg7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiPHRyIGNsYXNzPVxcXCJtYWluUm93XFxcIiBkYXRhLXBrLWF0dHI9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiID5cXHJcXG4gICAgPHRkIGNsYXNzPVxcXCJleHBhbnNpb25BcnJvd3NcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtcXFwiPlxcclxcbiAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLWRvd24gZXhwYW5kRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXJcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XFxyXFxuICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tdXAgQ29sbGFwc2VEZXRhaWxzUm93SWNvbiBjdXJzb3ItcG9pbnRlciBndWktaGlkZGVuXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPlxcclxcbiAgICA8L3RkPlxcclxcbiAgICA8dGQ+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGRhdGEtdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yb3dEYXRhIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtleUNvbHVtbiA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcInNlbGVjdC1rZXktY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPlxcclxcbiAgICA8L3RkPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dDb2xBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3RyPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGdyaWQtZGV0YWlscy1yb3cuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWRldGFpbHMtcm93XCIsXCJkYXRhXCI6ZGF0YSxcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIFwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8dGQgdGl0bGU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hY3R1YWxWYWx1ZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcImJvZHktXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSwgZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93QXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLW1haW4tcm93Lmhic1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCAqIGFzIGpRdWVyeSBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcbmltcG9ydCB7IENvbFNldHRpbmdzSGFuZGxlciB9IGZyb20gXCIuLi9ldmVudEhhbmRsZXJzL0NvbFNldHRpbmdzSGFuZGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0RXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyXCI7XG5pbXBvcnQgeyBJR3JpZE9yZGVyIH0gZnJvbSBcIi4uL21vZGVscy9JR3JpZE9yZGVyXCI7XG5pbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcbmltcG9ydCB7IElQYWdpbmF0aW9uSW5wdXQgfSBmcm9tIFwiLi4vbW9kZWxzL0lQYWdpbmF0aW9uSW5wdXRcIjtcbmltcG9ydCB7IFBhZ2VyIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24vUGFnZXJcIjtcbmltcG9ydCB7IERldGFpbHNSb3dIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlclwiO1xuaW1wb3J0IHsgRmlsdGVyQ2xpY2tIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXJcIjtcbmltcG9ydCB7IEhhbmRsZXJOYW1lcyB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzXCI7XG5pbXBvcnQgeyBIZWFkZXJDbGlja0hhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlclwiO1xuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSUV2ZW50SGFuZGxlclwiO1xuaW1wb3J0IHsgSUhhbmRsZXJDaGFpbiB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSUhhbmRsZXJDaGFpblwiO1xuaW1wb3J0IHsgUGFnZVNlYXJjaEhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXJcIjtcbmltcG9ydCB7IFNjcm9sbEhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXJcIjtcbmltcG9ydCB7IFRvZ2dsZUNvbHVtbkhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1RvZ2dsZUNvbHVtbkhhbmRsZXJcIjtcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xuaW1wb3J0IHsgR3JpZE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XG5pbXBvcnQgeyBHcmlkVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4vLi4vc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZVwiO1xuaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gXCIuLy4uL3V0aWwvQ29sdW1uVXRpbFwiO1xuaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4vSUdyaWRPcHRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBHcmlkPFQ+IHtcblxuICAgIHByaXZhdGUgaGFuZGxlQ2hhaW46IEFycmF5PElIYW5kbGVyQ2hhaW48VD4+O1xuICAgIHByaXZhdGUgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPjtcbiAgICBwcml2YXRlIHRvZ2dsZUhhbmRsZXI6IFRvZ2dsZUNvbHVtbkhhbmRsZXI8VD47XG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4pIHtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZTxUPihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gbmV3IEdyaWRUZW1wbGF0ZVNlcnZpY2UodGhpcy5jb25maWdTdG9yZSk7XG4gICAgICAgIHRoaXMuSW5pdEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJpbmREYXRhID0gKGRhdGE6IFRbXSwgcGFnaW5hdGlvbklucHV0PzogSVBhZ2luYXRpb25JbnB1dCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBmaXJzdEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemUgKyB0aGlzLmdldEluaXRpYWxSb3dDb3VudCgpO1xuICAgICAgICBsYXN0SW5kZXggPSBsYXN0SW5kZXggPj0gZGF0YS5sZW5ndGggPyBkYXRhLmxlbmd0aCAtIDEgOiBsYXN0SW5kZXg7XG4gICAgICAgIFBhZ2VyLkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhKHBhZ2luYXRpb25JbnB1dCk7XG4gICAgICAgIGNvbnN0IGdyaWRDb250ZW50OiBzdHJpbmcgPSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0Rmlyc3RUZW1wbGF0ZShkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50LmlubmVySFRNTCA9IGdyaWRDb250ZW50O1xuICAgICAgICBpZiAodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZE1hbmFnZUNvbHVtcyh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhdmUgdG8gYmluZCBTY3JvbGwgSGFuZGxlciBBZnRlciBET00gaGFzIGJlZW4gY3JlYXRlZFxuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLCBsYXN0SW5kZXggKyAxKTtcbiAgICAgICAgc2Nyb2xsSGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHNjcm9sbEhhbmRsZXIsXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuU2Nyb2xsLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYmluZE1hbmFnZUNvbHVtcyA9IChtYW5hZ2VDb2xDb250YWluZXI/OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBodG1sID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldE1hbmFnZUNvbHVtbnNIdG1sKCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkobWFuYWdlQ29sQ29udGFpbmVyIHx8IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5tYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lclxuICAgICAgICAgICAgfHwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUhhbmRsZXIgPSBuZXcgVG9nZ2xlQ29sdW1uSGFuZGxlcih0aGlzLmNvbmZpZ1N0b3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpKTtcbiAgICAgICAgY29uc3QgbWFuYWdlQ29sSGFuZGxlciA9IG5ldyBDb2xTZXR0aW5nc0hhbmRsZXI8VD4oalF1ZXJ5KGVsZW1lbnQpLCB0aGlzLmNvbmZpZ1N0b3JlLCB0aGlzLnRvZ2dsZUhhbmRsZXIpO1xuICAgICAgICBlbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKS5odG1sKGh0bWwpO1xuICAgICAgICBtYW5hZ2VDb2xIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xuICAgICAgICBqUXVlcnkod2luZG93KS5yZXNpemUoKCkgPT4ge1xuICAgICAgICAgICAgbWFuYWdlQ29sSGFuZGxlci5vblJlc2l6ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5jbGljaygoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIG1hbmFnZUNvbEhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcHVibGljIGFwcGx5Q29sdW1uQ29uZmlnID0gKGNvbHVtbnM6IElDb2x1bW5bXSkgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZUhhbmRsZXIuYXBwbHlDb2x1bW5Db25maWcoY29sdW1ucyk7XG4gICAgICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0TWFuYWdlQ29sdW1uc0h0bWwoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXJcbiAgICAgICAgICAgIHx8IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1jb250YWluZXJcIikuaHRtbChodG1sKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0T3JkZXIgPSAob3JkZXJCeUxpc3Q6IElHcmlkT3JkZXJbXSkgPT4ge1xuICAgICAgICBpZiAob3JkZXJCeUxpc3QgPT09IHVuZGVmaW5lZCB8fCBvcmRlckJ5TGlzdCA9PT0gbnVsbCB8fCBvcmRlckJ5TGlzdC5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbC5vcmRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG9yZGVyQ29sIG9mIG9yZGVyQnlMaXN0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucykge1xuICAgICAgICAgICAgICAgIGlmIChvcmRlckNvbC5jb2xJZCA9PT0gY29sLmlkICkge1xuICAgICAgICAgICAgICAgICAgICBjb2wub3JkZXIgPSBvcmRlckNvbC5vcmRlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsUm93Q291bnQgPSAoKTogbnVtYmVyID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGpRdWVyeSh3aW5kb3cpLmlubmVySGVpZ2h0KCkgKiAwLjY1ICkgLyAzMik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBJbml0SGFuZGxlcnMgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluID0gW107XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgRGV0YWlsc1Jvd0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuRGV0YWlsc1JvdyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyOiAgbmV3IEZpbHRlckNsaWNrSGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcbiAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lcy5GaWx0ZXJBY3Rpb24sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IEhlYWRlckNsaWNrSGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcbiAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lcy5IZWFkZXJDbGljayxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgUGFnZVNlYXJjaEhhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuUGFnZVNlYXJjaCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgU2VsZWN0RXZlbnRIYW5kbGVyPFQ+KHRoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQsIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuQ29sU2V0dGluZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLmZvckVhY2goKHZhbHVlOiBJSGFuZGxlckNoYWluPFQ+KTogdm9pZCA9PiB7XG4gICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgalF1ZXJ5KHdpbmRvdykucmVzaXplKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaCgodmFsdWU6IElIYW5kbGVyQ2hhaW48VD4pOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLm9uUmVzaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoYWluLmZvckVhY2goKHZhbHVlOiBJSGFuZGxlckNoYWluPFQ+KTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vbkRvY3VtZW50Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL21haW4vR3JpZC50cyIsImltcG9ydCB7IElHcmlkT3B0aW9ucyB9IGZyb20gXCIuLi9tYWluL0lHcmlkT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBGaWx0ZXJBY3Rpb25UeXBlIH0gZnJvbSBcIi4uL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlXCI7XHJcbmltcG9ydCB7IEdyaWRPcmRlckRpcmVjdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi4vbW9kZWxzL0lDb2x1bW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdTdG9yZTxUPiB7XHJcbiAgICBwdWJsaWMgb3B0aW9uczogSUdyaWRPcHRpb25zPFQ+O1xyXG4gICAgcHJpdmF0ZSBkZWZhdWx0R3JpZE9wdGlvbnM6IElHcmlkT3B0aW9uczxUPiA9IHtcclxuICAgICAgICBhbmltYXRpb25UaW1lOiAyMDAsXHJcbiAgICAgICAgY2h1bmtTaXplOiA1LFxyXG4gICAgICAgIGNvbHVtbnM6IFtdLFxyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQ6IG51bGwsXHJcbiAgICAgICAgbWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgaHlicmlkRnVuY3Rpb246IChjb2x1bW46IElDb2x1bW4sIHJvdzogVCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBcInRydWVcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGtleUNvbHVtbjogXCJcIixcclxuICAgICAgICBvbkNvbFNldHRpbmdzQ2hhbmdlOiAoY29sQ29uZmlnOiBJQ29sdW1uW10pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gQ29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DbGlja0ZpbHRlcjogKGNvbHVtbjogc3RyaW5nLCB2YWx1ZTogYW55LCBhY3Rpb25UeXBlOiBGaWx0ZXJBY3Rpb25UeXBlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2xpY2tIZWFkZXI6IChjb2x1bW46IHN0cmluZywgZGlyZWN0aW9uOiBHcmlkT3JkZXJEaXJlY3Rpb24pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25QYWdlU2VhcmNoOiAocGFnZVNpemU6IG51bWJlciwgcGFnZUluZGV4OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25TZWxlY3Q6IChyb3dzOiBUW10pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gQ29kZVxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lckVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIFByb3ZpZGUgYSB2YWxpZCBjb250YWluZXIgRWxlbWVudCBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBPcHRpb25zKG9wdGlvbnM6IElHcmlkT3B0aW9uczxUPikge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IE9wdGlvbnMoKTogSUdyaWRPcHRpb25zPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFNldEhpZGRlbk9uQ29uZmlnID0gKGJvb2w6IGJvb2xlYW4sIGNvbHVtbklkPzogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5PcHRpb25zLmNvbHVtbnMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbHVtbklkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2wuaGlkZGVuID0gYm9vbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgZXh0ZW5kT3B0aW9ucyA9IChpbnB1dE9wdGlvbnM6IElHcmlkT3B0aW9uczxUPik6IElHcmlkT3B0aW9uczxUPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucyA9IGpRdWVyeS5leHRlbmQoe30sIHRoaXMuZGVmYXVsdEdyaWRPcHRpb25zLCBpbnB1dE9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzIiwiaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4uL21haW4vSUdyaWRPcHRpb25zXCI7XHJcbmltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4vLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IFRvZ2dsZUNvbHVtbkhhbmRsZXIgfSBmcm9tIFwiLi9Ub2dnbGVDb2x1bW5IYW5kbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sU2V0dGluZ3NIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdG9nZ2xlQ29sdW1uSGFuZGxlcjogVG9nZ2xlQ29sdW1uSGFuZGxlcjxUPjtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEpRdWVyeSwgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCB0b2dnbGVDb2x1bW5IYW5kbGVyOiBUb2dnbGVDb2x1bW5IYW5kbGVyPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyID0gdG9nZ2xlQ29sdW1uSGFuZGxlcjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zdCBzZXR0bmdzUG9wdXAgPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5jb2wtc2V0dGluZ3MtY29udGFpbmVyXCIpO1xyXG4gICAgICAgIC8vIGNvbnN0IHRib2R5SGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIC8vIHNldHRuZ3NQb3B1cC5pbm5lckhlaWdodCh0Ym9keUhlaWdodCAtIDEwKTtcclxuICAgICAgICAvLyBzZXR0bmdzUG9wdXAuZmluZChcIi5jb2wtc2V0dGluZ3MtdGFibGVcIikuaW5uZXJIZWlnaHQoc2V0dG5nc1BvcHVwLmlubmVySGVpZ2h0KCkgLVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRuZ3NQb3B1cC5maW5kKFwiLmNvbC1zZXR0aW5ncy1oZWFkZXJcIikuaW5uZXJIZWlnaHQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5pcyhcIi5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0RWxlbWVudC5wYXJlbnRzKCkuaXMoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKSkge1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIuY29sLXNldHRpbmdzLXRyaWdnZXJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGpRdWVyeShcIi5jb2wtc2V0dGluZ3MtY29udGFpbmVyXCIpLnNsaWRlVXAodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuY29sLXNldHRpbmdzLXRyaWdnZXJcIiwgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3Qgc2V0dG5nc1BvcHVwID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuY29sLXNldHRpbmdzLWNvbnRhaW5lclwiKTtcclxuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIuY29sLXNldHRpbmdzLXRyaWdnZXJcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIHNldHRuZ3NQb3B1cC5zbGlkZVRvZ2dsZSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXVwXCIsIFwiLmNvbC1zZXR0aW5ncy1oZWFkZXIgLmNvbC1zZXR0aW5ncy1maWx0ZXJcIixcclxuICAgICAgICAgICAgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5jb2wtc2V0dGluZ3MtdGFibGUgdGFibGUgdGJvZHkgdHJcIikuZWFjaCgoaTogbnVtYmVyLCBlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGUpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5KGUpLmF0dHIoXCJkYXRhLWhlYWRlci1pZFwiKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodmFsKSA9PT0gLTEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShlKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi5zaG93LWFsbC1jb2x1bW5cIiwgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIilcclxuICAgICAgICAgICAgLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZWxlbWVudCkucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNvbHVtbkhhbmRsZXIuc2hvd0FsbENvbHVtbnMoKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ29sU2V0dGluZ3NDaGFuZ2UodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi5oaWRlLWFsbC1jb2x1bW5cIiwgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIilcclxuICAgICAgICAgICAgLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZWxlbWVudCkucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLmhpZGVBbGxDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNvbFNldHRpbmdzQ2hhbmdlKHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveFwiLCAoZXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gY2hlY2tib3gudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLnNob3dDb2x1bW4oaWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNvbHVtbkhhbmRsZXIuaGlkZUNvbHVtbihpZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ29sU2V0dGluZ3NDaGFuZ2UodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0NvbFNldHRpbmdzSGFuZGxlci50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBHcmlkVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RFdmVudEhhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnksIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD4pIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBncmlkVGVtcGxhdGVTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWtleS1jaGVja2JveFwiICwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gZWxlbWVudC5kYXRhKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbGVtZW50LmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50cyhcIi5tYWluUm93XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25TZWxlY3QoW3Jvd10sIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuc2VsZWN0LWFsbC1jaGVja2JveFwiICwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uU2VsZWN0KHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuc2VsZWN0LWtleS1jaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZSAubWFpblJvd1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLm1haW5UYWJsZSAubWFpblJvd1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBJZ25vcmVcclxuICAgIH1cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuZXhwb3J0IGNsYXNzIERldGFpbHNSb3dIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXJyb3cgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgZGV0YWlsc1JvdyA9IGFycm93LmNsb3Nlc3QoXCJ0clwiKS5uZXh0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJY29uID0gYXJyb3cuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBvdGhlckljb24gPSBhcnJvdy5zaWJsaW5ncyhcImlcIikuc2hvdygpO1xyXG4gICAgICAgICAgICBpZiAoYXJyb3cuaGFzQ2xhc3MoXCJleHBhbmREZXRhaWxzUm93SWNvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zbGlkZURvd24odGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmFuaW1hdGlvblRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zbGlkZVVwKHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5hbmltYXRpb25UaW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4uL21haW4vSUdyaWRPcHRpb25zXCI7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9Db2x1bW5VdGlsXCI7XHJcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQgeyBJRmlsdGVyQ2xpY2tEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uL21vZGVscy9JRmlsdGVyQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbHRlckNsaWNrSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmRldGFpbHNSb3cgLmRldGFpbHNUYWJsZSB0ZCBpXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFRkID0gZWxlbWVudC5wYXJlbnRzKFwidGRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci1rZXlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXZhbHVlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXR5cGVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGtleSwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuZmlsdGVyYWJsZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZmlsdGVyQWN0aW9uOiBGaWx0ZXJBY3Rpb25UeXBlID0gRmlsdGVyQWN0aW9uVHlwZS5BZGQ7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKFwicmVtb3ZlRmlsdGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlLk1pbnVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNsaWNrRmlsdGVyKGtleSwgdmFsdWUsIGZpbHRlckFjdGlvbiwgdHlwZSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXIudHMiLCJleHBvcnQgZW51bSBGaWx0ZXJBY3Rpb25UeXBlIHtcclxuICAgIEFkZCA9IFwiQWRkXCIsXHJcbiAgICBNaW51cyA9IFwiTWludXNcIixcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL21vZGVscy9GaWx0ZXJBY3Rpb25UeXBlLnRzIiwiZXhwb3J0IGVudW0gSGFuZGxlck5hbWVzIHtcclxuICAgIEZpbHRlckFjdGlvbixcclxuICAgIEhlYWRlckNsaWNrLFxyXG4gICAgU2Nyb2xsLFxyXG4gICAgUGFnZVNlYXJjaCxcclxuICAgIERldGFpbHNSb3csXHJcbiAgICBUb2dnbGVDb2x1bW4sXHJcbiAgICBDb2xTZXR0aW5ncyxcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElHcmlkT3B0aW9ucyB9IGZyb20gXCIuLi9tYWluL0lHcmlkT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvQ29sdW1uVXRpbFwiO1xyXG5pbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi8uLi9tb2RlbHMvR3JpZE9yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7SUhlYWRlckNsaWNrRGVsZWdhdGV9IGZyb20gXCIuLy4uL21vZGVscy9JSGVhZGVyQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlYWRlckNsaWNrSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXJpbmcgSlF1ZXJ5IEV2ZW50IEhhbmRsZXIgaWYgSGVhZGVyIGlzIENsaWNrZWQuXHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtaGVhZGVyIHRoXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCkuY2xvc2VzdChcInRoXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBoZWFkZXJJZCA9IGVsZW1lbnQuYXR0cihcImRhdGEtaGVhZGVyLWlkXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBjb2wgPSBDb21tb25VdGlsLkdldENvbHVtbk9iamVjdChoZWFkZXJJZCwgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICBpZiAoY29sID09PSB1bmRlZmluZWQgfHwgY29sID09PSBudWxsIHx8ICFjb2wuc29ydGFibGUgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXJyb3dJY29ucyA9IGVsZW1lbnQuZmluZChcImlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwQXJyb3dJY29uID0gYXJyb3dJY29ucy5maXJzdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBkb3duQXJyb3dJY29uID0gYXJyb3dJY29ucy5sYXN0KCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb246IEdyaWRPcmRlckRpcmVjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGFycm93SWNvbnMuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwQXJyb3dJY29uLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBHcmlkT3JkZXJEaXJlY3Rpb24uRGVzYztcclxuICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEdyaWRPcmRlckRpcmVjdGlvbi5Bc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gR3JpZE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgICAgIHVwQXJyb3dJY29uLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDb21tb25VdGlsLlNldE9yZGVyKGhlYWRlcklkLCBkaXJlY3Rpb24sIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm9uQ2xpY2tIZWFkZXIoaGVhZGVySWQsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXIudHMiLCJpbXBvcnQgKiBhcyBqUXVlcnkgZnJvbSBcImpxdWVyeVwiO1xyXG5pbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgUGFnZXIgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi9QYWdlclwiO1xyXG5pbXBvcnQgeyBJUGFnZVNlYXJjaENsaWNrRGVsZWdhdGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvSVBhZ2VTZWFyY2hDbGlja0RlbGVnYXRlXCI7XHJcbmltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lQYWdpbmF0aW9uXCI7XHJcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVNlYXJjaEhhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Eb2N1bWVudENsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLmZpcnN0TGlua1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgMSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubmV4dExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLnByZXZMaW5rXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5sYXN0TGlua1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXIuUGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZVNpemVTZWxlY3RvclwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSAralF1ZXJ5KGV2ZW50LnRhcmdldCkudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaCh2YWwsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXByZXNzXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZXItaW5wdXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlwID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhID0gUGFnZXIuUGFnaW5hdGlvbkRhdGE7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsOiBudW1iZXIgPSAraXAudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA+IHBhZ2VEYXRhLm5vT2ZQYWdlcyB8fCB2YWwgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXAudmFsKHBhZ2VEYXRhLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2gocGFnZURhdGEucGFnZVNpemUsIHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgR3JpZFRlbXBsYXRlU2VydmljZSB9IGZyb20gXCIuLy4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSUluZGV4Q291bnRlciB9IGZyb20gXCIuLy4uL3ZpcnR1YWxpemF0aW9uL0luZGV4Q291bnRlclwiO1xyXG5pbXBvcnQgeyBTY3JvbGxEaXJlY3Rpb24gfSBmcm9tIFwiLi8uLi92aXJ0dWFsaXphdGlvbi9TY3JvbGxEaXJlY3Rpb25cIjtcclxuaW1wb3J0IHsgVmlydHVhbGl6ZXIgfSBmcm9tIFwiLi8uLi92aXJ0dWFsaXphdGlvbi9WaXJ0dWFsaXplclwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjcm9sbEhhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgdmlydHVhbGl6ZXI6IFZpcnR1YWxpemVyO1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD47XHJcbiAgICBwcml2YXRlIHJlbmRlcmluZzogYm9vbGVhbiA9ICBmYWxzZTtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG4gICAgcHJpdmF0ZSBsZWZ0T2Zmc2V0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRJbmRleDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPiwgY3VycmVudEluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBncmlkVGVtcGxhdGVTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gY3VycmVudEluZGV4O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubGVmdE9mZnNldCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLnJlc2l6ZSgocmVzaXplRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyaW5nIEpRdWVyeSBFdmVudCBIYW5kbGVyIGlmIEhlYWRlciBpcyBDbGlja2VkLlxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5yZXNpemUoKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdE9mZnNldCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikub24oXCJzY3JvbGxcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRCb2R5T2JqID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdE9mZnNldCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldChcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLmxlZnRPZmZzZXQgKyAtMSAqIHRCb2R5T2JqLnNjcm9sbExlZnQoKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBhY3R1YWxUYWJsZUhlaWdodCA9IHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlXCIpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxDb250YWluZXJIZWlnaHQgPSB0Qm9keU9iai5oZWlnaHQoKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB0Qm9keU9iai5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgaWYgKChzY3JvbGxDb250YWluZXJIZWlnaHQgKyBzY3JvbGxUb3AgKSAtIChhY3R1YWxUYWJsZUhlaWdodCAqIDAuOCApID4gMCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuY3VycmVudEluZGV4ICsgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNodW5rU2l6ZTtcclxuICAgICAgICAgICAgICAgIGlmICggbGFzdEluZGV4ID4gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sICA9IGpRdWVyeSh0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuZ2V0VGVtcGxhdGUodGhpcy5jdXJyZW50SW5kZXgsIGxhc3RJbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVCb2R5XCIpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbGFzdEluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBwcml2YXRlIGdldCBWaXJ0dWFsaXplcigpOiBWaXJ0dWFsaXplciB7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMudmlydHVhbGl6ZXIgPT09IG51bGwgfHwgdGhpcy52aXJ0dWFsaXplciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxpemVyID0gbmV3IFZpcnR1YWxpemVyKHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5jaHVua1NpemUsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI1LCB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YUxlbmd0aCk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMudmlydHVhbGl6ZXI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TY3JvbGxIYW5kbGVyLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi8uLi9tb2RlbHMvSUNvbHVtblwiO1xyXG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSBcIi4vLi4vdXRpbC9Db2x1bW5VdGlsXCI7XHJcblxyXG5lbnVtIFNob3dIaWRlIHtcclxuICAgIFNob3csXHJcbiAgICBIaWRlLFxyXG4gICAgU2hvd0FsbCxcclxuICAgIEhpZGVBbGwsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb2dnbGVDb2x1bW5IYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+LCBlbGVtZW50OiBKUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0FsbENvbHVtbnMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93QWxsKTtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWJvZHkgLmJvZHlDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuU2hvd0FsbCk7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5TZXRIaWRkZW5PbkNvbmZpZyhmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dDb2x1bW4gPSAoY29sdW1uSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtaGVhZGVyIC5oZWFkZXJDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuU2hvdywgY29sdW1uSWQpO1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93LCBjb2x1bW5JZCk7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5TZXRIaWRkZW5PbkNvbmZpZyhmYWxzZSwgY29sdW1uSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoaWRlQ29sdW1uID0gKGNvbHVtbklkOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWhlYWRlciAuaGVhZGVyQ29sR3JvdXAgY29sXCIsIFNob3dIaWRlLkhpZGUsIGNvbHVtbklkKTtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWJvZHkgLmJvZHlDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZSAsIGNvbHVtbklkKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKHRydWUsIGNvbHVtbklkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZUFsbENvbHVtbnMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlQWxsKTtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWJvZHkgLmJvZHlDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZUFsbCk7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5TZXRIaWRkZW5PbkNvbmZpZyh0cnVlKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBhcHBseUNvbHVtbkNvbmZpZyA9IChjb2x1bW5zOiBJQ29sdW1uW10pID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4uaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVDb2x1bW4oY29sdW1uLmlkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvbHVtbihjb2x1bW4uaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXRDb2xXaWR0aCA9IChzZWxlY3Rvcjogc3RyaW5nLCBjb250cm9sOiBTaG93SGlkZSwgY29sdW1uSWQ/OiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChzZWxlY3RvcikuZWFjaCgoaW5kZXgsIGVsZW1lbnQpOiB2b2lkIHwgZmFsc2UgPT4ge1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sRWxlbSA9IGpRdWVyeShlbGVtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbCA9IGN1cnJlbnRDb2xFbGVtLmF0dHIoXCJkYXRhLWhlYWRlci1pZFwiKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2wgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbDogSUNvbHVtbjtcclxuICAgICAgICAgICAgICAgIGlmIChbU2hvd0hpZGUuU2hvdywgU2hvd0hpZGUuSGlkZV0uaW5kZXhPZihjb250cm9sKSA+IC0xICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29sID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbCA9PT0gU2hvd0hpZGUuU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sID0gQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3QoY3VycmVudENvbCwgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbEVsZW0ud2lkdGgoIHdpZHRoICsgXCJweFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChbU2hvd0hpZGUuU2hvd0FsbCwgU2hvd0hpZGUuSGlkZUFsbF0uaW5kZXhPZihjb250cm9sKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2wgPT09IFNob3dIaWRlLlNob3dBbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sID0gQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3QoY3VycmVudENvbCwgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGNvbC53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbEVsZW0ud2lkdGgoIHdpZHRoICsgXCJweFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9Ub2dnbGVDb2x1bW5IYW5kbGVyLnRzIiwiaW1wb3J0ICogYXMgSGFuZGxlYmFycyBmcm9tIFwiaGFuZGxlYmFyc1wiO1xyXG5pbXBvcnQgKiBhcyBHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZEZvb3RlciBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtZm9vdGVyLmhic1wiO1xyXG5pbXBvcnQgKiBhcyBHcmlkTWFpblJvd1RlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC1tYWluLXJvdy5oYnNcIjtcclxuaW1wb3J0ICogYXMgTWFuYWdlQ29sdW1uVGVtcGxhdGUgZnJvbSBcIi4uLy4uL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhic1wiO1xyXG5pbXBvcnQgKiBhcyBHcmlkVGVtcGxhdGUgZnJvbSBcIi4uLy4uL2hicy9ncmlkLmhic1wiO1xyXG5pbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSVBhZ2luYXRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0lQYWdpbmF0aW9uXCI7XHJcbmltcG9ydCB7IFBhZ2VyIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24vUGFnZXJcIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZFRlbXBsYXRlU2VydmljZSA8VD4ge1xyXG4gICAgcHJpdmF0ZSBkYXRhOiBUW107XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvckdyaWQ6IGFueTtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3c6IGFueTtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3c6IGFueTtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvckZvb3RlcjogYW55O1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQgPSBHcmlkVGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFpblJvdyA9IEdyaWRNYWluUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyA9IEdyaWREZXRhaWxzUm93VGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yRm9vdGVyID0gR3JpZEZvb3RlcjtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JNYW5hZ2VDb2wgPSBNYW5hZ2VDb2x1bW5UZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgRGF0YSgpOiBUW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IERhdGFMZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBHZXRGaXJzdFRlbXBsYXRlID0gKGRhdGE6IFRbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0SW5kZXg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RJbmRleDogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dBcnJheSA9IHRoaXMuR2V0Um93c0h0bWwoZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yR3JpZCh7XHJcbiAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICBtYWluUm93QXJyYXksXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhOiBQYWdlci5QYWdpbmF0aW9uRGF0YSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRUZW1wbGF0ZSA9IChmaXJzdEluZGV4OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXkgPSB0aGlzLkdldFJvd3NIdG1sKGZpcnN0SW5kZXgsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3coe1xyXG4gICAgICAgICAgICBjb2x1bW5zOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgbWFpblJvd0FycmF5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIEdldE1hbmFnZUNvbHVtbnNIdG1sID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCh7Y29sdW1uczogdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnN9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0Um93c0h0bWwgPSAoZmlyc3RJbmRleDogbnVtYmVyLCBsYXN0SW5kZXg6IG51bWJlcik6IGFueVtdID0+IHtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXk6IGFueVtdID0gW107XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoICsgMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCByb3c6IFQgPSB0aGlzLmRhdGFbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5Sb3dDb2xBcnJheTogYW55W10gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjb2wgb2YgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5WYWx1ZSA9IHJvd1tjb2wuaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5yZW5kZXJIeWJyaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZSA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5oeWJyaWRGdW5jdGlvbihjb2wsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYWluUm93Q29sQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY29sLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiBjb2wuaGlkZGVuLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiByb3dbY29sLmlkXSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBjb2wubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogY29sLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmFibGU6IGNvbC5maWx0ZXJhYmxlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFpblJvd0FycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcm93RGF0YTogSlNPTi5zdHJpbmdpZnkocm93KSxcclxuICAgICAgICAgICAgICAgIGtleUNvbHVtbjogcm93W3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5rZXlDb2x1bW5dLFxyXG4gICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5LFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGgsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFpblJvd0FycmF5O1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZS50cyIsImNvbnN0IHNlbGVjdGVkID0gKGlucHV0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGlucHV0ID09PSB2YWx1ZSA/IFwic2VsZWN0ZWRcIiA6IFwiXCI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZWxlY3RlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9TZWxlY3RlZC50cyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3ggZ3VpIG0tci0xMFxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxDaGVja2VkLnRzXCIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmhpZGRlbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiQ2hlY2tlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8L3RyPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiZ3VpIG9mLWhpZGRlbiBwLTEwIG1pbi13LTUwIHctYXV0byBmbHVpZC1oIGZsZXggY29sdW1uIGNvbnRhaW5lclxcXCIgPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtaGVhZGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCVcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG1pbmkgZmx1aWQgaWNvbiBpbnB1dFxcXCI+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtZmlsdGVyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiU2VhcmNoIGZpbHRlci4uLlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcInNlYXJjaCBpY29uXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXQtMTBcXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJndWkgbGVmdCBzaG93LWFsbC1jb2x1bW5cXFwiPlNob3cgQWxsPC9hPlxcclxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJndWkgcmlnaHQgaGlkZS1hbGwtY29sdW1uXFxcIj5IaWRlIEFsbDwvYT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBjbGVhclxcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy10YWJsZSBndWkgZmx1aWQgaC05MCBvZi1hdXRvIHAtNSBtLXQtMTBcXFwiID5cXHJcXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIHNtYWxsIHZlcnkgYm9yZGVyLWxlc3MgYmFzaWMgY29tcGFjdCB0YWJsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPHRib2R5PlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtbWFuYWdlLWNvbHVtbnMuaGJzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IGNoZWNrZWQgPSAoYm9vbDogYm9vbGVhbik6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gIWJvb2wgPyBcImNoZWNrZWRcIiA6IFwiXCI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjaGVja2VkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQ29sdW1uLnRzXCIpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcIkNvbHVtblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVxcXCJndWkgY3Vyc29yLXBvaW50ZXJcXFwiIGlkPVxcXCJoZWFkZXItXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3J0YWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cXG5cIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxTb3VyY2VcXFxcUmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcT3JkZXJlZC50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5vcmRlciA6IGRlcHRoMCkse1wibmFtZVwiOlwiT3JkZXJlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjxzdHlsZT5cXG4gICAgLmlubmVyLWNvbnRhaW5lciB7XFxuICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgfVxcblxcbiAgICAudGFibGUtaGVhZGVyIHtcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIHRvcDowICFpbXBvcnRhbnQ7XFxuICAgIH1cXG5cXG4gICAgLnRhYmxlLWJvZHkge1xcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgICAgICBmbGV4OiA1O1xcbiAgICB9XFxuICAgIC50YWJsZS1mb290ZXJ7XFxuICAgICAgICBoZWlnaHQ6IDM1cHg7XFxuICAgICAgICBwYWRkaW5nOiA1cHg7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlciAuZm9vdGVyLW1pZGRsZXtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlciAuZm9vdGVyLXJpZ2h0e1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgfVxcbiAgICAubWFyZ2luLWF1dG97XFxuICAgICAgICBtYXJnaW46IGF1dG8gIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICAucmVtb3ZlLWxhYmVsOmhvdmVye1xcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLmJvcmRlci1sZXNzIHRyIHRkLC5ib3JkZXItbGVzcyB7IGJvcmRlcjogMHB4ICFpbXBvcnRhbnQ7IH1cXG4gICAgLmN1cnNvci1wb2ludGVye1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuICAgIC51aS5zdXBlcmNvbXBhY3QuaWNvbi5idXR0b24sIC51aS5zdXBlcmNvbXBhY3QuaWNvbi5idXR0b25zIC5idXR0b24ge1xcbiAgICAgICAgcGFkZGluZzogLjNlbSAuM2VtIC4zZW0gLjNlbSAhaW1wb3J0YW50O1xcbiAgICB9XFxuPC9zdHlsZT5cXG48ZGl2IGNsYXNzPVxcXCJpbm5lci1jb250YWluZXIgZ3VpIGZsdWlkIGNvbnRhaW5lclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MCU7XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtaGVhZGVyXFxcIj5cXG4gICAgICAgIDx0YWJsZSBpZD1cXFwiaGVhZGVydGFibGVcXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBzb3J0YWJsZSBmaXhlZCBzaW5nbGUgbGluZSB0YWJsZVxcXCI+XFxuICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJoZWFkZXJDb2xHcm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXG4gICAgICAgICAgICA8dGhlYWQ+XFxuICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0aD48L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcInNlbGVjdC1hbGwtY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiPjwvdGg+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgIDwvdGhlYWQ+XFxuICAgICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtYm9keVxcXCI+XFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IGZpeGVkIHNlbGVjdGFibGUgc2luZ2xlIGxpbmUgdGFibGUgbWFpblRhYmxlXFxcIj5cXG4gICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImJvZHlDb2xHcm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPiBcXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvY29sZ3JvdXA+XFxuICAgICAgICAgICAgPHRib2R5IGNsYXNzPVxcXCJtYWluVGFibGVCb2R5XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcU291cmNlXFxcXFJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxncmlkLW1haW4tcm93Lmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1tYWluLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1mb290ZXIgZ3VpIGgtYXV0byBmbHVpZC13IGJhc2ljIGN1cnZlZCByb3cgcC01IG0tMFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXFNvdXJjZVxcXFxSZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcZ3JpZC1mb290ZXIuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWZvb3RlclwiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgXCIsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQuaGJzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IENvbHVtbiA9IChjb2wpOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgY2FsY1dpZHRoOiBudW1iZXIgPSBjb2wuaGlkZGVuID8gMCA6IGNvbC53aWR0aDtcclxuICAgIGNvbnN0IGRhdGFBdHRySWQgPSAnZGF0YS1oZWFkZXItaWQ9XCInICsgY29sLmlkICsgJ1wiJztcclxuICAgIHJldHVybiAnPGNvbCBzdHlsZT1cIndpZHRoIDogJyArIGNhbGNXaWR0aCArICdweDtcIicgKyBkYXRhQXR0cklkICsgXCIgLz5cIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbHVtbjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMiLCJpbXBvcnQgeyBHcmlkT3JkZXJEaXJlY3Rpb24gfSBmcm9tIFwiLi4vLi4vanMvbW9kZWxzL0dyaWRPcmRlckRpcmVjdGlvblwiO1xyXG5cclxuY29uc3Qgb3JkZXJlZCA9IChvcmRlcjogR3JpZE9yZGVyRGlyZWN0aW9uKTogc3RyaW5nID0+IHtcclxuICAgIGlmIChvcmRlciA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uLkFzYykge1xyXG4gICAgICAgIHJldHVybiBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXBcXFwiID48L2k+IFwiO1xyXG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gR3JpZE9yZGVyRGlyZWN0aW9uLkRlc2MpIHtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd25cXFwiID48L2k+IFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPiBcIiArXHJcbiAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPlwiO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb3JkZXJlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9PcmRlcmVkLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==