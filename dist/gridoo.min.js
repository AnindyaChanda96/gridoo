!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("handlebars/runtime"),require("jQuery")):"function"==typeof define&&define.amd?define(["handlebars.runtime","jQuery"],n):"object"==typeof exports?exports.Gridoo=n(require("handlebars/runtime"),require("jQuery")):e.Gridoo=n(e.Handlebars,e.jQuery)}("undefined"!=typeof self?self:this,function(e,n){return function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=11)}([function(n,t){n.exports=e},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e?"disabled":""};n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"PaginationData",{get:function(){return e.paginationData},enumerable:!0,configurable:!0}),e.CalculatePaginationData=function(n){var t={};t.pageIndex=n.pageIndex,t.pageSize=n.pageSize,t.pageSizes=n.pageSizes,t.totalCount=n.totalCount,t.noOfPages=Math.ceil(n.totalCount/n.pageSize);var i=(n.pageIndex-1)*n.pageSize,o=n.pageSize>n.totalCount?n.totalCount:n.pageSize;t.range={min:i+1,max:i+o},t.firstPageLinkDisabled=1===t.noOfPages||1===t.pageIndex,t.lastPageLinkDisabled=1===t.noOfPages||t.pageIndex===t.noOfPages,t.prevPageLinkDisabled=1===t.pageIndex||t.pageIndex-1<=0,t.nextPageLinkDisabled=t.noOfPages===t.pageIndex||t.pageIndex+1>=t.noOfPages,e.paginationData=t},e}();n.Pager=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.GetColumnObject=function(e,n){if(null==e||null==n)return null;var t;return n.forEach(function(n){if(n.id===e)return void(t=n)}),t},e.SetOrder=function(e,n,t){if(null==e||null==t)return null;var i;return t.forEach(function(t){if(t.id===e)return t.order=n,void(i=t)}),i},e}();n.CommonUtil=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.Up="Up",e.Down="Down"}(n.ScrollDirection||(n.ScrollDirection={}))},function(e,t){e.exports=n},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.None="None",e.Asc="Asc",e.Desc="Desc"}(n.OrderDirection||(n.OrderDirection={}))},function(e,n,t){var i=t(0);e.exports=(i.default||i).template({1:function(e,n,t,i,o){var a,r,l=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'                <tr>\r\n                    <td class="gui rv-parent" valign="top" data-filter-key="'+u((r=null!=(r=t.id||(null!=n?n.id:n))?r:c,"function"==typeof r?r.call(l,{name:"id",hash:{},data:o}):r))+'" data-filter-value="'+u((r=null!=(r=t.actualValue||(null!=n?n.actualValue:n))?r:c,"function"==typeof r?r.call(l,{name:"actualValue",hash:{},data:o}):r))+'">\r\n                        <span>'+u((r=null!=(r=t.columnName||(null!=n?n.columnName:n))?r:c,"function"==typeof r?r.call(l,{name:"columnName",hash:{},data:o}):r))+"</span>\r\n"+(null!=(a=t.if.call(l,null!=n?n.filterable:n,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?a:"")+"                    </td>\r\n                    <td>"+(null!=(r=null!=(r=t.columnValue||(null!=n?n.columnValue:n))?r:c,a="function"==typeof r?r.call(l,{name:"columnValue",hash:{},data:o}):r)?a:"")+"</td>\r\n                </tr>\r\n"},2:function(e,n,t,i,o){return'                        <span class="gui m-l-5 rv-child gui-caption" >\r\n                            <i class="gui gui-icon gui-icon-add hover m-l-5 cursor-pointer addFilter"></i>\r\n                            <i class="gui gui-icon gui-icon-minus hover m-l-5 cursor-pointer removeFilter"></i>\r\n                        </span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,o){var a,r,l=null!=n?n:e.nullContext||{};return'<tr class="gui gui-hidden detailsRow">\r\n    <td colspan="'+e.escapeExpression((r=null!=(r=t.length||(null!=n?n.length:n))?r:t.helperMissing,"function"==typeof r?r.call(l,{name:"length",hash:{},data:o}):r))+'">\r\n        <table class="gui very compact selectable celled table detailsTable m-l-37 p-5" style="width: auto;" >\r\n            <tbody>\r\n'+(null!=(a=t.each.call(l,null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+"            </tbody>\r\n        </table>\r\n    </td>\r\n</tr>"},useData:!0})},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var o=t(0);e.exports=(o.default||o).template({1:function(e,n,o,a,r,l,c){var u,s=e.escapeExpression;return"        <option "+s(i(t(26)).call(null!=n?n:e.nullContext||{},null!=(u=null!=c[1]?c[1].paginationData:c[1])?u.pageSize:u,n,{name:"Selected",hash:{},data:r}))+">"+s(e.lambda(n,n))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,o,a,r,l,c){var u,s=null!=n?n:e.nullContext||{},d=e.escapeExpression,p=e.lambda;return'<div data-role="pager" class="gui left gui-subheading-2 col-md-6 text-left m-0 p-5">\r\n    <span class="gui mini compact ">\r\n        <a class="gui mini compact firstLink" aria-hidden="true" '+d(i(t(1)).call(s,null!=(u=null!=n?n.paginationData:n)?u.firstPageLinkDisabled:u,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the first page" title="Go to the first page" data-page="1" tabindex="-1">\r\n            <i class="gui-icon gui-icon-previous"></i>\r\n        </a>\r\n        <a class="gui mini compact prevLink" aria-hidden="true" '+d(i(t(1)).call(s,null!=(u=null!=n?n.paginationData:n)?u.prevPageLinkDisabled:u,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the previous page" title="Go to the previous page" data-page="'+d(i(t(9)).call(s,null!=(u=null!=n?n.paginationData:n)?u.pageIndex:u,"-",1,{name:"math",hash:{},data:r}))+'"\r\n            tabindex="-1">\r\n            <i class="gui-icon gui-icon-chevron-left"></i>\r\n            Prev\r\n        </a>\r\n    </span>\r\n    <span class="gui pager-input-container input">\r\n        <span class="gui m-r-5"> Page </span>\r\n        <input class="gui pager-input w-25 p-0 m-r-5" aria-label="1" value="'+d(p(null!=(u=null!=n?n.paginationData:n)?u.pageIndex:u,n))+'" type="text" placeholder="Page Number ...">\r\n        <span class="no-of-pages-scan" data-number-of-pages="'+d(p(null!=(u=null!=n?n.paginationData:n)?u.noOfPages:u,n))+'"> of '+d(p(null!=(u=null!=n?n.paginationData:n)?u.noOfPages:u,n))+'</span>\r\n    </span>\r\n    <span class="gui mini compact ">\r\n        <a class="gui mini compact nextLink" aria-hidden="true" '+d(i(t(1)).call(s,null!=(u=null!=n?n.paginationData:n)?u.nextPageLinkDisabled:u,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the next page" title="Go to the next page" data-page="'+d(i(t(9)).call(s,null!=(u=null!=n?n.paginationData:n)?u.pageIndex:u,"+",1,{name:"math",hash:{},data:r}))+'" tabindex="-1">\r\n            Next\r\n            <i class="gui-icon gui-icon-chevron-right"></i>\r\n        </a>\r\n        <a class="gui mini compact lastLink" aria-hidden="true" '+d(i(t(1)).call(s,null!=(u=null!=n?n.paginationData:n)?u.lastPageLinkDisabled:u,{name:"Disabled",hash:{},data:r}))+'\r\n            aria-label="Go to the last page" title="Go to the last page" data-page="'+d(p(null!=(u=null!=n?n.paginationData:n)?u.noOFpages:u,n))+'" tabindex="-1">\r\n            <i class="gui-icon gui-icon-next"></i>\r\n        </a>\r\n    </span>\r\n</div>\r\n<div class="col-md-6 gui gui-subheading-2 right text-right m-0 p-5">\r\n    <span>Rows Per Page</span>\r\n    <select class="gui pageSizeSelector">\r\n'+(null!=(u=o.each.call(s,null!=(u=null!=n?n.paginationData:n)?u.pageSizes:u,{name:"each",hash:{},fn:e.program(1,r,0,l,c),inverse:e.noop,data:r}))?u:"")+'    </select>\r\n    <span class="gui m-l-10">'+d(p(null!=(u=null!=(u=null!=n?n.paginationData:n)?u.range:u)?u.min:u,n))+" - "+d(p(null!=(u=null!=(u=null!=n?n.paginationData:n)?u.range:u)?u.max:u,n))+" of "+d(p(null!=(u=null!=n?n.paginationData:n)?u.totalCount:u,n))+' items</span>\r\n</div>\r\n<div class="gui clear"></div>'},useData:!0,useDepths:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n,t,i){return{"+":e+t,"-":e-t,"*":e*t,"/":e/t,"%":e%t}[n]};n.default=i},function(e,n,t){var i=t(0);e.exports=(i.default||i).template({1:function(e,n,i,o,a){var r,l=e.lambda,c=e.escapeExpression;return'<tr class="mainRow">\r\n    <td class="expansionArrows" style="display:flex;justify-content:center;">\r\n        <i class="gui gui-icon gui-icon-chevron-down expandDetailsRowIcon cursor-pointer" aria-hidden="true"></i>\r\n        <i class="gui gui-icon gui-icon-chevron-up CollapseDetailsRowIcon cursor-pointer gui-hidden" aria-hidden="true"></i>\r\n    </td>\r\n    <td>\r\n        <input type="checkbox" data-value="'+c(l(null!=n?n.rowData:n,n))+'" value="'+c(l(null!=n?n.keyColumn:n,n))+'" class="select-key-checkbox">\r\n    </td>\r\n'+(null!=(r=i.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowColArray:n,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?r:"")+"</tr>\r\n"+(null!=(r=e.invokePartial(t(7),n,{name:"grid-details-row",data:a,helpers:i,partials:o,decorators:e.decorators}))?r:"")+" "},2:function(e,n,t,i,o){var a;return"    <td>"+(null!=(a=e.lambda(null!=n?n.columnValue:n,n))?a:"")+"</td>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,o){var a;return null!=(a=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.mainRowArray:n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:""},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(5),o=t(12),a=t(13),r=t(14),l=t(2),c=t(15),u=t(16),s=t(18),d=t(19),p=t(20),g=t(21),f=t(24),h=t(25),m=function(){function e(e){var n=this;this.bindData=function(e,t){var i=n.configStore.Options.chunkSize+n.getInitialRowCount();i=i>e.length?e.length-1:i,l.Pager.CalculatePaginationData(t);var o=n.gridTemplateService.GetFirstTemplate(e,0,i);n.configStore.Options.containerElement.innerHTML=o;var a=new g.ScrollHandler(n.configStore,n.gridTemplateService);a.RegisterDomHandler(),n.handleChain.push({handler:a,name:s.HandlerNames.Scroll})},this.getManageColumsHtml=function(){return n.gridTemplateService.GetManageColumnsHtml()},this.getInitialRowCount=function(){return 25},this.InitHandlers=function(){var e=i(n.configStore.Options.containerElement);n.handleChain=[],n.handleChain.push({handler:new c.DetailsRowHandler(e),name:s.HandlerNames.DetailsRow}),n.handleChain.push({handler:new u.FilterClickHandler(n.configStore,e),name:s.HandlerNames.FilterAction}),n.handleChain.push({handler:new d.HeaderClickHandler(n.configStore,e),name:s.HandlerNames.HeaderClick}),n.handleChain.push({handler:new p.PageSearchHandler(n.configStore,e),name:s.HandlerNames.PageSearch});var t=new f.ToggleColumnHandler(n.configStore,e),o=e;void 0!==n.configStore.Options.manageColSettingsContainer&&(o=i(n.configStore.Options.manageColSettingsContainer)),n.handleChain.push({handler:new a.ColSettingsHandler(o,t),name:s.HandlerNames.ColSettings}),n.handleChain.push({handler:new r.SelectEventHandler(n.configStore,e,n.gridTemplateService),name:s.HandlerNames.ColSettings}),n.handleChain.forEach(function(e){e.handler.RegisterDomHandler()}),i(window).resize(function(){n.handleChain.forEach(function(e){e.handler.onResize()})}),i(document).click(function(e){n.handleChain.forEach(function(n){n.handler.onDocumentClick(e)}),e.stopPropagation()})},this.configStore=new o.ConfigStore(e),this.gridTemplateService=new h.GridTemplateService(this.configStore),this.InitHandlers()}return e}();n.Grid=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){var n=this;if(this.defaultGridOptions={chunkSize:5,columns:[],containerElement:null,manageColSettingsContainer:null,hybridFunction:function(e,n){return"true"},keyColumn:"",onClickFilter:function(e,n,t){},onClickHeader:function(e,n){},onPageSearch:function(e,n){},onSelect:function(e){}},this.SetHiddenOnConfig=function(e,t){n.Options.columns.forEach(function(n){if(null===t)n.hidden=e;else if(n.id===t)return n.hidden=e,!1})},this.extendOptions=function(e){return n.options=jQuery.extend({},n.defaultGridOptions,e)},this.extendOptions(e),null===e.containerElement)throw new Error("Please Provide a valid container Element object")}return Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},set:function(e){this.options=e},enumerable:!0,configurable:!0}),e}();n.ConfigStore=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){this.parentElement=e,this.toggleColumnHandler=n}return e.prototype.onResize=function(){var e=this.parentElement.find(".column-settings-container"),n=this.parentElement.find(".table-body").innerHeight();e.innerHeight(n-10),e.find(".col-settings-table").innerHeight(e.innerHeight()-e.find(".col-settings-header").innerHeight())},e.prototype.onDocumentClick=function(e){var n=jQuery(e.target);n.is(".col-settings-trigger")||n.parents().is(".column-settings-container")||jQuery(".column-settings-container").hide()},e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("click",".table-footer .col-settings-trigger",function(n){var t=(jQuery(n.target),jQuery(".column-settings-container"));e.onResize(),t.toggle(),n.stopPropagation()}),this.parentElement.on("keyup",".column-settings-container .col-settings-header .col-settings-filter",function(n){var t=jQuery(n.target),i=t.val().toString().toLowerCase();console.log(i),e.parentElement.find(".col-settings-table table tbody tr").each(function(e,n){jQuery(n).show(),-1===jQuery(n).attr("data-header-id").toLowerCase().indexOf(i)&&jQuery(n).hide()}),n.stopPropagation()}),this.parentElement.on("click",".column-settings-container .show-all-column",function(n){e.parentElement.find(".column-settings-container .col-settings-hidden-checkbox").each(function(e,n){jQuery(n).prop("checked",!0)}),e.toggleColumnHandler.showAllColumns(),n.stopPropagation()}),this.parentElement.on("click",".column-settings-container .hide-all-column",function(n){e.parentElement.find(".column-settings-container .col-settings-hidden-checkbox").each(function(e,n){jQuery(n).prop("checked",!1)}),e.toggleColumnHandler.hideAllColumns(),n.stopPropagation()}),this.parentElement.on("click",".column-settings-container .col-settings-hidden-checkbox",function(n){if(void 0!==n.originalEvent){var t=jQuery(n.target),i=t.val().toString();t.is(":checked")?e.toggleColumnHandler.showColumn(i):e.toggleColumnHandler.hideColumn(i)}n.stopPropagation()})},e}();n.ColSettingsHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n,t){this.configStore=e,this.parentElement=n,this.gridTemplateService=t}return e.prototype.RegisterDomHandler=function(){var e=this;this.parentElement.on("change",".select-key-checkbox",function(n){if(void 0!==n.originalEvent){var t=jQuery(n.target),i=t.data("value");e.configStore.Options.onSelect([i],t.is(":checked")),n.stopPropagation()}}),this.parentElement.on("change",".select-all-checkbox",function(n){var t=jQuery(n.target),i=t.is(":checked");e.configStore.Options.onSelect(e.gridTemplateService.Data,i),e.parentElement.find(".select-key-checkbox").prop("checked",i),n.stopPropagation()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.SelectEventHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){var n=this;this.RegisterDomHandler=function(){n.parentElement.on("click",".table-body .expansionArrows i",function(e){var n=jQuery(e.target),t=n.closest("tr").next();n.hide(),n.siblings("i").show();n.hasClass("expandDetailsRowIcon")?t.show(200):t.hide(200),e.stopPropagation()})},this.parentElement=e}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.DetailsRowHandler=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),o=t(17),a=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-body .detailsRow .detailsTable td i",function(e){var n=jQuery(e.target),a=n.parents("td"),r=a.attr("data-filter-key"),l=a.attr("data-filter-value"),c=i.CommonUtil.GetColumnObject(r,t.configStore.Options.columns);if(void 0!==c&&null!==c&&c.filterable){var u=o.FilterActionType.Add;n.hasClass("removeFilter")&&(u=o.FilterActionType.Minus),t.configStore.Options.onClickFilter(r,l,u),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.FilterClickHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.Add="Add",e.Minus="Minus"}(n.FilterActionType||(n.FilterActionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.FilterAction=0]="FilterAction",e[e.HeaderClick=1]="HeaderClick",e[e.Scroll=2]="Scroll",e[e.PageSearch=3]="PageSearch",e[e.DetailsRow=4]="DetailsRow",e[e.ToggleColumn=5]="ToggleColumn",e[e.ColSettings=6]="ColSettings"}(n.HandlerNames||(n.HandlerNames={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),o=t(6),a=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-header th",function(e){var n=jQuery(e.target).closest("th"),a=n.attr("data-header-id"),r=i.CommonUtil.GetColumnObject(a,t.configStore.Options.columns);if(void 0!==r&&null!==r&&r.sortable){var l,c=n.find("i"),u=c.first(),s=c.last();c.is(":visible")?u.is(":visible")?(l=o.OrderDirection.Desc,u.hide(),s.show()):(l=o.OrderDirection.Asc,s.hide(),u.show()):(l=o.OrderDirection.Asc,u.show()),i.CommonUtil.SetOrder(a,l,t.configStore.Options.columns),t.configStore.Options.onClickHeader(a,l),e.stopPropagation()}})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();n.HeaderClickHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(5),o=t(2),a=function(){function e(e,n){var t=this;this.RegisterDomHandler=function(){t.parentElement.on("click",".table-footer .firstLink",function(e){t.configStore.options.onPageSearch(o.Pager.PaginationData.pageSize,1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .nextLink",function(e){t.configStore.options.onPageSearch(o.Pager.PaginationData.pageSize,o.Pager.PaginationData.pageIndex+1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .prevLink",function(e){t.configStore.options.onPageSearch(o.Pager.PaginationData.pageSize,o.Pager.PaginationData.pageIndex-1),e.stopPropagation()}),t.parentElement.on("click",".table-footer .lastLink",function(e){t.configStore.options.onPageSearch(o.Pager.PaginationData.pageSize,o.Pager.PaginationData.noOfPages),e.stopPropagation()}),t.parentElement.on("change",".table-footer .pageSizeSelector",function(e){var n=+i(e.target).val().toString();t.configStore.options.onPageSearch(n,o.Pager.PaginationData.pageIndex),e.stopPropagation()}),t.parentElement.on("keypress",".table-footer .pager-input",function(e){var n=i(e.target),a=o.Pager.PaginationData;if(13===e.keyCode){var r=+n.val().toString();isNaN(r)||r>a.noOfPages||r<1?n.val(a.pageIndex):t.configStore.options.onPageSearch(a.pageSize,r)}e.stopPropagation()})},this.configStore=e,this.parentElement=n}return e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(){},e}();n.PageSearchHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),o=t(22),a=function(){function e(e,n){var t=this;this.rendering=!1,this.RegisterDomHandler=function(){t.parentElement.find(".table-body").on("scroll",function(e){var n=t.parentElement.find(".table-body");void 0!==t.leftOffset&&null!==t.leftOffset||(t.leftOffset=t.parentElement.find(".table-header").offset().left),t.parentElement.find(".table-header").offset({left:t.leftOffset+-1*n.scrollLeft(),top:0});var o=n.find(".mainTable").height();if(t.Virtualizer.TableHeight=o,t.Virtualizer.ScrollContainerHeight=n.height(),e.preventDefault(),t.rendering)return void e.stopPropagation();var a=n.scrollTop(),r=t.Virtualizer.GetIndexCounterForScroll(a);switch(r.direction){case i.ScrollDirection.Down:r.renderingRequired&&(t.rendering=!0,n.find(".mainTable .mainTableBody").append(t.gridTemplateService.GetRowsHtml(r.startIndex,r.endIndex)),n.find(".mainTable .mainTableBody > tr").slice(0,2*t.configStore.options.chunkSize).remove(),t.rendering=!1);break;case i.ScrollDirection.Up:r.renderingRequired&&(t.rendering=!0,n.find(".mainTable .mainTableBody").prepend(t.gridTemplateService.GetRowsHtml(r.startIndex,r.endIndex)),n.find(".mainTable .mainTableBody > tr").slice(-2*t.configStore.options.chunkSize).remove(),t.rendering=!1)}e.stopPropagation()})},this.configStore=e,this.parentElement=jQuery(this.configStore.Options.containerElement),this.gridTemplateService=n}return e.prototype.onResize=function(){this.leftOffset=this.parentElement.find(".table-header").offset().left},e.prototype.onDocumentClick=function(e){},Object.defineProperty(e.prototype,"Virtualizer",{get:function(){return null===this.virtualizer||void 0===this.virtualizer?this.virtualizer=new o.Virtualizer(this.configStore.options.chunkSize,25,this.gridTemplateService.DataLength):this.virtualizer},enumerable:!0,configurable:!0}),e}();n.ScrollHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(23),o=t(4),a=function(){function e(e,n,t){var a=this;this.GetIndexCounterForScroll=function(e){var n=i.GetDefaultIndexCounter(a.chunkSize,a.initialRowCount);switch(n.direction=a.GetScrollDirection(e),n.direction){case o.ScrollDirection.Down:if(a.currentIndexCounter.lastIndex>=a.length-1)n.endReached=!0;else{n.endReached=!1;var t=e+a.ScrollContainerHeight-.8*a.TableHeight;t>0&&(n.renderingRequired=!0,n=a.PopulateIndexCounterForDown(n))}break;case o.ScrollDirection.Up:if(a.currentIndexCounter.firstIndex<=0)n.endReached=!0;else{n.endReached=!1;var t=e-.1*(a.TableHeight-a.ScrollContainerHeight);t<0&&(n.renderingRequired=!0,n=a.PopulateIndexCounterForUp(n))}}return n.renderingRequired&&(a.currentIndexCounter=n),a.lastScrollPosition=e,n},this.Print=function(e,n){console.log(" ******************************************************************* "),console.log(" Scroll Position - "+a.lastScrollPosition),console.log(" Length  - "+a.length),console.log(" ------------  CURRENT ---------- "),Object.keys(n).forEach(function(e,t){console.log(e+" - "+n[e])}),console.log(" ------------  NEW ---------- "),Object.keys(e).forEach(function(n,t){console.log(n+" - "+e[n])}),console.log(" ******************************************************************* ")},this.PopulateIndexCounterForDown=function(e){return e.startIndex=a.currentIndexCounter.lastIndex+1,e.endIndex=a.currentIndexCounter.lastIndex+a.chunkSize>a.length-1?a.length-1:a.currentIndexCounter.lastIndex+a.chunkSize,e.firstIndex=a.currentIndexCounter.firstIndex+a.chunkSize,e.lastIndex=e.endIndex,e},this.PopulateIndexCounterForUp=function(e){return e.startIndex=a.currentIndexCounter.firstIndex-a.chunkSize<0?0:a.currentIndexCounter.firstIndex-a.chunkSize,e.endIndex=a.currentIndexCounter.firstIndex-1,e.firstIndex=e.startIndex,e.lastIndex=a.currentIndexCounter.lastIndex-a.chunkSize,e},this.GetScrollDirection=function(e){return a.lastScrollPosition<e?o.ScrollDirection.Down:o.ScrollDirection.Up},this.lastScrollPosition=0,this.length=t,this.chunkSize=e,this.initialRowCount=n,this.currentIndexCounter=i.GetDefaultIndexCounter(n,e)}return Object.defineProperty(e.prototype,"ScrollContainerHeight",{get:function(){return this.scrollContainerHeight},set:function(e){this.scrollContainerHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TableHeight",{get:function(){return this.tableHeight},set:function(e){this.tableHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"InitialRowCount",{get:function(){return this.initialRowCount},set:function(e){this.initialRowCount=e},enumerable:!0,configurable:!0}),e}();n.Virtualizer=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(4);n.GetDefaultIndexCounter=function(e,n){return{startIndex:e-1,endIndex:e+n-1,firstIndex:0,lastIndex:e-1,direction:i.ScrollDirection.Down,endReached:!1,renderingRequired:!1}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t(3);!function(e){e[e.Show=0]="Show",e[e.Hide=1]="Hide",e[e.ShowAll=2]="ShowAll",e[e.HideAll=3]="HideAll"}(i||(i={}));var a=function(){function e(e,n){var t=this;this.showAllColumns=function(){t.SetColWidth(".table-header .headerColGroup col",i.ShowAll),t.SetColWidth(".table-body .bodyColGroup col",i.ShowAll),t.configStore.SetHiddenOnConfig(!1)},this.showColumn=function(e){t.SetColWidth(".table-header .headerColGroup col",i.Show,e),t.SetColWidth(".table-body .bodyColGroup col",i.Show,e),t.configStore.SetHiddenOnConfig(!1,e)},this.hideColumn=function(e){t.SetColWidth(".table-header .headerColGroup col",i.Hide,e),t.SetColWidth(".table-body .bodyColGroup col",i.Hide,e),t.configStore.SetHiddenOnConfig(!0,e)},this.hideAllColumns=function(){t.SetColWidth(".table-header .headerColGroup col",i.HideAll),t.SetColWidth(".table-body .bodyColGroup col",i.HideAll),t.configStore.SetHiddenOnConfig(!0)},this.SetColWidth=function(e,n,a){t.parentElement.find(e).each(function(e,r){var l=0,c=jQuery(r),u=c.attr("data-header-id");if(void 0!==u){var s=void 0;if([i.Show,i.Hide].indexOf(n)>-1&&u===a)return n===i.Show&&(s=o.CommonUtil.GetColumnObject(u,t.configStore.options.columns),l=s.width),void c.width(l+"px");[i.ShowAll,i.HideAll].indexOf(n)>-1&&(n===i.ShowAll&&(s=o.CommonUtil.GetColumnObject(u,t.configStore.options.columns),l=s.width),c.width(l+"px"))}})},this.configStore=e,this.parentElement=n}return e}();n.ToggleColumnHandler=a},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(7),o=t(8),a=t(10),r=t(27),l=t(29),c=t(2),u=function(){function e(e){var n=this;this.GetFirstTemplate=function(e,t,i){n.data=e;var o=n.GetRowsHtml(t,i);return n.templateFunctionForGrid({columns:n.configStore.Options.columns,mainRowArray:o,paginationData:c.Pager.PaginationData})},this.GetManageColumnsHtml=function(){return n.templateFunctionForManageCol({columns:n.configStore.Options.columns})},this.GetRowsHtml=function(e,t){for(var i=[],o=(n.configStore.Options.columns.length,e);o<=t;o++){for(var a=n.data[o],r=[],l=0,c=n.configStore.Options.columns;l<c.length;l++){var u=c[l],s=a[u.id];u.renderHybrid&&(s=n.configStore.Options.hybridFunction(u,a)),r.push({columnValue:s,hidden:u.hidden,actualValue:a[u.id],columnName:u.name,id:u.id,filterable:u.filterable})}i.push({rowData:JSON.stringify(a),keyColumn:a[n.configStore.Options.keyColumn],mainRowColArray:r,length:n.configStore.Options.columns.length})}return i},this.configStore=e,this.templateFunctionForGrid=l,this.templateFunctionForMainRow=a,this.templateFunctionForDetailsRow=i,this.templateFunctionForFooter=o,this.templateFunctionForManageCol=r}return Object.defineProperty(e.prototype,"Data",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DataLength",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),e}();n.GridTemplateService=u},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n){return e===n?"selected":""};n.default=i},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var o=t(0);e.exports=(o.default||o).template({1:function(e,n,o,a,r){var l=e.lambda,c=e.escapeExpression;return'                <tr data-header-id="'+c(l(null!=n?n.name:n,n))+'">\r\n                    <td>\r\n                        <input type="checkbox" class="col-settings-hidden-checkbox" value="'+c(l(null!=n?n.id:n,n))+'" '+c(i(t(28)).call(null!=n?n:e.nullContext||{},null!=n?n.hidden:n,{name:"Checked",hash:{},data:r}))+">\r\n                    </td>\r\n                    <td>\r\n                        <label>"+c(l(null!=n?n.name:n,n))+"</label>\r\n                    </td>\r\n                </tr>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,o){var a;return'<div class="gui card of-hidden p-10 min-w-50 w-auto fluid-h" >\r\n    <div class="col-settings-header" style="width: 100%">\r\n        <div class="gui mini fluid icon input">\r\n            <input class="col-settings-filter" type="text" placeholder="Search filter...">\r\n            <i class="search icon"></i>\r\n        </div>\r\n        <div class="gui m-t-10">\r\n            <a class="gui show-all-column">Show All</a>\r\n            <a class="gui hide-all-column">Hide All</a>\r\n        </div>\r\n    </div>\r\n    <div class="col-settings-table gui of-auto p-5 m-t-10" >\r\n        <table class="gui small very border-less compact table">\r\n            <tbody>\r\n'+(null!=(a=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?a:"")+"            </tbody>\r\n        </table>\r\n    </div>\r\n</div>"},useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e?"":"checked"};n.default=i},function(e,n,t){function i(e){return e&&(e.__esModule?e.default:e)}var o=t(0);e.exports=(o.default||o).template({1:function(e,n,o,a,r){var l;return"                    "+(null!=(l=i(t(30)).call(null!=n?n:e.nullContext||{},n,{name:"Column",hash:{},data:r}))?l:"")+"\n"},3:function(e,n,t,i,o){var a,r=e.lambda,l=e.escapeExpression;return'                        <th id="header-'+l(r(null!=n?n.id:n,n))+'" data-header-id="'+l(r(null!=n?n.id:n,n))+'">\n                            <span class="gui sub header">'+l(r(null!=n?n.name:n,n))+"</span>\n"+(null!=(a=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.sortable:n,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?a:"")+"                        </th>\n"},4:function(e,n,o,a,r){var l;return"                                "+(null!=(l=i(t(31)).call(null!=n?n:e.nullContext||{},null!=n?n.order:n,{name:"Ordered",hash:{},data:r}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,i,o,a){var r,l=null!=n?n:e.nullContext||{};return'<style>\n    .inner-container {\n        height: 100%;\n        overflow: hidden;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .table-header {\n        position: relative;\n        top:0 !important;\n    }\n\n    .table-body {\n        overflow: auto;\n        flex: 5;\n        padding-right: 17px;\n    }\n    .table-footer{\n        height: 35px;\n        padding: 5px;\n    }\n    .table-footer .footer-middle{\n        display: flex;\n    }\n    .table-footer .footer-right{\n        display: flex;\n    }\n    .margin-auto{\n        margin: auto !important;\n    }\n    .remove-label:hover{\n        text-decoration: line-through;\n        cursor: pointer;\n    }\n    .border-less tr td,.border-less { border: 0px !important; }\n    .cursor-pointer{\n        cursor: pointer;\n    }\n    .ui.supercompact.icon.button, .ui.supercompact.icon.buttons .button {\n        padding: .3em .3em .3em .3em !important;\n    }\n</style>\n<div class="inner-container gui fluid container" style="padding:0%;">\n    <div class="table-header">\n        <table id="headertable" class="gui basic large compact fixed selectable single line table mainTable">\n            <colgroup class="headerColGroup">\n                <col style="width:40px;" />\n                <col style="width:40px;" />\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'            </colgroup>\n            <thead>\n                <tr>\n                    <th></th>\n                    <th><input type="checkbox" class="select-all-checkbox"></th>\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+'                </tr>\n            </thead>\n        </table>\n    </div>\n    <div class="table-body">\n        <table class="gui basic large compact fixed selectable single line table mainTable">\n            <colgroup class="bodyColGroup">\n                <col style="width:40px;" /> \n                <col style="width:40px;" />\n'+(null!=(r=i.each.call(l,null!=n?n.columns:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'            </colgroup>\n            <tbody class="mainTableBody">\n'+(null!=(r=e.invokePartial(t(10),n,{name:"grid-main-row",data:a,indent:"                ",helpers:i,partials:o,decorators:e.decorators}))?r:"")+'            </tbody>\n        </table>\n    </div>\n    <div class="table-footer gui h-auto fluid-w basic curved row p-5 m-0">\n'+(null!=(r=e.invokePartial(t(8),n,{name:"grid-footer",data:a,indent:"           ",helpers:i,partials:o,decorators:e.decorators}))?r:"")+"    </div>\n</div>"},usePartial:!0,useData:!0})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return'<col style="width : '+(e.hidden?0:e.width)+'px;"data-header-id="'+e.id+'" />'};n.default=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),o=function(e){return e===i.OrderDirection.Asc?'<i class="gui gui-icon gui-icon-arrow-up" aria-hidden="true" ></i> ':e===i.OrderDirection.Desc?'<i class="gui gui-icon gui-icon-arrow-down" aria-hidden="true" ></i> ':'<i class="gui gui-icon gui-icon-arrow-up gui-hidden" aria-hidden="true" ></i> <i class="gui gui-icon gui-icon-arrow-down gui-hidden" aria-hidden="true" ></i>'};n.default=o}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9ncmlkb28ubWluLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAzNzg1ZjhkNjRiMzE3NDk4NGI4ZiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiSGFuZGxlYmFyc1wiLFwiYW1kXCI6XCJoYW5kbGViYXJzLnJ1bnRpbWVcIixcImNvbW1vbmpzMlwiOlwiaGFuZGxlYmFycy9ydW50aW1lXCIsXCJjb21tb25qc1wiOlwiaGFuZGxlYmFycy9ydW50aW1lXCJ9Iiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcGFnaW5hdGlvbi9QYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC9Db2x1bW5VdGlsLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy92aXJ0dWFsaXphdGlvbi9TY3JvbGxEaXJlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVscy9PcmRlckRpcmVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9tYXRoLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZ3JpZC1tYWluLXJvdy5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4vR3JpZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL0NvbFNldHRpbmdzSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlydHVhbGl6YXRpb24vVmlydHVhbGl6ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3ZpcnR1YWxpemF0aW9uL0luZGV4Q291bnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXZlbnRIYW5kbGVycy9Ub2dnbGVDb2x1bW5IYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9TZWxlY3RlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2dyaWQtbWFuYWdlLWNvbHVtbnMuaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9DaGVja2VkLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZ3JpZC5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9oZWxwZXJzL0NvbHVtbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2hlbHBlcnMvT3JkZXJlZC50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNV9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmFsdWUiLCJkaXNhYmxlZCIsImJvb2wiLCJkZWZhdWx0IiwiUGFnZXIiLCJwYWdpbmF0aW9uRGF0YSIsIkNhbGN1bGF0ZVBhZ2luYXRpb25EYXRhIiwicGFnaW5hdGlvbklucHV0IiwicGFnZUluZGV4IiwicGFnZVNpemUiLCJwYWdlU2l6ZXMiLCJ0b3RhbENvdW50Iiwibm9PZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJtaW5OdW0iLCJsb3dlckxpbWl0T2Zmc2V0IiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJmaXJzdFBhZ2VMaW5rRGlzYWJsZWQiLCJsYXN0UGFnZUxpbmtEaXNhYmxlZCIsInByZXZQYWdlTGlua0Rpc2FibGVkIiwibmV4dFBhZ2VMaW5rRGlzYWJsZWQiLCJDb21tb25VdGlsIiwiR2V0Q29sdW1uT2JqZWN0IiwiY29sdW1uSWQiLCJjb2x1bW5zIiwicmV0Q29sIiwiZm9yRWFjaCIsImNvbCIsImlkIiwiU2V0T3JkZXIiLCJvcmRlciIsIlNjcm9sbERpcmVjdGlvbiIsIk9yZGVyRGlyZWN0aW9uIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiMSIsImNvbnRhaW5lciIsImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiLCJzdGFjazEiLCJoZWxwZXIiLCJhbGlhczEiLCJudWxsQ29udGV4dCIsImFsaWFzMiIsImhlbHBlck1pc3NpbmciLCJhbGlhczQiLCJlc2NhcGVFeHByZXNzaW9uIiwiaGFzaCIsImFjdHVhbFZhbHVlIiwiY29sdW1uTmFtZSIsImZpbHRlcmFibGUiLCJmbiIsInByb2dyYW0iLCJpbnZlcnNlIiwibm9vcCIsImNvbHVtblZhbHVlIiwiMiIsImNvbXBpbGVyIiwibWFpbiIsImxlbmd0aCIsImVhY2giLCJtYWluUm93Q29sQXJyYXkiLCJ1c2VEYXRhIiwiX19kZWZhdWx0Iiwib2JqIiwiYmxvY2tQYXJhbXMiLCJkZXB0aHMiLCJsYW1iZGEiLCJhbGlhczMiLCJub09GcGFnZXMiLCJ1c2VEZXB0aHMiLCJtYXRoIiwibHZhbHVlIiwib3BlcmF0b3IiLCJydmFsdWUiLCJvcHRpb25zIiwiKyIsIi0iLCIqIiwiLyIsIiUiLCJyb3dEYXRhIiwia2V5Q29sdW1uIiwiaW52b2tlUGFydGlhbCIsImRlY29yYXRvcnMiLCJtYWluUm93QXJyYXkiLCJ1c2VQYXJ0aWFsIiwialF1ZXJ5IiwiQ29uZmlnU3RvcmVfMSIsIkNvbFNldHRpbmdzSGFuZGxlcl8xIiwiU2VsZWN0RXZlbnRIYW5kbGVyXzEiLCJQYWdlcl8xIiwiRGV0YWlsc1Jvd0hhbmRsZXJfMSIsIkZpbHRlckNsaWNrSGFuZGxlcl8xIiwiSGFuZGxlck5hbWVzXzEiLCJIZWFkZXJDbGlja0hhbmRsZXJfMSIsIlBhZ2VTZWFyY2hDbGlja0hhbmRsZXJfMSIsIlNjcm9sbEhhbmRsZXJfMSIsIlRvZ2dsZUNvbHVtbkhhbmRsZXJfMSIsIkdyaWRUZW1wbGF0ZVNlcnZpY2VfMSIsIkdyaWQiLCJfdGhpcyIsImJpbmREYXRhIiwibGFzdEluZGV4IiwiY29uZmlnU3RvcmUiLCJPcHRpb25zIiwiY2h1bmtTaXplIiwiZ2V0SW5pdGlhbFJvd0NvdW50IiwiZ3JpZENvbnRlbnQiLCJncmlkVGVtcGxhdGVTZXJ2aWNlIiwiR2V0Rmlyc3RUZW1wbGF0ZSIsImNvbnRhaW5lckVsZW1lbnQiLCJpbm5lckhUTUwiLCJzY3JvbGxIYW5kbGVyIiwiU2Nyb2xsSGFuZGxlciIsIlJlZ2lzdGVyRG9tSGFuZGxlciIsImhhbmRsZUNoYWluIiwicHVzaCIsImhhbmRsZXIiLCJIYW5kbGVyTmFtZXMiLCJTY3JvbGwiLCJnZXRNYW5hZ2VDb2x1bXNIdG1sIiwiR2V0TWFuYWdlQ29sdW1uc0h0bWwiLCJJbml0SGFuZGxlcnMiLCJwYXJlbnRFbGVtZW50IiwiRGV0YWlsc1Jvd0hhbmRsZXIiLCJEZXRhaWxzUm93IiwiRmlsdGVyQ2xpY2tIYW5kbGVyIiwiRmlsdGVyQWN0aW9uIiwiSGVhZGVyQ2xpY2tIYW5kbGVyIiwiSGVhZGVyQ2xpY2siLCJQYWdlU2VhcmNoSGFuZGxlciIsIlBhZ2VTZWFyY2giLCJ0b2dnbGVIYW5kbGVyIiwiVG9nZ2xlQ29sdW1uSGFuZGxlciIsInVuZGVmaW5lZCIsIm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyIiwiQ29sU2V0dGluZ3NIYW5kbGVyIiwiQ29sU2V0dGluZ3MiLCJTZWxlY3RFdmVudEhhbmRsZXIiLCJ3aW5kb3ciLCJyZXNpemUiLCJvblJlc2l6ZSIsImRvY3VtZW50IiwiY2xpY2siLCJldmVudCIsIm9uRG9jdW1lbnRDbGljayIsInN0b3BQcm9wYWdhdGlvbiIsIkNvbmZpZ1N0b3JlIiwiR3JpZFRlbXBsYXRlU2VydmljZSIsImRlZmF1bHRHcmlkT3B0aW9ucyIsImh5YnJpZEZ1bmN0aW9uIiwiY29sdW1uIiwicm93Iiwib25DbGlja0ZpbHRlciIsImFjdGlvblR5cGUiLCJvbkNsaWNrSGVhZGVyIiwiZGlyZWN0aW9uIiwib25QYWdlU2VhcmNoIiwib25TZWxlY3QiLCJyb3dzIiwiU2V0SGlkZGVuT25Db25maWciLCJoaWRkZW4iLCJleHRlbmRPcHRpb25zIiwiaW5wdXRPcHRpb25zIiwiZXh0ZW5kIiwiRXJyb3IiLCJzZXQiLCJlbGVtZW50IiwidG9nZ2xlQ29sdW1uSGFuZGxlciIsInNldHRuZ3NQb3B1cCIsImZpbmQiLCJ0Ym9keUhlaWdodCIsImlubmVySGVpZ2h0IiwidGFyZ2V0RWxlbWVudCIsInRhcmdldCIsImlzIiwicGFyZW50cyIsImhpZGUiLCJvbiIsInRvZ2dsZSIsInZhbCIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwibG9nIiwiZSIsInNob3ciLCJhdHRyIiwiaW5kZXhPZiIsImluZGV4IiwicHJvcCIsInNob3dBbGxDb2x1bW5zIiwiaGlkZUFsbENvbHVtbnMiLCJvcmlnaW5hbEV2ZW50IiwiY2hlY2tib3giLCJzaG93Q29sdW1uIiwiaGlkZUNvbHVtbiIsImNoZWNrZWQiLCJEYXRhIiwiYXJyb3ciLCJkZXRhaWxzUm93IiwiY2xvc2VzdCIsIm5leHQiLCJzaWJsaW5ncyIsImhhc0NsYXNzIiwiQ29sdW1uVXRpbF8xIiwiRmlsdGVyQWN0aW9uVHlwZV8xIiwicGFyZW50VGQiLCJrZXkiLCJmaWx0ZXJBY3Rpb24iLCJGaWx0ZXJBY3Rpb25UeXBlIiwiQWRkIiwiTWludXMiLCJPcmRlckRpcmVjdGlvbl8xIiwiaGVhZGVySWQiLCJzb3J0YWJsZSIsImFycm93SWNvbnMiLCJ1cEFycm93SWNvbiIsImZpcnN0IiwiZG93bkFycm93SWNvbiIsImxhc3QiLCJEZXNjIiwiQXNjIiwiUGFnaW5hdGlvbkRhdGEiLCJpcCIsInBhZ2VEYXRhIiwia2V5Q29kZSIsImlzTmFOIiwiU2Nyb2xsRGlyZWN0aW9uXzEiLCJWaXJ0dWFsaXplcl8xIiwicmVuZGVyaW5nIiwidEJvZHlPYmoiLCJsZWZ0T2Zmc2V0Iiwib2Zmc2V0IiwibGVmdCIsInNjcm9sbExlZnQiLCJ0b3AiLCJhY3R1YWxUYWJsZUhlaWdodCIsImhlaWdodCIsIlZpcnR1YWxpemVyIiwiVGFibGVIZWlnaHQiLCJTY3JvbGxDb250YWluZXJIZWlnaHQiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbFRvcCIsImluZGV4Q291bnRlciIsIkdldEluZGV4Q291bnRlckZvclNjcm9sbCIsIkRvd24iLCJyZW5kZXJpbmdSZXF1aXJlZCIsImFwcGVuZCIsIkdldFJvd3NIdG1sIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic2xpY2UiLCJyZW1vdmUiLCJVcCIsInByZXBlbmQiLCJ2aXJ0dWFsaXplciIsIkRhdGFMZW5ndGgiLCJJbmRleENvdW50ZXJfMSIsImluaXRpYWxSb3dDb3VudCIsIm5ld0NvdW50ZXIiLCJHZXREZWZhdWx0SW5kZXhDb3VudGVyIiwiR2V0U2Nyb2xsRGlyZWN0aW9uIiwiY3VycmVudEluZGV4Q291bnRlciIsImVuZFJlYWNoZWQiLCJkaWZmIiwiUG9wdWxhdGVJbmRleENvdW50ZXJGb3JEb3duIiwiZmlyc3RJbmRleCIsIlBvcHVsYXRlSW5kZXhDb3VudGVyRm9yVXAiLCJsYXN0U2Nyb2xsUG9zaXRpb24iLCJQcmludCIsImtleXMiLCJjb3VudGVyIiwic2Nyb2xsQ29udGFpbmVySGVpZ2h0IiwidGFibGVIZWlnaHQiLCJyb3dDb3VudCIsIlNob3dIaWRlIiwiU2V0Q29sV2lkdGgiLCJTaG93QWxsIiwiU2hvdyIsIkhpZGUiLCJIaWRlQWxsIiwic2VsZWN0b3IiLCJjb250cm9sIiwid2lkdGgiLCJjdXJyZW50Q29sRWxlbSIsImN1cnJlbnRDb2wiLCJHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlIiwiR3JpZEZvb3RlciIsIkdyaWRNYWluUm93VGVtcGxhdGUiLCJNYW5hZ2VDb2x1bW5UZW1wbGF0ZSIsIkdyaWRUZW1wbGF0ZSIsInRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkIiwidGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCIsIl9pIiwiX2EiLCJyZW5kZXJIeWJyaWQiLCJKU09OIiwic3RyaW5naWZ5IiwidGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3ciLCJ0ZW1wbGF0ZUZ1bmN0aW9uRm9yRGV0YWlsc1JvdyIsInRlbXBsYXRlRnVuY3Rpb25Gb3JGb290ZXIiLCJzZWxlY3RlZCIsImlucHV0IiwiMyIsIjQiLCJpbmRlbnQiLCJDb2x1bW4iLCJvcmRlcmVkIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFB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TW1WLEVBQVUsU0FBQ3pSLEdBQ2IsTUFBSUEsS0FBVTBMLEVBQUF4TCxlQUFlaU0sSUFDbEIsc0VBQ0FuTSxJQUFVMEwsRUFBQXhMLGVBQWVnTSxLQUN6Qix3RUFFQSxnS0FLZnRRLEdBQUFzQyxRQUFldVQiLCJmaWxlIjoiZ3JpZG9vLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImhhbmRsZWJhcnMvcnVudGltZVwiKSwgcmVxdWlyZShcImpRdWVyeVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJoYW5kbGViYXJzLnJ1bnRpbWVcIiwgXCJqUXVlcnlcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiR3JpZG9vXCJdID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJvb3RbXCJIYW5kbGViYXJzXCJdLCByb290W1wialF1ZXJ5XCJdKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV81X18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiaGFuZGxlYmFycy9ydW50aW1lXCIpLCByZXF1aXJlKFwialF1ZXJ5XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImhhbmRsZWJhcnMucnVudGltZVwiLCBcImpRdWVyeVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJHcmlkb29cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkdyaWRvb1wiXSA9IGZhY3Rvcnkocm9vdFtcIkhhbmRsZWJhcnNcIl0sIHJvb3RbXCJqUXVlcnlcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzVfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIHtcInJvb3RcIjpcIkhhbmRsZWJhcnNcIixcImFtZFwiOlwiaGFuZGxlYmFycy5ydW50aW1lXCIsXCJjb21tb25qczJcIjpcImhhbmRsZWJhcnMvcnVudGltZVwiLFwiY29tbW9uanNcIjpcImhhbmRsZWJhcnMvcnVudGltZVwifSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGRpc2FibGVkID0gZnVuY3Rpb24gKGJvb2wpIHtcclxuICAgIHJldHVybiBib29sID8gXCJkaXNhYmxlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gZGlzYWJsZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9wYWdpbmF0aW9uL1BhZ2VyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBQYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2VyKCkge1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhZ2VyLCBcIlBhZ2luYXRpb25EYXRhXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgUGFnZXIuQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEgPSBmdW5jdGlvbiAocGFnaW5hdGlvbklucHV0KSB7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRpb25EYXRhID0ge307XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID0gcGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZXMgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemVzO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnRvdGFsQ291bnQgPSBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPSBNYXRoLmNlaWwocGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQgLyBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUpO1xyXG4gICAgICAgIHZhciBtaW5OdW0gPSAoKHBhZ2luYXRpb25JbnB1dC5wYWdlSW5kZXggLSAxKSAqIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgdmFyIGxvd2VyTGltaXRPZmZzZXQgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemUgPiBwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCA/XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IDpcclxuICAgICAgICAgICAgcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLnJhbmdlID0ge1xyXG4gICAgICAgICAgICBtaW46IG1pbk51bSArIDEsXHJcbiAgICAgICAgICAgIG1heDogbWluTnVtICsgbG93ZXJMaW1pdE9mZnNldCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBhZ2luYXRpb25EYXRhLmZpcnN0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gMSB8fCBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IDE7XHJcbiAgICAgICAgcGFnaW5hdGlvbkRhdGEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IDFcclxuICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzKTtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMVxyXG4gICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4IC0gMSkgPD0gMDtcclxuICAgICAgICBwYWdpbmF0aW9uRGF0YS5uZXh0UGFnZUxpbmtEaXNhYmxlZCA9IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9PT0gcGFnaW5hdGlvbkRhdGEucGFnZUluZGV4XHJcbiAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKSA+PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXM7XHJcbiAgICAgICAgUGFnZXIucGFnaW5hdGlvbkRhdGEgPSBwYWdpbmF0aW9uRGF0YTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUGFnZXIgPSBQYWdlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdXRpbC9Db2x1bW5VdGlsLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbW1vblV0aWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21tb25VdGlsKCkge1xyXG4gICAgfVxyXG4gICAgQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3QgPSBmdW5jdGlvbiAoY29sdW1uSWQsIGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXRDb2w7XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIHJldENvbCA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRDb2w7XHJcbiAgICB9O1xyXG4gICAgQ29tbW9uVXRpbC5TZXRPcmRlciA9IGZ1bmN0aW9uIChjb2x1bW5JZCwgb3JkZXIsIGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXRDb2w7XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5vcmRlciA9IG9yZGVyO1xyXG4gICAgICAgICAgICAgICAgcmV0Q29sID0gY29sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldENvbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tbW9uVXRpbDtcclxufSgpKTtcclxuZXhwb3J0cy5Db21tb25VdGlsID0gQ29tbW9uVXRpbDtcclxuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlydHVhbGl6YXRpb24vU2Nyb2xsRGlyZWN0aW9uLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFNjcm9sbERpcmVjdGlvbjtcclxuKGZ1bmN0aW9uIChTY3JvbGxEaXJlY3Rpb24pIHtcclxuICAgIFNjcm9sbERpcmVjdGlvbltcIlVwXCJdID0gXCJVcFwiO1xyXG4gICAgU2Nyb2xsRGlyZWN0aW9uW1wiRG93blwiXSA9IFwiRG93blwiO1xyXG59KShTY3JvbGxEaXJlY3Rpb24gPSBleHBvcnRzLlNjcm9sbERpcmVjdGlvbiB8fCAoZXhwb3J0cy5TY3JvbGxEaXJlY3Rpb24gPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwialF1ZXJ5XCIgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNV9fO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL21vZGVscy9PcmRlckRpcmVjdGlvbi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBPcmRlckRpcmVjdGlvbjtcclxuKGZ1bmN0aW9uIChPcmRlckRpcmVjdGlvbikge1xyXG4gICAgT3JkZXJEaXJlY3Rpb25bXCJOb25lXCJdID0gXCJOb25lXCI7XHJcbiAgICBPcmRlckRpcmVjdGlvbltcIkFzY1wiXSA9IFwiQXNjXCI7XHJcbiAgICBPcmRlckRpcmVjdGlvbltcIkRlc2NcIl0gPSBcIkRlc2NcIjtcclxufSkoT3JkZXJEaXJlY3Rpb24gPSBleHBvcnRzLk9yZGVyRGlyZWN0aW9uIHx8IChleHBvcnRzLk9yZGVyRGlyZWN0aW9uID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImd1aSBydi1wYXJlbnRcXFwiIHZhbGlnbj1cXFwidG9wXFxcIiBkYXRhLWZpbHRlci1rZXk9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1maWx0ZXItdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hY3R1YWxWYWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImFjdHVhbFZhbHVlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtbk5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbk5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbHVtbk5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlsdGVyYWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29sdW1uVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5WYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPC90cj5cXHJcXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC01IHJ2LWNoaWxkIGd1aS1jYXB0aW9uXFxcIiA+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYWRkIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIGFkZEZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLW1pbnVzIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIHJlbW92ZUZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz1cXFwiZ3VpIGd1aS1oaWRkZW4gZGV0YWlsc1Jvd1xcXCI+XFxyXFxuICAgIDx0ZCBjb2xzcGFuPVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5sZW5ndGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxlbmd0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVuZ3RoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSB2ZXJ5IGNvbXBhY3Qgc2VsZWN0YWJsZSBjZWxsZWQgdGFibGUgZGV0YWlsc1RhYmxlIG0tbC0zNyBwLTVcXFwiIHN0eWxlPVxcXCJ3aWR0aDogYXV0bztcXFwiID5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhbmRsZWJhcnMgKi8gMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8b3B0aW9uIFwiXG4gICAgKyBhbGlhczEoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzICovIDI2KSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCgoc3RhY2sxID0gKGRlcHRoc1sxXSAhPSBudWxsID8gZGVwdGhzWzFdLnBhZ2luYXRpb25EYXRhIDogZGVwdGhzWzFdKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZSA6IHN0YWNrMSksZGVwdGgwLHtcIm5hbWVcIjpcIlNlbGVjdGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XCJcbiAgICArIGFsaWFzMShjb250YWluZXIubGFtYmRhKGRlcHRoMCwgZGVwdGgwKSlcbiAgICArIFwiPC9vcHRpb24+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1jb250YWluZXIubGFtYmRhO1xuXG4gIHJldHVybiBcIjxkaXYgZGF0YS1yb2xlPVxcXCJwYWdlclxcXCIgY2xhc3M9XFxcImd1aSBsZWZ0IGd1aS1zdWJoZWFkaW5nLTIgY29sLW1kLTYgdGV4dC1sZWZ0IG0tMCBwLTVcXFwiPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBcXFwiPlxcclxcbiAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBtaW5pIGNvbXBhY3QgZmlyc3RMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMgKi8gMSkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBmaXJzdCBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIjFcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLXByZXZpb3VzXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2E+XFxyXFxuICAgICAgICA8YSBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBwcmV2TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICovIDEpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJldlBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgcHJldmlvdXMgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIlwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMgKi8gOSkpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLFwiLVwiLDEse1wibmFtZVwiOlwibWF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxcIlxcclxcbiAgICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgIFByZXZcXHJcXG4gICAgICAgIDwvYT5cXHJcXG4gICAgPC9zcGFuPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIHBhZ2VyLWlucHV0LWNvbnRhaW5lciBpbnB1dFxcXCI+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tci01XFxcIj4gUGFnZSA8L3NwYW4+XFxyXFxuICAgICAgICA8aW5wdXQgY2xhc3M9XFxcImd1aSBwYWdlci1pbnB1dCB3LTI1IHAtMCBtLXItNVxcXCIgYXJpYS1sYWJlbD1cXFwiMVxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlSW5kZXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJQYWdlIE51bWJlciAuLi5cXFwiPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm5vLW9mLXBhZ2VzLXNjYW5cXFwiIGRhdGEtbnVtYmVyLW9mLXBhZ2VzPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PZlBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj4gb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT2ZQYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXHJcXG4gICAgPC9zcGFuPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBcXFwiPlxcclxcbiAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBtaW5pIGNvbXBhY3QgbmV4dExpbmtcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyAqLyAxKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5leHRQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyAqLyA5KSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhZ2VJbmRleCA6IHN0YWNrMSksXCIrXCIsMSx7XCJuYW1lXCI6XCJtYXRoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgTmV4dFxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2E+XFxyXFxuICAgICAgICA8YSBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBsYXN0TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzICovIDEpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgbGFzdCBwYWdlXFxcIiB0aXRsZT1cXFwiR28gdG8gdGhlIGxhc3QgcGFnZVxcXCIgZGF0YS1wYWdlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubm9PRnBhZ2VzIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1uZXh0XFxcIj48L2k+XFxyXFxuICAgICAgICA8L2E+XFxyXFxuICAgIDwvc3Bhbj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNiBndWkgZ3VpLXN1YmhlYWRpbmctMiByaWdodCB0ZXh0LXJpZ2h0IG0tMCBwLTVcXFwiPlxcclxcbiAgICA8c3Bhbj5Sb3dzIFBlciBQYWdlPC9zcGFuPlxcclxcbiAgICA8c2VsZWN0IGNsYXNzPVxcXCJndWkgcGFnZVNpemVTZWxlY3RvclxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYWdlU2l6ZXMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvc2VsZWN0PlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC0xMFxcXCI+XCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmFuZ2UgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm1pbiA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXggOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgb2YgXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRvdGFsQ291bnQgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgaXRlbXM8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiZ3VpIGNsZWFyXFxcIj48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZSxcInVzZURlcHRoc1wiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvbWF0aC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWF0aCA9IGZ1bmN0aW9uIChsdmFsdWUsIG9wZXJhdG9yLCBydmFsdWUsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCIrXCI6IGx2YWx1ZSArIHJ2YWx1ZSxcclxuICAgICAgICBcIi1cIjogbHZhbHVlIC0gcnZhbHVlLFxyXG4gICAgICAgIFwiKlwiOiBsdmFsdWUgKiBydmFsdWUsXHJcbiAgICAgICAgXCIvXCI6IGx2YWx1ZSAvIHJ2YWx1ZSxcclxuICAgICAgICBcIiVcIjogbHZhbHVlICUgcnZhbHVlLFxyXG4gICAgfVtvcGVyYXRvcl07XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGg7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1tYWluLXJvdy5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz1cXFwibWFpblJvd1xcXCI+XFxyXFxuICAgIDx0ZCBjbGFzcz1cXFwiZXhwYW5zaW9uQXJyb3dzXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7XFxcIj5cXHJcXG4gICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1kb3duIGV4cGFuZERldGFpbHNSb3dJY29uIGN1cnNvci1wb2ludGVyXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPlxcclxcbiAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXVwIENvbGxhcHNlRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXIgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cXHJcXG4gICAgPC90ZD5cXHJcXG4gICAgPHRkPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBkYXRhLXZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucm93RGF0YSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJzZWxlY3Qta2V5LWNoZWNrYm94XFxcIj5cXHJcXG4gICAgPC90ZD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90cj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKi8gNyksZGVwdGgwLHtcIm5hbWVcIjpcImdyaWQtZGV0YWlscy1yb3dcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgPHRkPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5sYW1iZGEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSwgZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvdGQ+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93QXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlUGFydGlhbFwiOnRydWUsXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tYWluL0dyaWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgalF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganF1ZXJ5ICovIDUpO1xyXG52YXIgQ29uZmlnU3RvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZy9Db25maWdTdG9yZSAqLyAxMik7XHJcbnZhciBDb2xTZXR0aW5nc0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50SGFuZGxlcnMvQ29sU2V0dGluZ3NIYW5kbGVyICovIDEzKTtcclxudmFyIFNlbGVjdEV2ZW50SGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRIYW5kbGVycy9TZWxlY3RFdmVudEhhbmRsZXIgKi8gMTQpO1xyXG52YXIgUGFnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3BhZ2luYXRpb24vUGFnZXIgKi8gMik7XHJcbnZhciBEZXRhaWxzUm93SGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL0RldGFpbHNSb3dIYW5kbGVyICovIDE1KTtcclxudmFyIEZpbHRlckNsaWNrSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9ldmVudEhhbmRsZXJzL0ZpbHRlckNsaWNrSGFuZGxlciAqLyAxNik7XHJcbnZhciBIYW5kbGVyTmFtZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9IYW5kbGVyTmFtZXMgKi8gMTgpO1xyXG52YXIgSGVhZGVyQ2xpY2tIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyICovIDE5KTtcclxudmFyIFBhZ2VTZWFyY2hDbGlja0hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9QYWdlU2VhcmNoQ2xpY2tIYW5kbGVyICovIDIwKTtcclxudmFyIFNjcm9sbEhhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9TY3JvbGxIYW5kbGVyICovIDIxKTtcclxudmFyIFRvZ2dsZUNvbHVtbkhhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vZXZlbnRIYW5kbGVycy9Ub2dnbGVDb2x1bW5IYW5kbGVyICovIDI0KTtcclxudmFyIEdyaWRUZW1wbGF0ZVNlcnZpY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZSAqLyAyNSk7XHJcbnZhciBHcmlkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gR3JpZChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmJpbmREYXRhID0gZnVuY3Rpb24gKGRhdGEsIHBhZ2luYXRpb25JbnB1dCkge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3RJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5kZXggPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNodW5rU2l6ZSArIF90aGlzLmdldEluaXRpYWxSb3dDb3VudCgpO1xyXG4gICAgICAgICAgICBsYXN0SW5kZXggPSBsYXN0SW5kZXggPiBkYXRhLmxlbmd0aCA/IGRhdGEubGVuZ3RoIC0gMSA6IGxhc3RJbmRleDtcclxuICAgICAgICAgICAgUGFnZXJfMS5QYWdlci5DYWxjdWxhdGVQYWdpbmF0aW9uRGF0YShwYWdpbmF0aW9uSW5wdXQpO1xyXG4gICAgICAgICAgICB2YXIgZ3JpZENvbnRlbnQgPSBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldEZpcnN0VGVtcGxhdGUoZGF0YSwgZmlyc3RJbmRleCwgbGFzdEluZGV4KTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50LmlubmVySFRNTCA9IGdyaWRDb250ZW50O1xyXG4gICAgICAgICAgICAvLyBIYXZlIHRvIGJpbmQgU2Nyb2xsIEhhbmRsZXIgQWZ0ZXIgRE9NIGhhcyBiZWVuIGNyZWF0ZWRcclxuICAgICAgICAgICAgdmFyIHNjcm9sbEhhbmRsZXIgPSBuZXcgU2Nyb2xsSGFuZGxlcl8xLlNjcm9sbEhhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UpO1xyXG4gICAgICAgICAgICBzY3JvbGxIYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHNjcm9sbEhhbmRsZXIsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXNfMS5IYW5kbGVyTmFtZXMuU2Nyb2xsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0TWFuYWdlQ29sdW1zSHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuR2V0TWFuYWdlQ29sdW1uc0h0bWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0SW5pdGlhbFJvd0NvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMjU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkluaXRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBqUXVlcnkoX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4gPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgRGV0YWlsc1Jvd0hhbmRsZXJfMS5EZXRhaWxzUm93SGFuZGxlcihwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5EZXRhaWxzUm93LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgRmlsdGVyQ2xpY2tIYW5kbGVyXzEuRmlsdGVyQ2xpY2tIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5GaWx0ZXJBY3Rpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBIZWFkZXJDbGlja0hhbmRsZXJfMS5IZWFkZXJDbGlja0hhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkhlYWRlckNsaWNrLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgUGFnZVNlYXJjaENsaWNrSGFuZGxlcl8xLlBhZ2VTZWFyY2hIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5QYWdlU2VhcmNoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHRvZ2dsZUhhbmRsZXIgPSBuZXcgVG9nZ2xlQ29sdW1uSGFuZGxlcl8xLlRvZ2dsZUNvbHVtbkhhbmRsZXIoX3RoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0galF1ZXJ5KF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogbmV3IENvbFNldHRpbmdzSGFuZGxlcl8xLkNvbFNldHRpbmdzSGFuZGxlcihjb250YWluZXIsIHRvZ2dsZUhhbmRsZXIpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzXzEuSGFuZGxlck5hbWVzLkNvbFNldHRpbmdzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBuZXcgU2VsZWN0RXZlbnRIYW5kbGVyXzEuU2VsZWN0RXZlbnRIYW5kbGVyKF90aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50LCBfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlKSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IEhhbmRsZXJOYW1lc18xLkhhbmRsZXJOYW1lcy5Db2xTZXR0aW5ncyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLlJlZ2lzdGVyRG9tSGFuZGxlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgalF1ZXJ5KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYWluLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhaW4uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oYW5kbGVyLm9uRG9jdW1lbnRDbGljayhldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBuZXcgQ29uZmlnU3RvcmVfMS5Db25maWdTdG9yZShvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UgPSBuZXcgR3JpZFRlbXBsYXRlU2VydmljZV8xLkdyaWRUZW1wbGF0ZVNlcnZpY2UodGhpcy5jb25maWdTdG9yZSk7XHJcbiAgICAgICAgdGhpcy5Jbml0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBHcmlkO1xyXG59KCkpO1xyXG5leHBvcnRzLkdyaWQgPSBHcmlkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbmZpZ1N0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29uZmlnU3RvcmUob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JpZE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGNodW5rU2l6ZTogNSxcclxuICAgICAgICAgICAgY29sdW1uczogW10sXHJcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIG1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyOiBudWxsLFxyXG4gICAgICAgICAgICBoeWJyaWRGdW5jdGlvbjogZnVuY3Rpb24gKGNvbHVtbiwgcm93KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGtleUNvbHVtbjogXCJcIixcclxuICAgICAgICAgICAgb25DbGlja0ZpbHRlcjogZnVuY3Rpb24gKGNvbHVtbiwgdmFsdWUsIGFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGlja0hlYWRlcjogZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uUGFnZVNlYXJjaDogZnVuY3Rpb24gKHBhZ2VTaXplLCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGNvZGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBDb2RlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlNldEhpZGRlbk9uQ29uZmlnID0gZnVuY3Rpb24gKGJvb2wsIGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgIF90aGlzLk9wdGlvbnMuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW5JZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLmhpZGRlbiA9IGJvb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zID0gZnVuY3Rpb24gKGlucHV0T3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub3B0aW9ucyA9IGpRdWVyeS5leHRlbmQoe30sIF90aGlzLmRlZmF1bHRHcmlkT3B0aW9ucywgaW5wdXRPcHRpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXJFbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBQcm92aWRlIGEgdmFsaWQgY29udGFpbmVyIEVsZW1lbnQgb2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25maWdTdG9yZS5wcm90b3R5cGUsIFwiT3B0aW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ29uZmlnU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29uZmlnU3RvcmUgPSBDb25maWdTdG9yZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9Db2xTZXR0aW5nc0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2xTZXR0aW5nc0hhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb2xTZXR0aW5nc0hhbmRsZXIoZWxlbWVudCwgdG9nZ2xlQ29sdW1uSGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyID0gdG9nZ2xlQ29sdW1uSGFuZGxlcjtcclxuICAgIH1cclxuICAgIENvbFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNldHRuZ3NQb3B1cCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXJcIik7XHJcbiAgICAgICAgdmFyIHRib2R5SGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIHNldHRuZ3NQb3B1cC5pbm5lckhlaWdodCh0Ym9keUhlaWdodCAtIDEwKTtcclxuICAgICAgICBzZXR0bmdzUG9wdXAuZmluZChcIi5jb2wtc2V0dGluZ3MtdGFibGVcIikuaW5uZXJIZWlnaHQoc2V0dG5nc1BvcHVwLmlubmVySGVpZ2h0KCkgLVxyXG4gICAgICAgICAgICBzZXR0bmdzUG9wdXAuZmluZChcIi5jb2wtc2V0dGluZ3MtaGVhZGVyXCIpLmlubmVySGVpZ2h0KCkpO1xyXG4gICAgfTtcclxuICAgIENvbFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5pcyhcIi5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0RWxlbWVudC5wYXJlbnRzKCkuaXMoXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lclwiKSkge1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lclwiKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbFNldHRpbmdzSGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIHNldHRuZ3NQb3B1cCA9IGpRdWVyeShcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICBfdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgICBzZXR0bmdzUG9wdXAudG9nZ2xlKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImtleXVwXCIsIFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLmNvbC1zZXR0aW5ncy1oZWFkZXIgLmNvbC1zZXR0aW5ncy1maWx0ZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsKTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy10YWJsZSB0YWJsZSB0Ym9keSB0clwiKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZSkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGpRdWVyeShlKS5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGUpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLnNob3ctYWxsLWNvbHVtblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIilcclxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KGVsZW1lbnQpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5zaG93QWxsQ29sdW1ucygpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyIC5oaWRlLWFsbC1jb2x1bW5cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyIC5jb2wtc2V0dGluZ3MtaGlkZGVuLWNoZWNrYm94XCIpXHJcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeShlbGVtZW50KS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLmhpZGVBbGxDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGVja2JveCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gY2hlY2tib3gudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5zaG93Q29sdW1uKGlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZUNvbHVtbkhhbmRsZXIuaGlkZUNvbHVtbihpZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbFNldHRpbmdzSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5Db2xTZXR0aW5nc0hhbmRsZXIgPSBDb2xTZXR0aW5nc0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VsZWN0RXZlbnRIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0RXZlbnRIYW5kbGVyKGNvbmZpZ1N0b3JlLCBlbGVtZW50LCBncmlkVGVtcGxhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gZ3JpZFRlbXBsYXRlU2VydmljZTtcclxuICAgIH1cclxuICAgIFNlbGVjdEV2ZW50SGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1rZXktY2hlY2tib3hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gZWxlbWVudC5kYXRhKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25TZWxlY3QoW3Jvd10sIGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi5zZWxlY3QtYWxsLWNoZWNrYm94XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdChfdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGEsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuc2VsZWN0LWtleS1jaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0RXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBJZ25vcmVcclxuICAgIH07XHJcbiAgICBTZWxlY3RFdmVudEhhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWxlY3RFdmVudEhhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU2VsZWN0RXZlbnRIYW5kbGVyID0gU2VsZWN0RXZlbnRIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIERldGFpbHNSb3dIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGV0YWlsc1Jvd0hhbmRsZXIoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlckRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJvdyA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRldGFpbHNSb3cgPSBhcnJvdy5jbG9zZXN0KFwidHJcIikubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJY29uID0gYXJyb3cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG90aGVySWNvbiA9IGFycm93LnNpYmxpbmdzKFwiaVwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyb3cuaGFzQ2xhc3MoXCJleHBhbmREZXRhaWxzUm93SWNvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHNSb3cuc2hvdygyMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5oaWRlKDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgRGV0YWlsc1Jvd0hhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgRGV0YWlsc1Jvd0hhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERldGFpbHNSb3dIYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkRldGFpbHNSb3dIYW5kbGVyID0gRGV0YWlsc1Jvd0hhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29sdW1uVXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbC9Db2x1bW5VdGlsICovIDMpO1xyXG52YXIgRmlsdGVyQWN0aW9uVHlwZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZSAqLyAxNyk7XHJcbnZhciBGaWx0ZXJDbGlja0hhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGaWx0ZXJDbGlja0hhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtYm9keSAuZGV0YWlsc1JvdyAuZGV0YWlsc1RhYmxlIHRkIGlcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFRkID0gZWxlbWVudC5wYXJlbnRzKFwidGRcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLWtleVwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci12YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBDb2x1bW5VdGlsXzEuQ29tbW9uVXRpbC5HZXRDb2x1bW5PYmplY3Qoa2V5LCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbCA9PT0gdW5kZWZpbmVkIHx8IGNvbCA9PT0gbnVsbCB8fCAhY29sLmZpbHRlcmFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQWN0aW9uID0gRmlsdGVyQWN0aW9uVHlwZV8xLkZpbHRlckFjdGlvblR5cGUuQWRkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoXCJyZW1vdmVGaWx0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJBY3Rpb24gPSBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5NaW51cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0ZpbHRlcihrZXksIHZhbHVlLCBmaWx0ZXJBY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBGaWx0ZXJDbGlja0hhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9O1xyXG4gICAgRmlsdGVyQ2xpY2tIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaWx0ZXJDbGlja0hhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRmlsdGVyQ2xpY2tIYW5kbGVyID0gRmlsdGVyQ2xpY2tIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEZpbHRlckFjdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoRmlsdGVyQWN0aW9uVHlwZSkge1xyXG4gICAgRmlsdGVyQWN0aW9uVHlwZVtcIkFkZFwiXSA9IFwiQWRkXCI7XHJcbiAgICBGaWx0ZXJBY3Rpb25UeXBlW1wiTWludXNcIl0gPSBcIk1pbnVzXCI7XHJcbn0pKEZpbHRlckFjdGlvblR5cGUgPSBleHBvcnRzLkZpbHRlckFjdGlvblR5cGUgfHwgKGV4cG9ydHMuRmlsdGVyQWN0aW9uVHlwZSA9IHt9KSk7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSGFuZGxlck5hbWVzO1xyXG4oZnVuY3Rpb24gKEhhbmRsZXJOYW1lcykge1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIkZpbHRlckFjdGlvblwiXSA9IDBdID0gXCJGaWx0ZXJBY3Rpb25cIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJIZWFkZXJDbGlja1wiXSA9IDFdID0gXCJIZWFkZXJDbGlja1wiO1xyXG4gICAgSGFuZGxlck5hbWVzW0hhbmRsZXJOYW1lc1tcIlNjcm9sbFwiXSA9IDJdID0gXCJTY3JvbGxcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJQYWdlU2VhcmNoXCJdID0gM10gPSBcIlBhZ2VTZWFyY2hcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJEZXRhaWxzUm93XCJdID0gNF0gPSBcIkRldGFpbHNSb3dcIjtcclxuICAgIEhhbmRsZXJOYW1lc1tIYW5kbGVyTmFtZXNbXCJUb2dnbGVDb2x1bW5cIl0gPSA1XSA9IFwiVG9nZ2xlQ29sdW1uXCI7XHJcbiAgICBIYW5kbGVyTmFtZXNbSGFuZGxlck5hbWVzW1wiQ29sU2V0dGluZ3NcIl0gPSA2XSA9IFwiQ29sU2V0dGluZ3NcIjtcclxufSkoSGFuZGxlck5hbWVzID0gZXhwb3J0cy5IYW5kbGVyTmFtZXMgfHwgKGV4cG9ydHMuSGFuZGxlck5hbWVzID0ge30pKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvZXZlbnRIYW5kbGVycy9IZWFkZXJDbGlja0hhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2x1bW5VdGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlsL0NvbHVtblV0aWwgKi8gMyk7XHJcbnZhciBPcmRlckRpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi9tb2RlbHMvT3JkZXJEaXJlY3Rpb24gKi8gNik7XHJcbnZhciBIZWFkZXJDbGlja0hhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIZWFkZXJDbGlja0hhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBSZWdpc3RlcmluZyBKUXVlcnkgRXZlbnQgSGFuZGxlciBpZiBIZWFkZXIgaXMgQ2xpY2tlZC5cclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWhlYWRlciB0aFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCkuY2xvc2VzdChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcklkID0gZWxlbWVudC5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGhlYWRlcklkLCBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbCA9PT0gdW5kZWZpbmVkIHx8IGNvbCA9PT0gbnVsbCB8fCAhY29sLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGFycm93SWNvbnMgPSBlbGVtZW50LmZpbmQoXCJpXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVwQXJyb3dJY29uID0gYXJyb3dJY29ucy5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvd25BcnJvd0ljb24gPSBhcnJvd0ljb25zLmxhc3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyb3dJY29ucy5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwQXJyb3dJY29uLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gT3JkZXJEaXJlY3Rpb25fMS5PcmRlckRpcmVjdGlvbi5EZXNjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gT3JkZXJEaXJlY3Rpb25fMS5PcmRlckRpcmVjdGlvbi5Bc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25BcnJvd0ljb24uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gT3JkZXJEaXJlY3Rpb25fMS5PcmRlckRpcmVjdGlvbi5Bc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBBcnJvd0ljb24uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuU2V0T3JkZXIoaGVhZGVySWQsIGRpcmVjdGlvbiwgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0hlYWRlcihoZWFkZXJJZCwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgSGVhZGVyQ2xpY2tIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfTtcclxuICAgIEhlYWRlckNsaWNrSGFuZGxlci5wcm90b3R5cGUub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBEby5cclxuICAgIH07XHJcbiAgICByZXR1cm4gSGVhZGVyQ2xpY2tIYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkhlYWRlckNsaWNrSGFuZGxlciA9IEhlYWRlckNsaWNrSGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvUGFnZVNlYXJjaENsaWNrSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBqUXVlcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBqcXVlcnkgKi8gNSk7XHJcbnZhciBQYWdlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcGFnaW5hdGlvbi9QYWdlciAqLyAyKTtcclxudmFyIFBhZ2VTZWFyY2hIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGFnZVNlYXJjaEhhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5maXJzdExpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCAxKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubmV4dExpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlcl8xLlBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5wcmV2TGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyXzEuUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLmxhc3RMaW5rXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnRhYmxlLWZvb3RlciAucGFnZVNpemVTZWxlY3RvclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSAralF1ZXJ5KGV2ZW50LnRhcmdldCkudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKHZhbCwgUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5cHJlc3NcIiwgXCIudGFibGUtZm9vdGVyIC5wYWdlci1pbnB1dFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpcCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VEYXRhID0gUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSAraXAudmFsKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsKSB8fCB2YWwgPiBwYWdlRGF0YS5ub09mUGFnZXMgfHwgdmFsIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpcC52YWwocGFnZURhdGEucGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKHBhZ2VEYXRhLnBhZ2VTaXplLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgUGFnZVNlYXJjaEhhbmRsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfTtcclxuICAgIFBhZ2VTZWFyY2hIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBhZ2VTZWFyY2hIYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLlBhZ2VTZWFyY2hIYW5kbGVyID0gUGFnZVNlYXJjaEhhbmRsZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2Nyb2xsRGlyZWN0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3ZpcnR1YWxpemF0aW9uL1Njcm9sbERpcmVjdGlvbiAqLyA0KTtcclxudmFyIFZpcnR1YWxpemVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3ZpcnR1YWxpemF0aW9uL1ZpcnR1YWxpemVyICovIDIyKTtcclxudmFyIFNjcm9sbEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTY3JvbGxIYW5kbGVyKGNvbmZpZ1N0b3JlLCBncmlkVGVtcGxhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnJlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBSZWdpc3RlcmluZyBKUXVlcnkgRXZlbnQgSGFuZGxlciBpZiBIZWFkZXIgaXMgQ2xpY2tlZC5cclxuICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIikub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdEJvZHlPYmogPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5sZWZ0T2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgX3RoaXMubGVmdE9mZnNldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxlZnRPZmZzZXQgPSBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogX3RoaXMubGVmdE9mZnNldCArIC0xICogdEJvZHlPYmouc2Nyb2xsTGVmdCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdHVhbFRhYmxlSGVpZ2h0ID0gdEJvZHlPYmouZmluZChcIi5tYWluVGFibGVcIikuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5WaXJ0dWFsaXplci5UYWJsZUhlaWdodCA9IGFjdHVhbFRhYmxlSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuVmlydHVhbGl6ZXIuU2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gdEJvZHlPYmouaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlbmRlcmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSB0Qm9keU9iai5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleENvdW50ZXIgPSBfdGhpcy5WaXJ0dWFsaXplci5HZXRJbmRleENvdW50ZXJGb3JTY3JvbGwoc2Nyb2xsVG9wKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5kZXhDb3VudGVyLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU2Nyb2xsRGlyZWN0aW9uXzEuU2Nyb2xsRGlyZWN0aW9uLkRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleENvdW50ZXIucmVuZGVyaW5nUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZSAubWFpblRhYmxlQm9keVwiKS5hcHBlbmQoX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRSb3dzSHRtbChpbmRleENvdW50ZXIuc3RhcnRJbmRleCwgaW5kZXhDb3VudGVyLmVuZEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZSAubWFpblRhYmxlQm9keSA+IHRyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMuY2h1bmtTaXplICogMikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNjcm9sbERpcmVjdGlvbl8xLlNjcm9sbERpcmVjdGlvbi5VcDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4Q291bnRlci5yZW5kZXJpbmdSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlIC5tYWluVGFibGVCb2R5XCIpLnByZXBlbmQoX3RoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRSb3dzSHRtbChpbmRleENvdW50ZXIuc3RhcnRJbmRleCwgaW5kZXhDb3VudGVyLmVuZEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZSAubWFpblRhYmxlQm9keSA+IHRyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKChfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNodW5rU2l6ZSAqIC0yKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IGdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbiAgICB9XHJcbiAgICBTY3JvbGxIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxlZnRPZmZzZXQgPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1oZWFkZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgIH07XHJcbiAgICBTY3JvbGxIYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Nyb2xsSGFuZGxlci5wcm90b3R5cGUsIFwiVmlydHVhbGl6ZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsaXplciA9PT0gbnVsbCB8fCB0aGlzLnZpcnR1YWxpemVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxpemVyID0gbmV3IFZpcnR1YWxpemVyXzEuVmlydHVhbGl6ZXIodGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNodW5rU2l6ZSwgMjUsIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5EYXRhTGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxpemVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gU2Nyb2xsSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5TY3JvbGxIYW5kbGVyID0gU2Nyb2xsSGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlydHVhbGl6YXRpb24vVmlydHVhbGl6ZXIudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBJbmRleENvdW50ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSW5kZXhDb3VudGVyICovIDIzKTtcclxudmFyIFNjcm9sbERpcmVjdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGxEaXJlY3Rpb24gKi8gNCk7XHJcbnZhciBWaXJ0dWFsaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFZpcnR1YWxpemVyKGNodW5rU2l6ZSwgaW5pdGlhbFJvd0NvdW50LCBsZW5ndGgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuR2V0SW5kZXhDb3VudGVyRm9yU2Nyb2xsID0gZnVuY3Rpb24gKHNjcm9sbFRvcCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3Q291bnRlciA9IEluZGV4Q291bnRlcl8xLkdldERlZmF1bHRJbmRleENvdW50ZXIoX3RoaXMuY2h1bmtTaXplLCBfdGhpcy5pbml0aWFsUm93Q291bnQpO1xyXG4gICAgICAgICAgICBuZXdDb3VudGVyLmRpcmVjdGlvbiA9IF90aGlzLkdldFNjcm9sbERpcmVjdGlvbihzY3JvbGxUb3ApO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG5ld0NvdW50ZXIuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgSW5kZXggQ291bnRlcnMgZm9yIERvd24gTW92ZW1lbnRcclxuICAgICAgICAgICAgICAgIGNhc2UgU2Nyb2xsRGlyZWN0aW9uXzEuU2Nyb2xsRGlyZWN0aW9uLkRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4ID49IF90aGlzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnRlci5lbmRSZWFjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIuZW5kUmVhY2hlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IChzY3JvbGxUb3AgKyBfdGhpcy5TY3JvbGxDb250YWluZXJIZWlnaHQpIC0gKF90aGlzLlRhYmxlSGVpZ2h0ICogMC44KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLnJlbmRlcmluZ1JlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIgPSBfdGhpcy5Qb3B1bGF0ZUluZGV4Q291bnRlckZvckRvd24obmV3Q291bnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNjcm9sbERpcmVjdGlvbl8xLlNjcm9sbERpcmVjdGlvbi5VcDpcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgSW5kZXggQ291bnRlcnMgZm9yIFVwIE1vdmVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIuZmlyc3RJbmRleCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIuZW5kUmVhY2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLmVuZFJlYWNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBzY3JvbGxUb3AgLSAoX3RoaXMuVGFibGVIZWlnaHQgLSBfdGhpcy5TY3JvbGxDb250YWluZXJIZWlnaHQpICogMC4xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIucmVuZGVyaW5nUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnRlciA9IF90aGlzLlBvcHVsYXRlSW5kZXhDb3VudGVyRm9yVXAobmV3Q291bnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5ld0NvdW50ZXIucmVuZGVyaW5nUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIgPSBuZXdDb3VudGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmxhc3RTY3JvbGxQb3NpdGlvbiA9IHNjcm9sbFRvcDtcclxuICAgICAgICAgICAgLy8gdGhpcy5QcmludChuZXdDb3VudGVyLCB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3Q291bnRlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuUHJpbnQgPSBmdW5jdGlvbiAobmV3Q291bnRlciwgY3VycmVudEluZGV4Q291bnRlcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgU2Nyb2xsIFBvc2l0aW9uIC0gXCIgKyBfdGhpcy5sYXN0U2Nyb2xsUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiBMZW5ndGggIC0gXCIgKyBfdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAtLS0tLS0tLS0tLS0gIENVUlJFTlQgLS0tLS0tLS0tLSBcIik7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1cnJlbnRJbmRleENvdW50ZXIpLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCArIFwiIC0gXCIgKyBjdXJyZW50SW5kZXhDb3VudGVyW3ZhbF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgLS0tLS0tLS0tLS0tICBORVcgLS0tLS0tLS0tLSBcIik7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG5ld0NvdW50ZXIpLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCArIFwiIC0gXCIgKyBuZXdDb3VudGVyW3ZhbF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlBvcHVsYXRlSW5kZXhDb3VudGVyRm9yRG93biA9IGZ1bmN0aW9uIChjb3VudGVyKSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIuc3RhcnRJbmRleCA9IF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4ICsgMTtcclxuICAgICAgICAgICAgY291bnRlci5lbmRJbmRleCA9IF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4ICsgX3RoaXMuY2h1bmtTaXplID4gX3RoaXMubGVuZ3RoIC0gMSA/XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sZW5ndGggLSAxIDpcclxuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4ICsgX3RoaXMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICBjb3VudGVyLmZpcnN0SW5kZXggPSBfdGhpcy5jdXJyZW50SW5kZXhDb3VudGVyLmZpcnN0SW5kZXggKyBfdGhpcy5jaHVua1NpemU7XHJcbiAgICAgICAgICAgIGNvdW50ZXIubGFzdEluZGV4ID0gY291bnRlci5lbmRJbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlBvcHVsYXRlSW5kZXhDb3VudGVyRm9yVXAgPSBmdW5jdGlvbiAoY291bnRlcikge1xyXG4gICAgICAgICAgICBjb3VudGVyLnN0YXJ0SW5kZXggPSBfdGhpcy5jdXJyZW50SW5kZXhDb3VudGVyLmZpcnN0SW5kZXggLSBfdGhpcy5jaHVua1NpemUgPCAwID9cclxuICAgICAgICAgICAgICAgIDAgOlxyXG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudEluZGV4Q291bnRlci5maXJzdEluZGV4IC0gX3RoaXMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICBjb3VudGVyLmVuZEluZGV4ID0gX3RoaXMuY3VycmVudEluZGV4Q291bnRlci5maXJzdEluZGV4IC0gMTtcclxuICAgICAgICAgICAgY291bnRlci5maXJzdEluZGV4ID0gY291bnRlci5zdGFydEluZGV4O1xyXG4gICAgICAgICAgICBjb3VudGVyLmxhc3RJbmRleCA9IF90aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4IC0gX3RoaXMuY2h1bmtTaXplO1xyXG4gICAgICAgICAgICByZXR1cm4gY291bnRlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuR2V0U2Nyb2xsRGlyZWN0aW9uID0gZnVuY3Rpb24gKHNjcm9sbFRvcCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGFzdFNjcm9sbFBvc2l0aW9uIDwgc2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2Nyb2xsRGlyZWN0aW9uXzEuU2Nyb2xsRGlyZWN0aW9uLkRvd247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFNjcm9sbERpcmVjdGlvbl8xLlNjcm9sbERpcmVjdGlvbi5VcDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFBvc2l0aW9uID0gMDtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IGNodW5rU2l6ZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxSb3dDb3VudCA9IGluaXRpYWxSb3dDb3VudDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIgPSBJbmRleENvdW50ZXJfMS5HZXREZWZhdWx0SW5kZXhDb3VudGVyKGluaXRpYWxSb3dDb3VudCwgY2h1bmtTaXplKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaXJ0dWFsaXplci5wcm90b3R5cGUsIFwiU2Nyb2xsQ29udGFpbmVySGVpZ2h0XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpcnR1YWxpemVyLnByb3RvdHlwZSwgXCJUYWJsZUhlaWdodFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlSGVpZ2h0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFibGVIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlydHVhbGl6ZXIucHJvdG90eXBlLCBcIkluaXRpYWxSb3dDb3VudFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxSb3dDb3VudDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHJvd0NvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFJvd0NvdW50ID0gcm93Q291bnQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gVmlydHVhbGl6ZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVmlydHVhbGl6ZXIgPSBWaXJ0dWFsaXplcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpcnR1YWxpemF0aW9uL0luZGV4Q291bnRlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTY3JvbGxEaXJlY3Rpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2Nyb2xsRGlyZWN0aW9uICovIDQpO1xyXG5leHBvcnRzLkdldERlZmF1bHRJbmRleENvdW50ZXIgPSBmdW5jdGlvbiAocm93Q291bnQsIGNodW5rU2l6ZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzdGFydEluZGV4OiByb3dDb3VudCAtIDEsXHJcbiAgICAgICAgZW5kSW5kZXg6IHJvd0NvdW50ICsgY2h1bmtTaXplIC0gMSxcclxuICAgICAgICBmaXJzdEluZGV4OiAwLFxyXG4gICAgICAgIGxhc3RJbmRleDogcm93Q291bnQgLSAxLFxyXG4gICAgICAgIGRpcmVjdGlvbjogU2Nyb2xsRGlyZWN0aW9uXzEuU2Nyb2xsRGlyZWN0aW9uLkRvd24sXHJcbiAgICAgICAgZW5kUmVhY2hlZDogZmFsc2UsXHJcbiAgICAgICAgcmVuZGVyaW5nUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvVG9nZ2xlQ29sdW1uSGFuZGxlci50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2x1bW5VdGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3V0aWwvQ29sdW1uVXRpbCAqLyAzKTtcclxudmFyIFNob3dIaWRlO1xyXG4oZnVuY3Rpb24gKFNob3dIaWRlKSB7XHJcbiAgICBTaG93SGlkZVtTaG93SGlkZVtcIlNob3dcIl0gPSAwXSA9IFwiU2hvd1wiO1xyXG4gICAgU2hvd0hpZGVbU2hvd0hpZGVbXCJIaWRlXCJdID0gMV0gPSBcIkhpZGVcIjtcclxuICAgIFNob3dIaWRlW1Nob3dIaWRlW1wiU2hvd0FsbFwiXSA9IDJdID0gXCJTaG93QWxsXCI7XHJcbiAgICBTaG93SGlkZVtTaG93SGlkZVtcIkhpZGVBbGxcIl0gPSAzXSA9IFwiSGlkZUFsbFwiO1xyXG59KShTaG93SGlkZSB8fCAoU2hvd0hpZGUgPSB7fSkpO1xyXG52YXIgVG9nZ2xlQ29sdW1uSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRvZ2dsZUNvbHVtbkhhbmRsZXIoY29uZmlnU3RvcmUsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2hvd0FsbENvbHVtbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWhlYWRlciAuaGVhZGVyQ29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3dBbGwpO1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1ib2R5IC5ib2R5Q29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3dBbGwpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5TZXRIaWRkZW5PbkNvbmZpZyhmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNob3dDb2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtaGVhZGVyIC5oZWFkZXJDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuU2hvdywgY29sdW1uSWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1ib2R5IC5ib2R5Q29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3csIGNvbHVtbklkKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuU2V0SGlkZGVuT25Db25maWcoZmFsc2UsIGNvbHVtbklkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaGlkZUNvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlLCBjb2x1bW5JZCk7XHJcbiAgICAgICAgICAgIF90aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWJvZHkgLmJvZHlDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZSwgY29sdW1uSWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWdTdG9yZS5TZXRIaWRkZW5PbkNvbmZpZyh0cnVlLCBjb2x1bW5JZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhpZGVBbGxDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlQWxsKTtcclxuICAgICAgICAgICAgX3RoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlQWxsKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuU2V0SGlkZGVuT25Db25maWcodHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250cm9sLCBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2xFbGVtID0galF1ZXJ5KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2wgPSBjdXJyZW50Q29sRWxlbS5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoW1Nob3dIaWRlLlNob3csIFNob3dIaWRlLkhpZGVdLmluZGV4T2YoY29udHJvbCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sID09PSBTaG93SGlkZS5TaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sID0gQ29sdW1uVXRpbF8xLkNvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGN1cnJlbnRDb2wsIF90aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sRWxlbS53aWR0aCh3aWR0aCArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFtTaG93SGlkZS5TaG93QWxsLCBTaG93SGlkZS5IaWRlQWxsXS5pbmRleE9mKGNvbnRyb2wpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2wgPT09IFNob3dIaWRlLlNob3dBbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IENvbHVtblV0aWxfMS5Db21tb25VdGlsLkdldENvbHVtbk9iamVjdChjdXJyZW50Q29sLCBfdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbEVsZW0ud2lkdGgod2lkdGggKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gY29uZmlnU3RvcmU7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBUb2dnbGVDb2x1bW5IYW5kbGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLlRvZ2dsZUNvbHVtbkhhbmRsZXIgPSBUb2dnbGVDb2x1bW5IYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2UudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEdyaWREZXRhaWxzUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1kZXRhaWxzLXJvdy5oYnMgKi8gNyk7XHJcbnZhciBHcmlkRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQtZm9vdGVyLmhicyAqLyA4KTtcclxudmFyIEdyaWRNYWluUm93VGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1tYWluLXJvdy5oYnMgKi8gMTApO1xyXG52YXIgTWFuYWdlQ29sdW1uVGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnMgKi8gMjcpO1xyXG52YXIgR3JpZFRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vaGJzL2dyaWQuaGJzICovIDI5KTtcclxudmFyIFBhZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9wYWdpbmF0aW9uL1BhZ2VyICovIDIpO1xyXG52YXIgR3JpZFRlbXBsYXRlU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEdyaWRUZW1wbGF0ZVNlcnZpY2UoY29uZmlnU3RvcmUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuR2V0Rmlyc3RUZW1wbGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBmaXJzdEluZGV4LCBsYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93QXJyYXkgPSBfdGhpcy5HZXRSb3dzSHRtbChmaXJzdEluZGV4LCBsYXN0SW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQoe1xyXG4gICAgICAgICAgICAgICAgY29sdW1uczogX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgbWFpblJvd0FycmF5OiBtYWluUm93QXJyYXksXHJcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uRGF0YTogUGFnZXJfMS5QYWdlci5QYWdpbmF0aW9uRGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkdldE1hbmFnZUNvbHVtbnNIdG1sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbCh7IGNvbHVtbnM6IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuR2V0Um93c0h0bWwgPSBmdW5jdGlvbiAoZmlyc3RJbmRleCwgbGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBtYWluUm93QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IF90aGlzLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFpblJvd0NvbEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtblZhbHVlID0gcm93W2NvbC5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbC5yZW5kZXJIeWJyaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uVmFsdWUgPSBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmh5YnJpZEZ1bmN0aW9uKGNvbCwgcm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZTogY29sdW1uVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbjogY29sLmhpZGRlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IHJvd1tjb2wuaWRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBjb2wubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyYWJsZTogY29sLmZpbHRlcmFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYWluUm93QXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogSlNPTi5zdHJpbmdpZnkocm93KSxcclxuICAgICAgICAgICAgICAgICAgICBrZXlDb2x1bW46IHJvd1tfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblJvd0NvbEFycmF5OiBtYWluUm93Q29sQXJyYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbHVtbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1haW5Sb3dBcnJheTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkID0gR3JpZFRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3cgPSBHcmlkTWFpblJvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3cgPSBHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckZvb3RlciA9IEdyaWRGb290ZXI7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sID0gTWFuYWdlQ29sdW1uVGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZFRlbXBsYXRlU2VydmljZS5wcm90b3R5cGUsIFwiRGF0YVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZFRlbXBsYXRlU2VydmljZS5wcm90b3R5cGUsIFwiRGF0YUxlbmd0aFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuR3JpZFRlbXBsYXRlU2VydmljZSA9IEdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcblxuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0ZWQgPSBmdW5jdGlvbiAoaW5wdXQsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaW5wdXQgPT09IHZhbHVlID8gXCJzZWxlY3RlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gc2VsZWN0ZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYW5kbGViYXJzICovIDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHRyIGRhdGEtaGVhZGVyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveFxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaGJzL2hlbHBlcnMvQ2hlY2tlZC50cyAqLyAyOCkpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaGlkZGVuIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJDaGVja2VkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8L3RyPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiZ3VpIGNhcmQgb2YtaGlkZGVuIHAtMTAgbWluLXctNTAgdy1hdXRvIGZsdWlkLWhcXFwiID5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLXNldHRpbmdzLWhlYWRlclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtaW5pIGZsdWlkIGljb24gaW5wdXRcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwiY29sLXNldHRpbmdzLWZpbHRlclxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIlNlYXJjaCBmaWx0ZXIuLi5cXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJzZWFyY2ggaWNvblxcXCI+PC9pPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbS10LTEwXFxcIj5cXHJcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwiZ3VpIHNob3ctYWxsLWNvbHVtblxcXCI+U2hvdyBBbGw8L2E+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImd1aSBoaWRlLWFsbC1jb2x1bW5cXFwiPkhpZGUgQWxsPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtdGFibGUgZ3VpIG9mLWF1dG8gcC01IG0tdC0xMFxcXCIgPlxcclxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgc21hbGwgdmVyeSBib3JkZXItbGVzcyBjb21wYWN0IHRhYmxlXFxcIj5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNoZWNrZWQgPSBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgcmV0dXJuICFib29sID8gXCJjaGVja2VkXCIgOiBcIlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja2VkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2dyaWQuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBkeW5hbWljIGV4cG9ydHMgcHJvdmlkZWQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycyAqLyAwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvaGVscGVycy9Db2x1bW4udHMgKi8gMzApKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcIkNvbHVtblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGlkPVxcXCJoZWFkZXItXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBzdWIgaGVhZGVyXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3J0YWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cXG5cIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMgKi8gMzEpKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm9yZGVyIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJPcmRlcmVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiPHN0eWxlPlxcbiAgICAuaW5uZXItY29udGFpbmVyIHtcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICB9XFxuXFxuICAgIC50YWJsZS1oZWFkZXIge1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgdG9wOjAgIWltcG9ydGFudDtcXG4gICAgfVxcblxcbiAgICAudGFibGUtYm9keSB7XFxuICAgICAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgICAgIGZsZXg6IDU7XFxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxN3B4O1xcbiAgICB9XFxuICAgIC50YWJsZS1mb290ZXJ7XFxuICAgICAgICBoZWlnaHQ6IDM1cHg7XFxuICAgICAgICBwYWRkaW5nOiA1cHg7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlciAuZm9vdGVyLW1pZGRsZXtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlciAuZm9vdGVyLXJpZ2h0e1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgfVxcbiAgICAubWFyZ2luLWF1dG97XFxuICAgICAgICBtYXJnaW46IGF1dG8gIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICAucmVtb3ZlLWxhYmVsOmhvdmVye1xcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLmJvcmRlci1sZXNzIHRyIHRkLC5ib3JkZXItbGVzcyB7IGJvcmRlcjogMHB4ICFpbXBvcnRhbnQ7IH1cXG4gICAgLmN1cnNvci1wb2ludGVye1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuICAgIC51aS5zdXBlcmNvbXBhY3QuaWNvbi5idXR0b24sIC51aS5zdXBlcmNvbXBhY3QuaWNvbi5idXR0b25zIC5idXR0b24ge1xcbiAgICAgICAgcGFkZGluZzogLjNlbSAuM2VtIC4zZW0gLjNlbSAhaW1wb3J0YW50O1xcbiAgICB9XFxuPC9zdHlsZT5cXG48ZGl2IGNsYXNzPVxcXCJpbm5lci1jb250YWluZXIgZ3VpIGZsdWlkIGNvbnRhaW5lclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MCU7XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtaGVhZGVyXFxcIj5cXG4gICAgICAgIDx0YWJsZSBpZD1cXFwiaGVhZGVydGFibGVcXFwiIGNsYXNzPVxcXCJndWkgYmFzaWMgbGFyZ2UgY29tcGFjdCBmaXhlZCBzZWxlY3RhYmxlIHNpbmdsZSBsaW5lIHRhYmxlIG1haW5UYWJsZVxcXCI+XFxuICAgICAgICAgICAgPGNvbGdyb3VwIGNsYXNzPVxcXCJoZWFkZXJDb2xHcm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXG4gICAgICAgICAgICA8dGhlYWQ+XFxuICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0aD48L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcInNlbGVjdC1hbGwtY2hlY2tib3hcXFwiPjwvdGg+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgIDwvdGhlYWQ+XFxuICAgICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGFibGUtYm9keVxcXCI+XFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IGZpeGVkIHNlbGVjdGFibGUgc2luZ2xlIGxpbmUgdGFibGUgbWFpblRhYmxlXFxcIj5cXG4gICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImJvZHlDb2xHcm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPiBcXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvY29sZ3JvdXA+XFxuICAgICAgICAgICAgPHRib2R5IGNsYXNzPVxcXCJtYWluVGFibGVCb2R5XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvZ3JpZC1tYWluLXJvdy5oYnMgKi8gMTApLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLW1haW4tcm93XCIsXCJkYXRhXCI6ZGF0YSxcImluZGVudFwiOlwiICAgICAgICAgICAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcbiAgICAgICAgPC90YWJsZT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRhYmxlLWZvb3RlciBndWkgaC1hdXRvIGZsdWlkLXcgYmFzaWMgY3VydmVkIHJvdyBwLTUgbS0wXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9oYnMvZ3JpZC1mb290ZXIuaGJzICovIDgpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLWZvb3RlclwiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgICAgICAgXCIsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2hicy9oZWxwZXJzL0NvbHVtbi50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZHluYW1pYyBleHBvcnRzIHByb3ZpZGVkICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb2x1bW4gPSBmdW5jdGlvbiAoY29sKSB7XHJcbiAgICB2YXIgY2FsY1dpZHRoID0gY29sLmhpZGRlbiA/IDAgOiBjb2wud2lkdGg7XHJcbiAgICB2YXIgZGF0YUF0dHJJZCA9ICdkYXRhLWhlYWRlci1pZD1cIicgKyBjb2wuaWQgKyAnXCInO1xyXG4gICAgcmV0dXJuICc8Y29sIHN0eWxlPVwid2lkdGggOiAnICsgY2FsY1dpZHRoICsgJ3B4O1wiJyArIGRhdGFBdHRySWQgKyBcIiAvPlwiO1xyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb2x1bW47XHJcblxuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaGJzL2hlbHBlcnMvT3JkZXJlZC50cyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGR5bmFtaWMgZXhwb3J0cyBwcm92aWRlZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgT3JkZXJEaXJlY3Rpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2pzL21vZGVscy9PcmRlckRpcmVjdGlvbiAqLyA2KTtcclxudmFyIG9yZGVyZWQgPSBmdW5jdGlvbiAob3JkZXIpIHtcclxuICAgIGlmIChvcmRlciA9PT0gT3JkZXJEaXJlY3Rpb25fMS5PcmRlckRpcmVjdGlvbi5Bc2MpIHtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChvcmRlciA9PT0gT3JkZXJEaXJlY3Rpb25fMS5PcmRlckRpcmVjdGlvbi5EZXNjKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPiBcIiArXHJcbiAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duIGd1aS1oaWRkZW5cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiA+PC9pPlwiO1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBvcmRlcmVkO1xyXG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGdyaWRvby5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMzc4NWY4ZDY0YjMxNzQ5ODRiOGYiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcIkhhbmRsZWJhcnNcIixcImFtZFwiOlwiaGFuZGxlYmFycy5ydW50aW1lXCIsXCJjb21tb25qczJcIjpcImhhbmRsZWJhcnMvcnVudGltZVwiLFwiY29tbW9uanNcIjpcImhhbmRsZWJhcnMvcnVudGltZVwifVxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IGRpc2FibGVkID0gKGJvb2w6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBcImRpc2FibGVkXCIgOiBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGlzYWJsZWQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvaGJzL2hlbHBlcnMvRGlzYWJsZWQudHMiLCJpbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcclxuaW1wb3J0IHsgSVBhZ2luYXRpb25JbnB1dCB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25JbnB1dFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhZ2luYXRpb25EYXRhOiBJUGFnaW5hdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIENhbGN1bGF0ZVBhZ2luYXRpb25EYXRhID0gKHBhZ2luYXRpb25JbnB1dDogSVBhZ2luYXRpb25JbnB1dCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYWdpbmF0aW9uRGF0YTogYW55ID0ge307XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlSW5kZXg7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLnBhZ2VTaXplID0gcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZXMgPSBwYWdpbmF0aW9uSW5wdXQucGFnZVNpemVzO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS50b3RhbENvdW50ID0gcGFnaW5hdGlvbklucHV0LnRvdGFsQ291bnQ7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyA9IE1hdGguY2VpbChwYWdpbmF0aW9uSW5wdXQudG90YWxDb3VudCAvIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbk51bSA9ICgocGFnaW5hdGlvbklucHV0LnBhZ2VJbmRleCAtIDEpICogcGFnaW5hdGlvbklucHV0LnBhZ2VTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgbG93ZXJMaW1pdE9mZnNldCA9IHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZSA+IHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC50b3RhbENvdW50IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JbnB1dC5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEucmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gOiBtaW5OdW0gKyAxLFxyXG4gICAgICAgICAgICAgICAgbWF4IDogbWluTnVtICsgbG93ZXJMaW1pdE9mZnNldCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEuZmlyc3RQYWdlTGlua0Rpc2FibGVkID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxIHx8IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCA9PT0gMTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkRhdGEubGFzdFBhZ2VMaW5rRGlzYWJsZWQgID0gcGFnaW5hdGlvbkRhdGEubm9PZlBhZ2VzID09PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAocGFnaW5hdGlvbkRhdGEucGFnZUluZGV4ID09PSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMpO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5wcmV2UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggPT09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChwYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggLSAxKSA8PSAwO1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YS5uZXh0UGFnZUxpbmtEaXNhYmxlZCAgPSBwYWdpbmF0aW9uRGF0YS5ub09mUGFnZXMgPT09IHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHBhZ2luYXRpb25EYXRhLnBhZ2VJbmRleCArIDEpID49IHBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcztcclxuICAgICAgICAgICAgUGFnZXIucGFnaW5hdGlvbkRhdGEgPSBwYWdpbmF0aW9uRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBQYWdpbmF0aW9uRGF0YSgpOiBJUGFnaW5hdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFBhZ2VyLnBhZ2luYXRpb25EYXRhO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvcGFnaW5hdGlvbi9QYWdlci50cyIsImltcG9ydCB7IE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9PcmRlckRpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQ29sdW1uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lDb2x1bW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tb25VdGlsIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldENvbHVtbk9iamVjdCA9IChjb2x1bW5JZDogc3RyaW5nLCBjb2x1bW5zOiBJQ29sdW1uW10pOiBJQ29sdW1uID0+IHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgPT0gbnVsbCB8fCBjb2x1bW5zID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXRDb2w6IElDb2x1bW47XHJcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2w6IElDb2x1bW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgIHJldENvbCA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRDb2w7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIFNldE9yZGVyID0gKGNvbHVtbklkOiBzdHJpbmcsIG9yZGVyOiBPcmRlckRpcmVjdGlvbiwgY29sdW1uczogSUNvbHVtbltdKTogSUNvbHVtbiA9PiB7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkID09IG51bGwgfHwgY29sdW1ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmV0Q29sOiBJQ29sdW1uO1xyXG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sOiBJQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb2wub3JkZXIgPSBvcmRlcjtcclxuICAgICAgICAgICAgICAgIHJldENvbCA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXRDb2w7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy91dGlsL0NvbHVtblV0aWwudHMiLCJleHBvcnQgZW51bSBTY3JvbGxEaXJlY3Rpb24ge1xyXG4gICAgVXAgPSBcIlVwXCIsXHJcbiAgICBEb3duID0gXCJEb3duXCIsXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy92aXJ0dWFsaXphdGlvbi9TY3JvbGxEaXJlY3Rpb24udHMiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwialF1ZXJ5XCJcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJleHBvcnQgZW51bSBPcmRlckRpcmVjdGlvbiB7XHJcbiAgICBOb25lID0gXCJOb25lXCIsXHJcbiAgICBBc2MgPSBcIkFzY1wiLFxyXG4gICAgRGVzYyA9IFwiRGVzY1wiLFxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvbW9kZWxzL09yZGVyRGlyZWN0aW9uLnRzIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiaGFuZGxlYmFyc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8dHI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImd1aSBydi1wYXJlbnRcXFwiIHZhbGlnbj1cXFwidG9wXFxcIiBkYXRhLWZpbHRlci1rZXk9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1maWx0ZXItdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hY3R1YWxWYWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0dWFsVmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImFjdHVhbFZhbHVlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbHVtbk5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbk5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbHVtbk5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlsdGVyYWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29sdW1uVmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtblZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2x1bW5WYWx1ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPC90cj5cXHJcXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG0tbC01IHJ2LWNoaWxkIGd1aS1jYXB0aW9uXFxcIiA+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYWRkIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIGFkZEZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLW1pbnVzIGhvdmVyIG0tbC01IGN1cnNvci1wb2ludGVyIHJlbW92ZUZpbHRlclxcXCI+PC9pPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz1cXFwiZ3VpIGd1aS1oaWRkZW4gZGV0YWlsc1Jvd1xcXCI+XFxyXFxuICAgIDx0ZCBjb2xzcGFuPVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5sZW5ndGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxlbmd0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVuZ3RoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSB2ZXJ5IGNvbXBhY3Qgc2VsZWN0YWJsZSBjZWxsZWQgdGFibGUgZGV0YWlsc1RhYmxlIG0tbC0zNyBwLTVcXFwiIHN0eWxlPVxcXCJ3aWR0aDogYXV0bztcXFwiID5cXHJcXG4gICAgICAgICAgICA8dGJvZHk+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLWRldGFpbHMtcm93Lmhic1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8b3B0aW9uIFwiXG4gICAgKyBhbGlhczEoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcU2VsZWN0ZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemUgOiBzdGFjazEpLGRlcHRoMCx7XCJuYW1lXCI6XCJTZWxlY3RlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPlwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvb3B0aW9uPlxcclxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtcm9sZT1cXFwicGFnZXJcXFwiIGNsYXNzPVxcXCJndWkgbGVmdCBndWktc3ViaGVhZGluZy0yIGNvbC1tZC02IHRleHQtbGVmdCBtLTAgcC01XFxcIj5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtaW5pIGNvbXBhY3QgXFxcIj5cXHJcXG4gICAgICAgIDxhIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IGZpcnN0TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcRGlzYWJsZWQudHNcIikpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5maXJzdFBhZ2VMaW5rRGlzYWJsZWQgOiBzdGFjazEpLHtcIm5hbWVcIjpcIkRpc2FibGVkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCJcXHJcXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJHbyB0byB0aGUgZmlyc3QgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBmaXJzdCBwYWdlXFxcIiBkYXRhLXBhZ2U9XFxcIjFcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLXByZXZpb3VzXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2E+XFxyXFxuICAgICAgICA8YSBjbGFzcz1cXFwiZ3VpIG1pbmkgY29tcGFjdCBwcmV2TGlua1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcRGlzYWJsZWQudHNcIikpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wcmV2UGFnZUxpbmtEaXNhYmxlZCA6IHN0YWNrMSkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcclxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXFxcIiB0aXRsZT1cXFwiR28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxtYXRoLnRzXCIpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIi1cIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCJcXHJcXG4gICAgICAgICAgICB0YWJpbmRleD1cXFwiLTFcXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICBQcmV2XFxyXFxuICAgICAgICA8L2E+XFxyXFxuICAgIDwvc3Bhbj5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcImd1aSBwYWdlci1pbnB1dC1jb250YWluZXIgaW5wdXRcXFwiPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtLXItNVxcXCI+IFBhZ2UgPC9zcGFuPlxcclxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJndWkgcGFnZXItaW5wdXQgdy0yNSBwLTAgbS1yLTVcXFwiIGFyaWEtbGFiZWw9XFxcIjFcXFwiIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiUGFnZSBOdW1iZXIgLi4uXFxcIj5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJuby1vZi1wYWdlcy1zY2FuXFxcIiBkYXRhLW51bWJlci1vZi1wYWdlcz1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT2ZQYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+IG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5ub09mUGFnZXMgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI8L3NwYW4+XFxyXFxuICAgIDwvc3Bhbj5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtaW5pIGNvbXBhY3QgXFxcIj5cXHJcXG4gICAgICAgIDxhIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IG5leHRMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5leHRQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIG5leHQgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBuZXh0IHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxtYXRoLnRzXCIpKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZUluZGV4IDogc3RhY2sxKSxcIitcIiwxLHtcIm5hbWVcIjpcIm1hdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIlxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXHJcXG4gICAgICAgICAgICBOZXh0XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImd1aS1pY29uIGd1aS1pY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT5cXHJcXG4gICAgICAgIDwvYT5cXHJcXG4gICAgICAgIDxhIGNsYXNzPVxcXCJndWkgbWluaSBjb21wYWN0IGxhc3RMaW5rXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgXCJcbiAgICArIGFsaWFzMihfX2RlZmF1bHQocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcR3JpZG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxhc3RQYWdlTGlua0Rpc2FibGVkIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiXFxyXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cXFwiR28gdG8gdGhlIGxhc3QgcGFnZVxcXCIgdGl0bGU9XFxcIkdvIHRvIHRoZSBsYXN0IHBhZ2VcXFwiIGRhdGEtcGFnZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5vT0ZwYWdlcyA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZ3VpLWljb24gZ3VpLWljb24tbmV4dFxcXCI+PC9pPlxcclxcbiAgICAgICAgPC9hPlxcclxcbiAgICA8L3NwYW4+XFxyXFxuPC9kaXY+XFxyXFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTYgZ3VpIGd1aS1zdWJoZWFkaW5nLTIgcmlnaHQgdGV4dC1yaWdodCBtLTAgcC01XFxcIj5cXHJcXG4gICAgPHNwYW4+Um93cyBQZXIgUGFnZTwvc3Bhbj5cXHJcXG4gICAgPHNlbGVjdCBjbGFzcz1cXFwiZ3VpIHBhZ2VTaXplU2VsZWN0b3JcXFwiPlxcclxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWdpbmF0aW9uRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZVNpemVzIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L3NlbGVjdD5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcImd1aSBtLWwtMTBcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnaW5hdGlvbkRhdGEgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnJhbmdlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5taW4gOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCIgLSBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5yYW5nZSA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEubWF4IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiIG9mIFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2luYXRpb25EYXRhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS50b3RhbENvdW50IDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiIGl0ZW1zPC9zcGFuPlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcImd1aSBjbGVhclxcXCI+PC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWUsXCJ1c2VEZXB0aHNcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtZm9vdGVyLmhic1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IG1hdGggPSAobHZhbHVlOiBudW1iZXIsIG9wZXJhdG9yOiBzdHJpbmcsIHJ2YWx1ZTogbnVtYmVyLCBvcHRpb25zKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCIrXCI6IGx2YWx1ZSArIHJ2YWx1ZSxcclxuICAgICAgICBcIi1cIjogbHZhbHVlIC0gcnZhbHVlLFxyXG4gICAgICAgIFwiKlwiOiBsdmFsdWUgKiBydmFsdWUsXHJcbiAgICAgICAgXCIvXCI6IGx2YWx1ZSAvIHJ2YWx1ZSxcclxuICAgICAgICBcIiVcIjogbHZhbHVlICUgcnZhbHVlLFxyXG4gICAgfVtvcGVyYXRvcl07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYXRoO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL21hdGgudHMiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz1cXFwibWFpblJvd1xcXCI+XFxyXFxuICAgIDx0ZCBjbGFzcz1cXFwiZXhwYW5zaW9uQXJyb3dzXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7XFxcIj5cXHJcXG4gICAgICAgIDxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tY2hldnJvbi1kb3duIGV4cGFuZERldGFpbHNSb3dJY29uIGN1cnNvci1wb2ludGVyXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPlxcclxcbiAgICAgICAgPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1jaGV2cm9uLXVwIENvbGxhcHNlRGV0YWlsc1Jvd0ljb24gY3Vyc29yLXBvaW50ZXIgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cXHJcXG4gICAgPC90ZD5cXHJcXG4gICAgPHRkPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBkYXRhLXZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucm93RGF0YSA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rZXlDb2x1bW4gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJzZWxlY3Qta2V5LWNoZWNrYm94XFxcIj5cXHJcXG4gICAgPC90ZD5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tYWluUm93Q29sQXJyYXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90cj5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxncmlkLWRldGFpbHMtcm93Lmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZ3JpZC1kZXRhaWxzLXJvd1wiLFwiZGF0YVwiOmRhdGEsXCJoZWxwZXJzXCI6aGVscGVycyxcInBhcnRpYWxzXCI6cGFydGlhbHMsXCJkZWNvcmF0b3JzXCI6Y29udGFpbmVyLmRlY29yYXRvcnN9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICA8dGQ+XCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmxhbWJkYSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1uVmFsdWUgOiBkZXB0aDApLCBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90ZD5cXHJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1haW5Sb3dBcnJheSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2dyaWQtbWFpbi1yb3cuaGJzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCAqIGFzIGpRdWVyeSBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcbmltcG9ydCB7IENvbFNldHRpbmdzSGFuZGxlciB9IGZyb20gXCIuLi9ldmVudEhhbmRsZXJzL0NvbFNldHRpbmdzSGFuZGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0RXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50SGFuZGxlcnMvU2VsZWN0RXZlbnRIYW5kbGVyXCI7XG5pbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvSVBhZ2luYXRpb25cIjtcbmltcG9ydCB7IElQYWdpbmF0aW9uSW5wdXQgfSBmcm9tIFwiLi4vbW9kZWxzL0lQYWdpbmF0aW9uSW5wdXRcIjtcbmltcG9ydCB7IFBhZ2VyIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24vUGFnZXJcIjtcbmltcG9ydCB7IERldGFpbHNSb3dIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9EZXRhaWxzUm93SGFuZGxlclwiO1xuaW1wb3J0IHsgRmlsdGVyQ2xpY2tIYW5kbGVyIH0gZnJvbSBcIi4vLi4vZXZlbnRIYW5kbGVycy9GaWx0ZXJDbGlja0hhbmRsZXJcIjtcbmltcG9ydCB7IEhhbmRsZXJOYW1lcyB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSGFuZGxlck5hbWVzXCI7XG5pbXBvcnQgeyBIZWFkZXJDbGlja0hhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL0hlYWRlckNsaWNrSGFuZGxlclwiO1xuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSUV2ZW50SGFuZGxlclwiO1xuaW1wb3J0IHsgSUhhbmRsZXJDaGFpbiB9IGZyb20gXCIuLy4uL2V2ZW50SGFuZGxlcnMvSUhhbmRsZXJDaGFpblwiO1xuaW1wb3J0IHsgUGFnZVNlYXJjaEhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1BhZ2VTZWFyY2hDbGlja0hhbmRsZXJcIjtcbmltcG9ydCB7IFNjcm9sbEhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1Njcm9sbEhhbmRsZXJcIjtcbmltcG9ydCB7IFRvZ2dsZUNvbHVtbkhhbmRsZXIgfSBmcm9tIFwiLi8uLi9ldmVudEhhbmRsZXJzL1RvZ2dsZUNvbHVtbkhhbmRsZXJcIjtcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XG5pbXBvcnQgeyBPcmRlckRpcmVjdGlvbiB9IGZyb20gXCIuLy4uL21vZGVscy9PcmRlckRpcmVjdGlvblwiO1xuaW1wb3J0IHsgR3JpZFRlbXBsYXRlU2VydmljZSB9IGZyb20gXCIuLy4uL3NlcnZpY2VzL0dyaWRUZW1wbGF0ZVNlcnZpY2VcIjtcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tIFwiLi8uLi91dGlsL0NvbHVtblV0aWxcIjtcbmltcG9ydCB7IElHcmlkT3B0aW9ucyB9IGZyb20gXCIuL0lHcmlkT3B0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgR3JpZDxUPiB7XG5cbiAgICBwcml2YXRlIGhhbmRsZUNoYWluOiBBcnJheTxJSGFuZGxlckNoYWluPFQ+PjtcbiAgICBwcml2YXRlIGdyaWRUZW1wbGF0ZVNlcnZpY2U6IEdyaWRUZW1wbGF0ZVNlcnZpY2U8VD47XG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJR3JpZE9wdGlvbnM8VD4pIHtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IG5ldyBDb25maWdTdG9yZTxUPihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlID0gbmV3IEdyaWRUZW1wbGF0ZVNlcnZpY2UodGhpcy5jb25maWdTdG9yZSk7XG4gICAgICAgIHRoaXMuSW5pdEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGJpbmREYXRhID0gKGRhdGE6IFRbXSwgcGFnaW5hdGlvbklucHV0PzogSVBhZ2luYXRpb25JbnB1dCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBmaXJzdEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jaHVua1NpemUgKyB0aGlzLmdldEluaXRpYWxSb3dDb3VudCgpO1xuICAgICAgICBsYXN0SW5kZXggPSBsYXN0SW5kZXggPiBkYXRhLmxlbmd0aCA/IGRhdGEubGVuZ3RoIC0gMSA6IGxhc3RJbmRleDtcbiAgICAgICAgUGFnZXIuQ2FsY3VsYXRlUGFnaW5hdGlvbkRhdGEocGFnaW5hdGlvbklucHV0KTtcbiAgICAgICAgY29uc3QgZ3JpZENvbnRlbnQ6IHN0cmluZyA9IHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRGaXJzdFRlbXBsYXRlKGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gZ3JpZENvbnRlbnQ7XG4gICAgICAgIC8vIEhhdmUgdG8gYmluZCBTY3JvbGwgSGFuZGxlciBBZnRlciBET00gaGFzIGJlZW4gY3JlYXRlZFxuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlKTtcbiAgICAgICAgc2Nyb2xsSGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHNjcm9sbEhhbmRsZXIsXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuU2Nyb2xsLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWFuYWdlQ29sdW1zSHRtbCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkdldE1hbmFnZUNvbHVtbnNIdG1sKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsUm93Q291bnQgPSAoKTogbnVtYmVyID0+IHtcbiAgICAgICAgcmV0dXJuIDI1O1xuICAgIH1cblxuICAgIHByaXZhdGUgSW5pdEhhbmRsZXJzID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0galF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbiA9IFtdO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IERldGFpbHNSb3dIYW5kbGVyPFQ+KHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLkRldGFpbHNSb3csXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogIG5ldyBGaWx0ZXJDbGlja0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuRmlsdGVyQWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5wdXNoKHtcbiAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBIZWFkZXJDbGlja0hhbmRsZXI8VD4odGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuSGVhZGVyQ2xpY2ssXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IFBhZ2VTZWFyY2hIYW5kbGVyPFQ+KHRoaXMuY29uZmlnU3RvcmUsIHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLlBhZ2VTZWFyY2gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2dnbGVIYW5kbGVyID0gbmV3IFRvZ2dsZUNvbHVtbkhhbmRsZXIodGhpcy5jb25maWdTdG9yZSwgcGFyZW50RWxlbWVudCk7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBwYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLm1hbmFnZUNvbFNldHRpbmdzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGpRdWVyeSh0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMubWFuYWdlQ29sU2V0dGluZ3NDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBoYW5kbGVyOiBuZXcgQ29sU2V0dGluZ3NIYW5kbGVyPFQ+KGNvbnRhaW5lciwgdG9nZ2xlSGFuZGxlciksXG4gICAgICAgICAgICBuYW1lOiBIYW5kbGVyTmFtZXMuQ29sU2V0dGluZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYWluLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogbmV3IFNlbGVjdEV2ZW50SGFuZGxlcjxUPih0aGlzLmNvbmZpZ1N0b3JlLCBwYXJlbnRFbGVtZW50LCB0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UpLFxuICAgICAgICAgICAgbmFtZTogSGFuZGxlck5hbWVzLkNvbFNldHRpbmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xuICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpRdWVyeSh3aW5kb3cpLnJlc2l6ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoYWluLmZvckVhY2goKHZhbHVlOiBJSGFuZGxlckNoYWluPFQ+KTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgdmFsdWUuaGFuZGxlci5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBqUXVlcnkoZG9jdW1lbnQpLmNsaWNrKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGFpbi5mb3JFYWNoKCh2YWx1ZTogSUhhbmRsZXJDaGFpbjxUPik6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIHZhbHVlLmhhbmRsZXIub25Eb2N1bWVudENsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvbWFpbi9HcmlkLnRzIiwiaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4uL21haW4vSUdyaWRPcHRpb25zXCI7XHJcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi4vbW9kZWxzL0ZpbHRlckFjdGlvblR5cGVcIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLi9tb2RlbHMvSUNvbHVtblwiO1xyXG5pbXBvcnQgeyBPcmRlckRpcmVjdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvT3JkZXJEaXJlY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdTdG9yZTxUPiB7XHJcbiAgICBwdWJsaWMgb3B0aW9uczogSUdyaWRPcHRpb25zPFQ+O1xyXG4gICAgcHJpdmF0ZSBkZWZhdWx0R3JpZE9wdGlvbnM6IElHcmlkT3B0aW9uczxUPiA9IHtcclxuICAgICAgICBjaHVua1NpemU6IDUsXHJcbiAgICAgICAgY29sdW1uczogW10sXHJcbiAgICAgICAgY29udGFpbmVyRWxlbWVudDogbnVsbCxcclxuICAgICAgICBtYW5hZ2VDb2xTZXR0aW5nc0NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICBoeWJyaWRGdW5jdGlvbjogKGNvbHVtbjogSUNvbHVtbiwgcm93OiBUKTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAga2V5Q29sdW1uOiBcIlwiLFxyXG4gICAgICAgIG9uQ2xpY2tGaWx0ZXI6IChjb2x1bW46IHN0cmluZywgdmFsdWU6IGFueSwgYWN0aW9uVHlwZTogRmlsdGVyQWN0aW9uVHlwZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBObyBjb2RlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNsaWNrSGVhZGVyOiAoY29sdW1uOiBzdHJpbmcsIGRpcmVjdGlvbjogT3JkZXJEaXJlY3Rpb24pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25QYWdlU2VhcmNoOiAocGFnZVNpemU6IG51bWJlciwgcGFnZUluZGV4OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gY29kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25TZWxlY3Q6IChyb3dzOiBUW10pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gTm8gQ29kZVxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5leHRlbmRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lckVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIFByb3ZpZGUgYSB2YWxpZCBjb250YWluZXIgRWxlbWVudCBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBPcHRpb25zKG9wdGlvbnM6IElHcmlkT3B0aW9uczxUPikge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IE9wdGlvbnMoKTogSUdyaWRPcHRpb25zPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFNldEhpZGRlbk9uQ29uZmlnID0gKGJvb2w6IGJvb2xlYW4sIGNvbHVtbklkPzogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5PcHRpb25zLmNvbHVtbnMuZm9yRWFjaCgoY29sOiBJQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5JZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29sLmhpZGRlbiA9IGJvb2w7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbC5oaWRkZW4gPSBib29sO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBleHRlbmRPcHRpb25zID0gKGlucHV0T3B0aW9uczogSUdyaWRPcHRpb25zPFQ+KTogSUdyaWRPcHRpb25zPFQ+ID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zID0galF1ZXJ5LmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0R3JpZE9wdGlvbnMsIGlucHV0T3B0aW9ucyk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9jb25maWcvQ29uZmlnU3RvcmUudHMiLCJpbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi4vbWFpbi9JR3JpZE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgVG9nZ2xlQ29sdW1uSGFuZGxlciB9IGZyb20gXCIuL1RvZ2dsZUNvbHVtbkhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xTZXR0aW5nc0hhbmRsZXI8VD4gaW1wbGVtZW50cyBJRXZlbnRIYW5kbGVyPFQ+IHtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSB0b2dnbGVDb2x1bW5IYW5kbGVyOiBUb2dnbGVDb2x1bW5IYW5kbGVyPFQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEpRdWVyeSwgdG9nZ2xlQ29sdW1uSGFuZGxlcjogVG9nZ2xlQ29sdW1uSGFuZGxlcjxUPikge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyID0gdG9nZ2xlQ29sdW1uSGFuZGxlcjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzZXR0bmdzUG9wdXAgPSB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyXCIpO1xyXG4gICAgICAgIGNvbnN0IHRib2R5SGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtYm9keVwiKS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIHNldHRuZ3NQb3B1cC5pbm5lckhlaWdodCh0Ym9keUhlaWdodCAtIDEwKTtcclxuICAgICAgICBzZXR0bmdzUG9wdXAuZmluZChcIi5jb2wtc2V0dGluZ3MtdGFibGVcIikuaW5uZXJIZWlnaHQoc2V0dG5nc1BvcHVwLmlubmVySGVpZ2h0KCkgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRuZ3NQb3B1cC5maW5kKFwiLmNvbC1zZXR0aW5ncy1oZWFkZXJcIikuaW5uZXJIZWlnaHQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5pcyhcIi5jb2wtc2V0dGluZ3MtdHJpZ2dlclwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0RWxlbWVudC5wYXJlbnRzKCkuaXMoXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lclwiKSkge1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lclwiKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLmNvbC1zZXR0aW5ncy10cmlnZ2VyXCIsIChldmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRuZ3NQb3B1cCA9IGpRdWVyeShcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XHJcbiAgICAgICAgICAgIHNldHRuZ3NQb3B1cC50b2dnbGUoKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwia2V5dXBcIiwgXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lciAuY29sLXNldHRpbmdzLWhlYWRlciAuY29sLXNldHRpbmdzLWZpbHRlclwiLFxyXG4gICAgICAgICAgICAoZXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGVsZW1lbnQudmFsKCkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbC1zZXR0aW5ncy10YWJsZSB0YWJsZSB0Ym9keSB0clwiKS5lYWNoKChpOiBudW1iZXIsIGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoZSkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqUXVlcnkoZSkuYXR0cihcImRhdGEtaGVhZGVyLWlkXCIpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2YWwpID09PSAtMSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGUpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLnNob3ctYWxsLWNvbHVtblwiLCAoZXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuY29sdW1uLXNldHRpbmdzLWNvbnRhaW5lciAuY29sLXNldHRpbmdzLWhpZGRlbi1jaGVja2JveFwiKVxyXG4gICAgICAgICAgICAuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeShlbGVtZW50KS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5zaG93QWxsQ29sdW1ucygpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi5jb2x1bW4tc2V0dGluZ3MtY29udGFpbmVyIC5oaWRlLWFsbC1jb2x1bW5cIiwgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIilcclxuICAgICAgICAgICAgLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoZWxlbWVudCkucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLmhpZGVBbGxDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmNvbHVtbi1zZXR0aW5ncy1jb250YWluZXIgLmNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcIiwgKGV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGNoZWNrYm94LnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3guaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ29sdW1uSGFuZGxlci5zaG93Q29sdW1uKGlkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDb2x1bW5IYW5kbGVyLmhpZGVDb2x1bW4oaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvQ29sU2V0dGluZ3NIYW5kbGVyLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IEdyaWRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvR3JpZFRlbXBsYXRlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdEV2ZW50SGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSwgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPikge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IGdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi5zZWxlY3Qta2V5LWNoZWNrYm94XCIgLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gZWxlbWVudC5kYXRhKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdChbcm93XSwgZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdC1hbGwtY2hlY2tib3hcIiAsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbGVtZW50LmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vblNlbGVjdCh0aGlzLmdyaWRUZW1wbGF0ZVNlcnZpY2UuRGF0YSwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnNlbGVjdC1rZXktY2hlY2tib3hcIikucHJvcChcImNoZWNrZWRcIiwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIElnbm9yZVxyXG4gICAgfVxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8gSWdub3JlXHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL1NlbGVjdEV2ZW50SGFuZGxlci50cyIsImltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcbmV4cG9ydCBjbGFzcyBEZXRhaWxzUm93SGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBKUXVlcnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvblJlc2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRvY3VtZW50Q2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIERvLlxyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1ib2R5IC5leHBhbnNpb25BcnJvd3MgaVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXJyb3cgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgZGV0YWlsc1JvdyA9IGFycm93LmNsb3Nlc3QoXCJ0clwiKS5uZXh0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJY29uID0gYXJyb3cuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBvdGhlckljb24gPSBhcnJvdy5zaWJsaW5ncyhcImlcIikuc2hvdygpO1xyXG4gICAgICAgICAgICBpZiAoYXJyb3cuaGFzQ2xhc3MoXCJleHBhbmREZXRhaWxzUm93SWNvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsc1Jvdy5zaG93KDIwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzUm93LmhpZGUoMjAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRGV0YWlsc1Jvd0hhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUdyaWRPcHRpb25zIH0gZnJvbSBcIi4uL21haW4vSUdyaWRPcHRpb25zXCI7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9Db2x1bW5VdGlsXCI7XHJcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi8uLi9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQgeyBJRmlsdGVyQ2xpY2tEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uL21vZGVscy9JRmlsdGVyQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbHRlckNsaWNrSGFuZGxlcjxUPiBpbXBsZW1lbnRzIElFdmVudEhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWJvZHkgLmRldGFpbHNSb3cgLmRldGFpbHNUYWJsZSB0ZCBpXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFRkID0gZWxlbWVudC5wYXJlbnRzKFwidGRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhcmVudFRkLmF0dHIoXCJkYXRhLWZpbHRlci1rZXlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyZW50VGQuYXR0cihcImRhdGEtZmlsdGVyLXZhbHVlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBjb2wgPSBDb21tb25VdGlsLkdldENvbHVtbk9iamVjdChrZXksIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgaWYgKGNvbCA9PT0gdW5kZWZpbmVkIHx8IGNvbCA9PT0gbnVsbCB8fCAhY29sLmZpbHRlcmFibGUgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGZpbHRlckFjdGlvbjogRmlsdGVyQWN0aW9uVHlwZSA9IEZpbHRlckFjdGlvblR5cGUuQWRkO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcyhcInJlbW92ZUZpbHRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyQWN0aW9uID0gRmlsdGVyQWN0aW9uVHlwZS5NaW51cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25DbGlja0ZpbHRlcihrZXksIHZhbHVlLCBmaWx0ZXJBY3Rpb24pO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvRmlsdGVyQ2xpY2tIYW5kbGVyLnRzIiwiZXhwb3J0IGVudW0gRmlsdGVyQWN0aW9uVHlwZSB7XHJcbiAgICBBZGQgPSBcIkFkZFwiLFxyXG4gICAgTWludXMgPSBcIk1pbnVzXCIsXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsImV4cG9ydCBlbnVtIEhhbmRsZXJOYW1lcyB7XHJcbiAgICBGaWx0ZXJBY3Rpb24sXHJcbiAgICBIZWFkZXJDbGljayxcclxuICAgIFNjcm9sbCxcclxuICAgIFBhZ2VTZWFyY2gsXHJcbiAgICBEZXRhaWxzUm93LFxyXG4gICAgVG9nZ2xlQ29sdW1uLFxyXG4gICAgQ29sU2V0dGluZ3MsXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9ldmVudEhhbmRsZXJzL0hhbmRsZXJOYW1lcy50cyIsImltcG9ydCB7IENvbmZpZ1N0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xyXG5pbXBvcnQgeyBJR3JpZE9wdGlvbnMgfSBmcm9tIFwiLi4vbWFpbi9JR3JpZE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgQ29tbW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL0NvbHVtblV0aWxcIjtcclxuaW1wb3J0IHtJSGVhZGVyQ2xpY2tEZWxlZ2F0ZX0gZnJvbSBcIi4vLi4vbW9kZWxzL0lIZWFkZXJDbGlja0RlbGVnYXRlXCI7XHJcbmltcG9ydCB7IE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL09yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSGVhZGVyQ2xpY2tIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlPFQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gRG8uXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBSZWdpc3RlcmluZyBKUXVlcnkgRXZlbnQgSGFuZGxlciBpZiBIZWFkZXIgaXMgQ2xpY2tlZC5cclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1oZWFkZXIgdGhcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwidGhcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcklkID0gZWxlbWVudC5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGhlYWRlcklkLCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgIGlmIChjb2wgPT09IHVuZGVmaW5lZCB8fCBjb2wgPT09IG51bGwgfHwgIWNvbC5zb3J0YWJsZSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhcnJvd0ljb25zID0gZWxlbWVudC5maW5kKFwiaVwiKTtcclxuICAgICAgICAgICAgY29uc3QgdXBBcnJvd0ljb24gPSBhcnJvd0ljb25zLmZpcnN0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvd25BcnJvd0ljb24gPSBhcnJvd0ljb25zLmxhc3QoKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbjogT3JkZXJEaXJlY3Rpb247XHJcbiAgICAgICAgICAgIGlmIChhcnJvd0ljb25zLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1cEFycm93SWNvbi5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gT3JkZXJEaXJlY3Rpb24uRGVzYztcclxuICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bkFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IE9yZGVyRGlyZWN0aW9uLkFzYztcclxuICAgICAgICAgICAgICAgICAgICBkb3duQXJyb3dJY29uLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBPcmRlckRpcmVjdGlvbi5Bc2M7XHJcbiAgICAgICAgICAgICAgICB1cEFycm93SWNvbi5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ29tbW9uVXRpbC5TZXRPcmRlcihoZWFkZXJJZCwgZGlyZWN0aW9uLCB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkNsaWNrSGVhZGVyKGhlYWRlcklkLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvSGVhZGVyQ2xpY2tIYW5kbGVyLnRzIiwiaW1wb3J0ICogYXMgalF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcclxuaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IFBhZ2VyIH0gZnJvbSBcIi4uL3BhZ2luYXRpb24vUGFnZXJcIjtcclxuaW1wb3J0IHsgSVBhZ2VTZWFyY2hDbGlja0RlbGVnYXRlIH0gZnJvbSBcIi4vLi4vbW9kZWxzL0lQYWdlU2VhcmNoQ2xpY2tEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBJUGFnaW5hdGlvbiB9IGZyb20gXCIuLy4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VTZWFyY2hIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZWxlbWVudDogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljaygpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBSZWdpc3RlckRvbUhhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5maXJzdExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIDEpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJjbGlja1wiLCBcIi50YWJsZS1mb290ZXIgLm5leHRMaW5rXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKFBhZ2VyLlBhZ2luYXRpb25EYXRhLnBhZ2VTaXplLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIudGFibGUtZm9vdGVyIC5wcmV2TGlua1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdTdG9yZS5vcHRpb25zLm9uUGFnZVNlYXJjaChQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlU2l6ZSwgUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZUluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNsaWNrXCIsIFwiLnRhYmxlLWZvb3RlciAubGFzdExpbmtcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2goUGFnZXIuUGFnaW5hdGlvbkRhdGEucGFnZVNpemUsIFBhZ2VyLlBhZ2luYXRpb25EYXRhLm5vT2ZQYWdlcyk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5vbihcImNoYW5nZVwiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VTaXplU2VsZWN0b3JcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gK2pRdWVyeShldmVudC50YXJnZXQpLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5vblBhZ2VTZWFyY2godmFsLCBQYWdlci5QYWdpbmF0aW9uRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQub24oXCJrZXlwcmVzc1wiLCBcIi50YWJsZS1mb290ZXIgLnBhZ2VyLWlucHV0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpcCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWdlRGF0YSA9IFBhZ2VyLlBhZ2luYXRpb25EYXRhO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbDogbnVtYmVyID0gK2lwLnZhbCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsKSB8fCB2YWwgPiBwYWdlRGF0YS5ub09mUGFnZXMgfHwgdmFsIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlwLnZhbChwYWdlRGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMub25QYWdlU2VhcmNoKHBhZ2VEYXRhLnBhZ2VTaXplLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvanMvZXZlbnRIYW5kbGVycy9QYWdlU2VhcmNoQ2xpY2tIYW5kbGVyLnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vbW9kZWxzL09yZGVyRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IEdyaWRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi8uLi9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElJbmRleENvdW50ZXIgfSBmcm9tIFwiLi8uLi92aXJ0dWFsaXphdGlvbi9JbmRleENvdW50ZXJcIjtcclxuaW1wb3J0IHsgU2Nyb2xsRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vdmlydHVhbGl6YXRpb24vU2Nyb2xsRGlyZWN0aW9uXCI7XHJcbmltcG9ydCB7IFZpcnR1YWxpemVyIH0gZnJvbSBcIi4vLi4vdmlydHVhbGl6YXRpb24vVmlydHVhbGl6ZXJcIjtcclxuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuL0lFdmVudEhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JvbGxIYW5kbGVyPFQ+IGltcGxlbWVudHMgSUV2ZW50SGFuZGxlcjxUPiB7XHJcbiAgICBwcml2YXRlIHZpcnR1YWxpemVyOiBWaXJ0dWFsaXplcjtcclxuICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgcHJpdmF0ZSBncmlkVGVtcGxhdGVTZXJ2aWNlOiBHcmlkVGVtcGxhdGVTZXJ2aWNlPFQ+O1xyXG4gICAgcHJpdmF0ZSByZW5kZXJpbmc6IGJvb2xlYW4gPSAgZmFsc2U7XHJcbiAgICBwcml2YXRlIGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPjtcclxuICAgIHByaXZhdGUgbGVmdE9mZnNldDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPiwgZ3JpZFRlbXBsYXRlU2VydmljZTogR3JpZFRlbXBsYXRlU2VydmljZTxUPikge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZSA9IGdyaWRUZW1wbGF0ZVNlcnZpY2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sZWZ0T2Zmc2V0ID0gdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIudGFibGUtaGVhZGVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBSZWdpc3RlcmluZyBKUXVlcnkgRXZlbnQgSGFuZGxlciBpZiBIZWFkZXIgaXMgQ2xpY2tlZC5cclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi50YWJsZS1ib2R5XCIpLm9uKFwic2Nyb2xsXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0Qm9keU9iaiA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWJvZHlcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnRPZmZzZXQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmxlZnRPZmZzZXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdE9mZnNldCA9IHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLnRhYmxlLWhlYWRlclwiKS5vZmZzZXQoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0T2Zmc2V0ICsgLTEgKiB0Qm9keU9iai5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgYWN0dWFsVGFibGVIZWlnaHQgPSB0Qm9keU9iai5maW5kKFwiLm1haW5UYWJsZVwiKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgdGhpcy5WaXJ0dWFsaXplci5UYWJsZUhlaWdodCA9IGFjdHVhbFRhYmxlSGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLlZpcnR1YWxpemVyLlNjcm9sbENvbnRhaW5lckhlaWdodCA9IHRCb2R5T2JqLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmcpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHRCb2R5T2JqLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleENvdW50ZXI6IElJbmRleENvdW50ZXIgPSB0aGlzLlZpcnR1YWxpemVyLkdldEluZGV4Q291bnRlckZvclNjcm9sbChzY3JvbGxUb3ApO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4Q291bnRlci5kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgU2Nyb2xsRGlyZWN0aW9uLkRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4Q291bnRlci5yZW5kZXJpbmdSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlIC5tYWluVGFibGVCb2R5XCIpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRSb3dzSHRtbChpbmRleENvdW50ZXIuc3RhcnRJbmRleCwgaW5kZXhDb3VudGVyLmVuZEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlIC5tYWluVGFibGVCb2R5ID4gdHJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCB0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMuY2h1bmtTaXplICogMikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTY3JvbGxEaXJlY3Rpb24uVXA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4Q291bnRlci5yZW5kZXJpbmdSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlIC5tYWluVGFibGVCb2R5XCIpLnByZXBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZ3JpZFRlbXBsYXRlU2VydmljZS5HZXRSb3dzSHRtbChpbmRleENvdW50ZXIuc3RhcnRJbmRleCwgaW5kZXhDb3VudGVyLmVuZEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRCb2R5T2JqLmZpbmQoXCIubWFpblRhYmxlIC5tYWluVGFibGVCb2R5ID4gdHJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgodGhpcy5jb25maWdTdG9yZS5vcHRpb25zLmNodW5rU2l6ZSAqIC0yKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXQgVmlydHVhbGl6ZXIoKTogVmlydHVhbGl6ZXIge1xyXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxpemVyID09PSBudWxsIHx8IHRoaXMudmlydHVhbGl6ZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aXJ0dWFsaXplciA9IG5ldyBWaXJ0dWFsaXplcih0aGlzLmNvbmZpZ1N0b3JlLm9wdGlvbnMuY2h1bmtTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNSwgdGhpcy5ncmlkVGVtcGxhdGVTZXJ2aWNlLkRhdGFMZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxpemVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvU2Nyb2xsSGFuZGxlci50cyIsImltcG9ydCB7IEdldERlZmF1bHRJbmRleENvdW50ZXIsIElJbmRleENvdW50ZXIgfSBmcm9tIFwiLi9JbmRleENvdW50ZXJcIjtcclxuaW1wb3J0IHsgU2Nyb2xsRGlyZWN0aW9uIH0gZnJvbSBcIi4vU2Nyb2xsRGlyZWN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbGl6ZXIge1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXhDb3VudGVyOiBJSW5kZXhDb3VudGVyO1xyXG4gICAgcHJpdmF0ZSBsYXN0U2Nyb2xsUG9zaXRpb246IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGVuZ3RoOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNodW5rU2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzY3JvbGxDb250YWluZXJIZWlnaHQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGFibGVIZWlnaHQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgaW5pdGlhbFJvd0NvdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2h1bmtTaXplOiBudW1iZXIsIGluaXRpYWxSb3dDb3VudDogbnVtYmVyLCBsZW5ndGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFBvc2l0aW9uID0gMDtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IGNodW5rU2l6ZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxSb3dDb3VudCA9IGluaXRpYWxSb3dDb3VudDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIgPSBHZXREZWZhdWx0SW5kZXhDb3VudGVyKGluaXRpYWxSb3dDb3VudCwgY2h1bmtTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0SW5kZXhDb3VudGVyRm9yU2Nyb2xsID0gKHNjcm9sbFRvcDogbnVtYmVyKTogSUluZGV4Q291bnRlciA9PiB7XHJcbiAgICAgICAgbGV0IG5ld0NvdW50ZXI6IElJbmRleENvdW50ZXIgPSBHZXREZWZhdWx0SW5kZXhDb3VudGVyKHRoaXMuY2h1bmtTaXplLCB0aGlzLmluaXRpYWxSb3dDb3VudCk7XHJcbiAgICAgICAgbmV3Q291bnRlci5kaXJlY3Rpb24gPSB0aGlzLkdldFNjcm9sbERpcmVjdGlvbihzY3JvbGxUb3ApO1xyXG4gICAgICAgIHN3aXRjaCAobmV3Q291bnRlci5kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIEluZGV4IENvdW50ZXJzIGZvciBEb3duIE1vdmVtZW50XHJcbiAgICAgICAgICAgIGNhc2UgU2Nyb2xsRGlyZWN0aW9uLkRvd246XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXhDb3VudGVyLmxhc3RJbmRleCA+PSB0aGlzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLmVuZFJlYWNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLmVuZFJlYWNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gKHNjcm9sbFRvcCArIHRoaXMuU2Nyb2xsQ29udGFpbmVySGVpZ2h0KSAtICh0aGlzLlRhYmxlSGVpZ2h0ICogMC44ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIucmVuZGVyaW5nUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyID0gdGhpcy5Qb3B1bGF0ZUluZGV4Q291bnRlckZvckRvd24obmV3Q291bnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2Nyb2xsRGlyZWN0aW9uLlVwOlxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIEluZGV4IENvdW50ZXJzIGZvciBVcCBNb3ZlbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4Q291bnRlci5maXJzdEluZGV4IDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLmVuZFJlYWNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyLmVuZFJlYWNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gc2Nyb2xsVG9wIC0gKHRoaXMuVGFibGVIZWlnaHQgLSB0aGlzLlNjcm9sbENvbnRhaW5lckhlaWdodCkgKiAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ZXIucmVuZGVyaW5nUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudGVyID0gdGhpcy5Qb3B1bGF0ZUluZGV4Q291bnRlckZvclVwKG5ld0NvdW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3Q291bnRlci5yZW5kZXJpbmdSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIgPSBuZXdDb3VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbiA9IHNjcm9sbFRvcDtcclxuICAgICAgICAvLyB0aGlzLlByaW50KG5ld0NvdW50ZXIsIHRoaXMuY3VycmVudEluZGV4Q291bnRlcik7XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvdW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBQcmludCA9IChuZXdDb3VudGVyOiBJSW5kZXhDb3VudGVyLCBjdXJyZW50SW5kZXhDb3VudGVyOiBJSW5kZXhDb3VudGVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIgU2Nyb2xsIFBvc2l0aW9uIC0gXCIgKyB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIgTGVuZ3RoICAtIFwiICsgdGhpcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiIC0tLS0tLS0tLS0tLSAgQ1VSUkVOVCAtLS0tLS0tLS0tIFwiKTtcclxuICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50SW5kZXhDb3VudGVyKS5mb3JFYWNoKCh2YWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCArIFwiIC0gXCIgKyBjdXJyZW50SW5kZXhDb3VudGVyW3ZhbF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiIC0tLS0tLS0tLS0tLSAgTkVXIC0tLS0tLS0tLS0gXCIpO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKG5ld0NvdW50ZXIpLmZvckVhY2goKHZhbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsICsgXCIgLSBcIiArIG5ld0NvdW50ZXJbdmFsXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBQb3B1bGF0ZUluZGV4Q291bnRlckZvckRvd24gPSAoY291bnRlcjogSUluZGV4Q291bnRlcik6IElJbmRleENvdW50ZXIgPT4ge1xyXG4gICAgICAgIGNvdW50ZXIuc3RhcnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4Q291bnRlci5sYXN0SW5kZXggKyAxO1xyXG4gICAgICAgIGNvdW50ZXIuZW5kSW5kZXggICA9IHRoaXMuY3VycmVudEluZGV4Q291bnRlci5sYXN0SW5kZXggKyB0aGlzLmNodW5rU2l6ZSA+IHRoaXMubGVuZ3RoIC0gMSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggLSAxIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4ICsgdGhpcy5jaHVua1NpemU7XHJcbiAgICAgICAgY291bnRlci5maXJzdEluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXhDb3VudGVyLmZpcnN0SW5kZXggKyB0aGlzLmNodW5rU2l6ZTtcclxuICAgICAgICBjb3VudGVyLmxhc3RJbmRleCAgPSBjb3VudGVyLmVuZEluZGV4O1xyXG4gICAgICAgIHJldHVybiBjb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgUG9wdWxhdGVJbmRleENvdW50ZXJGb3JVcCA9IChjb3VudGVyOiBJSW5kZXhDb3VudGVyKTogSUluZGV4Q291bnRlciA9PiB7XHJcbiAgICAgICAgY291bnRlci5zdGFydEluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXhDb3VudGVyLmZpcnN0SW5kZXggLSB0aGlzLmNodW5rU2l6ZSA8IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4Q291bnRlci5maXJzdEluZGV4IC0gdGhpcy5jaHVua1NpemU7XHJcbiAgICAgICAgY291bnRlci5lbmRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4Q291bnRlci5maXJzdEluZGV4IC0gMTtcclxuICAgICAgICBjb3VudGVyLmZpcnN0SW5kZXggPSBjb3VudGVyLnN0YXJ0SW5kZXg7XHJcbiAgICAgICAgY291bnRlci5sYXN0SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleENvdW50ZXIubGFzdEluZGV4IC0gdGhpcy5jaHVua1NpemU7XHJcbiAgICAgICAgcmV0dXJuIGNvdW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBHZXRTY3JvbGxEaXJlY3Rpb24gPSAoc2Nyb2xsVG9wOiBudW1iZXIpOiBTY3JvbGxEaXJlY3Rpb24gPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbiA8IHNjcm9sbFRvcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2Nyb2xsRGlyZWN0aW9uLkRvd247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTY3JvbGxEaXJlY3Rpb24uVXA7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IFNjcm9sbENvbnRhaW5lckhlaWdodChoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgU2Nyb2xsQ29udGFpbmVySGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcm9sbENvbnRhaW5lckhlaWdodDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgVGFibGVIZWlnaHQoaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgVGFibGVIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFibGVIZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IEluaXRpYWxSb3dDb3VudChyb3dDb3VudDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsUm93Q291bnQgPSByb3dDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IEluaXRpYWxSb3dDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsUm93Q291bnQ7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy92aXJ0dWFsaXphdGlvbi9WaXJ0dWFsaXplci50cyIsImltcG9ydCB7SUluZGV4Q291bnRlcn0gZnJvbSBcIi4vSW5kZXhDb3VudGVyXCI7XHJcbmltcG9ydCB7U2Nyb2xsRGlyZWN0aW9ufSBmcm9tIFwiLi9TY3JvbGxEaXJlY3Rpb25cIjtcclxuZXhwb3J0IGludGVyZmFjZSBJSW5kZXhDb3VudGVyIHtcclxuICAgIHN0YXJ0SW5kZXg6IG51bWJlcjtcclxuICAgIGVuZEluZGV4OiBudW1iZXI7XHJcbiAgICBmaXJzdEluZGV4OiBudW1iZXI7XHJcbiAgICBsYXN0SW5kZXg6IG51bWJlcjtcclxuICAgIGRpcmVjdGlvbjogU2Nyb2xsRGlyZWN0aW9uO1xyXG4gICAgZW5kUmVhY2hlZDogYm9vbGVhbjtcclxuICAgIHJlbmRlcmluZ1JlcXVpcmVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgR2V0RGVmYXVsdEluZGV4Q291bnRlciA9IChyb3dDb3VudDogbnVtYmVyLCBjaHVua1NpemU6IG51bWJlcik6IElJbmRleENvdW50ZXIgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzdGFydEluZGV4OiByb3dDb3VudCAtIDEsXHJcbiAgICAgICAgZW5kSW5kZXg6IHJvd0NvdW50ICsgY2h1bmtTaXplIC0gMSxcclxuICAgICAgICBmaXJzdEluZGV4OiAwLFxyXG4gICAgICAgIGxhc3RJbmRleDogcm93Q291bnQgLSAxLFxyXG4gICAgICAgIGRpcmVjdGlvbjogU2Nyb2xsRGlyZWN0aW9uLkRvd24sXHJcbiAgICAgICAgZW5kUmVhY2hlZDogZmFsc2UsXHJcbiAgICAgICAgcmVuZGVyaW5nUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy92aXJ0dWFsaXphdGlvbi9JbmRleENvdW50ZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcclxuaW1wb3J0IHsgSUNvbHVtbiB9IGZyb20gXCIuLy4uL21vZGVscy9JQ29sdW1uXCI7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tIFwiLi8uLi91dGlsL0NvbHVtblV0aWxcIjtcclxuXHJcbmVudW0gU2hvd0hpZGUge1xyXG4gICAgU2hvdyxcclxuICAgIEhpZGUsXHJcbiAgICBTaG93QWxsLFxyXG4gICAgSGlkZUFsbCxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvZ2dsZUNvbHVtbkhhbmRsZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD4sIGVsZW1lbnQ6IEpRdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93QWxsQ29sdW1ucyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWhlYWRlciAuaGVhZGVyQ29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3dBbGwpO1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93QWxsKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0NvbHVtbiA9IChjb2x1bW5JZDogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1oZWFkZXIgLmhlYWRlckNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5TaG93LCBjb2x1bW5JZCk7XHJcbiAgICAgICAgdGhpcy5TZXRDb2xXaWR0aChcIi50YWJsZS1ib2R5IC5ib2R5Q29sR3JvdXAgY29sXCIsIFNob3dIaWRlLlNob3csIGNvbHVtbklkKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKGZhbHNlLCBjb2x1bW5JZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGVDb2x1bW4gPSAoY29sdW1uSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtaGVhZGVyIC5oZWFkZXJDb2xHcm91cCBjb2xcIiwgU2hvd0hpZGUuSGlkZSwgY29sdW1uSWQpO1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlICwgY29sdW1uSWQpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuU2V0SGlkZGVuT25Db25maWcodHJ1ZSwgY29sdW1uSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoaWRlQWxsQ29sdW1ucyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLlNldENvbFdpZHRoKFwiLnRhYmxlLWhlYWRlciAuaGVhZGVyQ29sR3JvdXAgY29sXCIsIFNob3dIaWRlLkhpZGVBbGwpO1xyXG4gICAgICAgIHRoaXMuU2V0Q29sV2lkdGgoXCIudGFibGUtYm9keSAuYm9keUNvbEdyb3VwIGNvbFwiLCBTaG93SGlkZS5IaWRlQWxsKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLlNldEhpZGRlbk9uQ29uZmlnKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0Q29sV2lkdGggPSAoc2VsZWN0b3I6IHN0cmluZywgY29udHJvbDogU2hvd0hpZGUsIGNvbHVtbklkPzogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoc2VsZWN0b3IpLmVhY2goKGluZGV4LCBlbGVtZW50KTogdm9pZCB8IGZhbHNlID0+IHtcclxuICAgICAgICAgICAgbGV0IHdpZHRoID0gMDtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbEVsZW0gPSBqUXVlcnkoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb2wgPSBjdXJyZW50Q29sRWxlbS5hdHRyKFwiZGF0YS1oZWFkZXItaWRcIik7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29sICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2w6IElDb2x1bW47XHJcbiAgICAgICAgICAgICAgICBpZiAoW1Nob3dIaWRlLlNob3csIFNob3dIaWRlLkhpZGVdLmluZGV4T2YoY29udHJvbCkgPiAtMSApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbCA9PT0gY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2wgPT09IFNob3dIaWRlLlNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGN1cnJlbnRDb2wsIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gY29sLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xFbGVtLndpZHRoKCB3aWR0aCArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoW1Nob3dIaWRlLlNob3dBbGwsIFNob3dIaWRlLkhpZGVBbGxdLmluZGV4T2YoY29udHJvbCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sID09PSBTaG93SGlkZS5TaG93QWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IENvbW1vblV0aWwuR2V0Q29sdW1uT2JqZWN0KGN1cnJlbnRDb2wsIHRoaXMuY29uZmlnU3RvcmUub3B0aW9ucy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xFbGVtLndpZHRoKCB3aWR0aCArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2pzL2V2ZW50SGFuZGxlcnMvVG9nZ2xlQ29sdW1uSGFuZGxlci50cyIsImltcG9ydCAqIGFzIEhhbmRsZWJhcnMgZnJvbSBcImhhbmRsZWJhcnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZERldGFpbHNSb3dUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtZGV0YWlscy1yb3cuaGJzXCI7XHJcbmltcG9ydCAqIGFzIEdyaWRGb290ZXIgZnJvbSBcIi4uLy4uL2hicy9ncmlkLWZvb3Rlci5oYnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZE1haW5Sb3dUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vaGJzL2dyaWQtbWFpbi1yb3cuaGJzXCI7XHJcbmltcG9ydCAqIGFzIE1hbmFnZUNvbHVtblRlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC1tYW5hZ2UtY29sdW1ucy5oYnNcIjtcclxuaW1wb3J0ICogYXMgR3JpZFRlbXBsYXRlIGZyb20gXCIuLi8uLi9oYnMvZ3JpZC5oYnNcIjtcclxuaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XHJcbmltcG9ydCB7IElQYWdpbmF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9JUGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBQYWdlciB9IGZyb20gXCIuLi9wYWdpbmF0aW9uL1BhZ2VyXCI7XHJcbmltcG9ydCB7IElDb2x1bW4gfSBmcm9tIFwiLi8uLi9tb2RlbHMvSUNvbHVtblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRUZW1wbGF0ZVNlcnZpY2UgPFQ+IHtcclxuICAgIHByaXZhdGUgZGF0YTogVFtdO1xyXG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU8VD47XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkOiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JNYWluUm93OiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JEZXRhaWxzUm93OiBhbnk7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRnVuY3Rpb25Gb3JGb290ZXI6IGFueTtcclxuICAgIHByaXZhdGUgdGVtcGxhdGVGdW5jdGlvbkZvck1hbmFnZUNvbDogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ1N0b3JlOiBDb25maWdTdG9yZTxUPikge1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUgPSBjb25maWdTdG9yZTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRnVuY3Rpb25Gb3JHcmlkID0gR3JpZFRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvck1haW5Sb3cgPSBHcmlkTWFpblJvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckRldGFpbHNSb3cgPSBHcmlkRGV0YWlsc1Jvd1RlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckZvb3RlciA9IEdyaWRGb290ZXI7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sID0gTWFuYWdlQ29sdW1uVGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IERhdGEoKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBEYXRhTGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgR2V0Rmlyc3RUZW1wbGF0ZSA9IChkYXRhOiBUW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEluZGV4OiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0SW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICBjb25zdCBtYWluUm93QXJyYXkgPSB0aGlzLkdldFJvd3NIdG1sKGZpcnN0SW5kZXgsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGdW5jdGlvbkZvckdyaWQoe1xyXG4gICAgICAgICAgICBjb2x1bW5zOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgbWFpblJvd0FycmF5LFxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uRGF0YTogUGFnZXIuUGFnaW5hdGlvbkRhdGEsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgR2V0TWFuYWdlQ29sdW1uc0h0bWwgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZ1bmN0aW9uRm9yTWFuYWdlQ29sKHtjb2x1bW5zOiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1uc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRSb3dzSHRtbCA9IChmaXJzdEluZGV4OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKTogYW55W10gPT4ge1xyXG4gICAgICAgIGNvbnN0IG1haW5Sb3dBcnJheTogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucy5sZW5ndGggKyAxO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdEluZGV4OyBpIDw9IGxhc3RJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdzogVCA9IHRoaXMuZGF0YVtpXTtcclxuICAgICAgICAgICAgY29uc3QgbWFpblJvd0NvbEFycmF5OiBhbnlbXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiB0aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29sdW1ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtblZhbHVlID0gcm93W2NvbC5pZF07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sLnJlbmRlckh5YnJpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblZhbHVlID0gdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmh5YnJpZEZ1bmN0aW9uKGNvbCwgcm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1haW5Sb3dDb2xBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5WYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IGNvbC5oaWRkZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IHJvd1tjb2wuaWRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGNvbC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb2wuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyYWJsZTogY29sLmZpbHRlcmFibGUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYWluUm93QXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICByb3dEYXRhOiBKU09OLnN0cmluZ2lmeShyb3cpLFxyXG4gICAgICAgICAgICAgICAga2V5Q29sdW1uOiByb3dbdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmtleUNvbHVtbl0sXHJcbiAgICAgICAgICAgICAgICBtYWluUm93Q29sQXJyYXksXHJcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb2x1bW5zLmxlbmd0aCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYWluUm93QXJyYXk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9qcy9zZXJ2aWNlcy9HcmlkVGVtcGxhdGVTZXJ2aWNlLnRzIiwiY29uc3Qgc2VsZWN0ZWQgPSAoaW5wdXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXQgPT09IHZhbHVlID8gXCJzZWxlY3RlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlbGVjdGVkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL1NlbGVjdGVkLnRzIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiaGFuZGxlYmFyc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0ciBkYXRhLWhlYWRlci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy1oaWRkZW4tY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGhlbHBlcnNcXFxcQ2hlY2tlZC50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5oaWRkZW4gOiBkZXB0aDApLHtcIm5hbWVcIjpcIkNoZWNrZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJndWkgY2FyZCBvZi1oaWRkZW4gcC0xMCBtaW4tdy01MCB3LWF1dG8gZmx1aWQtaFxcXCIgPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtaGVhZGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCVcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG1pbmkgZmx1aWQgaWNvbiBpbnB1dFxcXCI+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJjb2wtc2V0dGluZ3MtZmlsdGVyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiU2VhcmNoIGZpbHRlci4uLlxcXCI+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcInNlYXJjaCBpY29uXFxcIj48L2k+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtLXQtMTBcXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJndWkgc2hvdy1hbGwtY29sdW1uXFxcIj5TaG93IEFsbDwvYT5cXHJcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwiZ3VpIGhpZGUtYWxsLWNvbHVtblxcXCI+SGlkZSBBbGw8L2E+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zZXR0aW5ncy10YWJsZSBndWkgb2YtYXV0byBwLTUgbS10LTEwXFxcIiA+XFxyXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcImd1aSBzbWFsbCB2ZXJ5IGJvcmRlci1sZXNzIGNvbXBhY3QgdGFibGVcXFwiPlxcclxcbiAgICAgICAgICAgIDx0Ym9keT5cXHJcXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb2x1bW5zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICA8L3RhYmxlPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9ncmlkLW1hbmFnZS1jb2x1bW5zLmhic1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBjaGVja2VkID0gKGJvb2w6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuICFib29sID8gXCJjaGVja2VkXCIgOiBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2hlY2tlZDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy9oYnMvaGVscGVycy9DaGVja2VkLnRzIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiaGFuZGxlYmFyc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXENvbHVtbi50c1wiKSkuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJDb2x1bW5cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG5cIjtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBpZD1cXFwiaGVhZGVyLVwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgZGF0YS1oZWFkZXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgc3ViIGhlYWRlclxcXCI+XCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCI8L3NwYW4+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29ydGFibGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDQsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XFxuXCI7XG59LFwiNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxoZWxwZXJzXFxcXE9yZGVyZWQudHNcIikpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAub3JkZXIgOiBkZXB0aDApLHtcIm5hbWVcIjpcIk9yZGVyZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KTtcblxuICByZXR1cm4gXCI8c3R5bGU+XFxuICAgIC5pbm5lci1jb250YWluZXIge1xcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIH1cXG5cXG4gICAgLnRhYmxlLWhlYWRlciB7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICB0b3A6MCAhaW1wb3J0YW50O1xcbiAgICB9XFxuXFxuICAgIC50YWJsZS1ib2R5IHtcXG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICAgICAgZmxleDogNTtcXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDE3cHg7XFxuICAgIH1cXG4gICAgLnRhYmxlLWZvb3RlcntcXG4gICAgICAgIGhlaWdodDogMzVweDtcXG4gICAgICAgIHBhZGRpbmc6IDVweDtcXG4gICAgfVxcbiAgICAudGFibGUtZm9vdGVyIC5mb290ZXItbWlkZGxle1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgfVxcbiAgICAudGFibGUtZm9vdGVyIC5mb290ZXItcmlnaHR7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICB9XFxuICAgIC5tYXJnaW4tYXV0b3tcXG4gICAgICAgIG1hcmdpbjogYXV0byAhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIC5yZW1vdmUtbGFiZWw6aG92ZXJ7XFxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgfVxcbiAgICAuYm9yZGVyLWxlc3MgdHIgdGQsLmJvcmRlci1sZXNzIHsgYm9yZGVyOiAwcHggIWltcG9ydGFudDsgfVxcbiAgICAuY3Vyc29yLXBvaW50ZXJ7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLnVpLnN1cGVyY29tcGFjdC5pY29uLmJ1dHRvbiwgLnVpLnN1cGVyY29tcGFjdC5pY29uLmJ1dHRvbnMgLmJ1dHRvbiB7XFxuICAgICAgICBwYWRkaW5nOiAuM2VtIC4zZW0gLjNlbSAuM2VtICFpbXBvcnRhbnQ7XFxuICAgIH1cXG48L3N0eWxlPlxcbjxkaXYgY2xhc3M9XFxcImlubmVyLWNvbnRhaW5lciBndWkgZmx1aWQgY29udGFpbmVyXFxcIiBzdHlsZT1cXFwicGFkZGluZzowJTtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1oZWFkZXJcXFwiPlxcbiAgICAgICAgPHRhYmxlIGlkPVxcXCJoZWFkZXJ0YWJsZVxcXCIgY2xhc3M9XFxcImd1aSBiYXNpYyBsYXJnZSBjb21wYWN0IGZpeGVkIHNlbGVjdGFibGUgc2luZ2xlIGxpbmUgdGFibGUgbWFpblRhYmxlXFxcIj5cXG4gICAgICAgICAgICA8Y29sZ3JvdXAgY2xhc3M9XFxcImhlYWRlckNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XFxcIndpZHRoOjQwcHg7XFxcIiAvPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29sdW1ucyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2NvbGdyb3VwPlxcbiAgICAgICAgICAgIDx0aGVhZD5cXG4gICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRoPjwvdGg+XFxuICAgICAgICAgICAgICAgICAgICA8dGg+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwic2VsZWN0LWFsbC1jaGVja2JveFxcXCI+PC90aD5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWJsZS1ib2R5XFxcIj5cXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIGJhc2ljIGxhcmdlIGNvbXBhY3QgZml4ZWQgc2VsZWN0YWJsZSBzaW5nbGUgbGluZSB0YWJsZSBtYWluVGFibGVcXFwiPlxcbiAgICAgICAgICAgIDxjb2xncm91cCBjbGFzcz1cXFwiYm9keUNvbEdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cXFwid2lkdGg6NDBweDtcXFwiIC8+IFxcbiAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVxcXCJ3aWR0aDo0MHB4O1xcXCIgLz5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbHVtbnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC9jb2xncm91cD5cXG4gICAgICAgICAgICA8dGJvZHkgY2xhc3M9XFxcIm1haW5UYWJsZUJvZHlcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEdyaWRvb1xcXFxzcmNcXFxcaGJzXFxcXGdyaWQtbWFpbi1yb3cuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJncmlkLW1haW4tcm93XCIsXCJkYXRhXCI6ZGF0YSxcImluZGVudFwiOlwiICAgICAgICAgICAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L3Rib2R5PlxcbiAgICAgICAgPC90YWJsZT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRhYmxlLWZvb3RlciBndWkgaC1hdXRvIGZsdWlkLXcgYmFzaWMgY3VydmVkIHJvdyBwLTUgbS0wXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxHcmlkb29cXFxcc3JjXFxcXGhic1xcXFxncmlkLWZvb3Rlci5oYnNcIiksZGVwdGgwLHtcIm5hbWVcIjpcImdyaWQtZm9vdGVyXCIsXCJkYXRhXCI6ZGF0YSxcImluZGVudFwiOlwiICAgICAgICAgICBcIixcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvZGl2PlxcbjwvZGl2PlwiO1xufSxcInVzZVBhcnRpYWxcIjp0cnVlLFwidXNlRGF0YVwiOnRydWV9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9oYnMvZ3JpZC5oYnNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgQ29sdW1uID0gKGNvbCk6IHN0cmluZyA9PiB7XHJcbiAgICBjb25zdCBjYWxjV2lkdGg6IG51bWJlciA9IGNvbC5oaWRkZW4gPyAwIDogY29sLndpZHRoO1xyXG4gICAgY29uc3QgZGF0YUF0dHJJZCA9ICdkYXRhLWhlYWRlci1pZD1cIicgKyBjb2wuaWQgKyAnXCInO1xyXG4gICAgcmV0dXJuICc8Y29sIHN0eWxlPVwid2lkdGggOiAnICsgY2FsY1dpZHRoICsgJ3B4O1wiJyArIGRhdGFBdHRySWQgKyBcIiAvPlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29sdW1uO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0NvbHVtbi50cyIsImltcG9ydCB7IE9yZGVyRGlyZWN0aW9uIH0gZnJvbSBcIi4uLy4uL2pzL21vZGVscy9PcmRlckRpcmVjdGlvblwiO1xyXG5cclxuY29uc3Qgb3JkZXJlZCA9IChvcmRlcjogT3JkZXJEaXJlY3Rpb24pOiBzdHJpbmcgPT4ge1xyXG4gICAgaWYgKG9yZGVyID09PSBPcmRlckRpcmVjdGlvbi5Bc2MpIHtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LXVwXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCI7XHJcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSBPcmRlckRpcmVjdGlvbi5EZXNjKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGkgY2xhc3M9XFxcImd1aSBndWktaWNvbiBndWktaWNvbi1hcnJvdy1kb3duXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgPjwvaT4gXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcIjxpIGNsYXNzPVxcXCJndWkgZ3VpLWljb24gZ3VpLWljb24tYXJyb3ctdXAgZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+IFwiICtcclxuICAgICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwiZ3VpIGd1aS1pY29uIGd1aS1pY29uLWFycm93LWRvd24gZ3VpLWhpZGRlblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiID48L2k+XCI7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBvcmRlcmVkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL09yZGVyZWQudHMiXSwic291cmNlUm9vdCI6IiJ9